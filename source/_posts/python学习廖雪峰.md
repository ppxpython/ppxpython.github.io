---
title: pythonå­¦ä¹ å»–é›ªå³°
abbrlink: 51739
date: 2022-01-05 11:47:31
tags:
---

[ä½¿ç”¨dictå’Œset - å»–é›ªå³°çš„å®˜æ–¹ç½‘ç«™ (liaoxuefeng.com)](https://www.liaoxuefeng.com/wiki/1016959663602400/1017104324028448)

ç”¨äºå­¦ä¹ è®°å½•ï¼ŒåæœŸä¾¿äºå¤ä¹ ï¼Œå‚è€ƒé“¾æ¥

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009102447-hmq8gs8.png)

python file

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009102545-qqmxrgo.png)

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009102644-7ny4t2k.png)

è°ƒç”¨è„šæœ¬æ—¶ä¼šå…ˆè½½å…¥pyhtonè§£é‡Šå™¨ï¼Œç„¶åè¿è¡Œè„šæœ¬

rpmï¼šè½¯ä»¶ç®¡ç†åŒ…

æ“ä½œç¬¦ä¼˜å…ˆçº§ï¼š![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009104337-b66ot2k.png)

æ¡ä»¶åˆ¤æ–­ï¼š

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009104751-a27qfzb.png)

Pythonä¸ºæˆ‘ä»¬æä¾›äº†éå¸¸å®Œå–„çš„åŸºç¡€ä»£ç åº“ï¼Œè¦†ç›–äº†ç½‘ç»œã€æ–‡ä»¶ã€GUIã€æ•°æ®åº“ã€æ–‡æœ¬ç­‰å¤§é‡å†…å®¹ï¼Œè¢«å½¢è±¡åœ°ç§°ä½œâ€œå†…ç½®ç”µæ± ï¼ˆbatteries includedï¼‰â€ã€‚ç”¨Pythonå¼€å‘ï¼Œè®¸å¤šåŠŸèƒ½ä¸å¿…ä»é›¶ç¼–å†™ï¼Œç›´æ¥ä½¿ç”¨ç°æˆçš„å³å¯ã€‚

è¯­è¨€å®šä½ï¼š

Pythonçš„å®šä½æ˜¯â€œä¼˜é›…â€ã€â€œæ˜ç¡®â€ã€â€œç®€å•â€

Pythonæ˜¯è§£é‡Šå‹è¯­è¨€

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211011172523-7k51l6e.png)

# python

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009110719-7urayjl.png)

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009111236-gd1mcju.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009111303-l3bqira.png)

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009113303-w7qziw5.png)

## æ•°æ®ç±»å‹

### int æ•´å‹

long inté•¿æ•´å‹

int æ•´å‹

### float æµ®ç‚¹å‹

æµ®ç‚¹æ•°ä¹Ÿå°±æ˜¯å°æ•°ï¼Œä¹‹æ‰€ä»¥ç§°ä¸ºæµ®ç‚¹æ•°ï¼Œæ˜¯å› ä¸ºæŒ‰ç…§ç§‘å­¦è®°æ•°æ³•è¡¨ç¤ºæ—¶

åŒç²¾åº¦æµ®ç‚¹å‹ e

æµ®ç‚¹å‹

### String å­—ç¬¦ä¸²

å­—ç¬¦ä¸²æ˜¯ä»¥å•å¼•å· `'`æˆ–åŒå¼•å· `"`æ‹¬èµ·æ¥çš„ä»»æ„æ–‡æœ¬

å­—ç¬¦ä¸²æ˜¯ä»¥Unicodeç¼–ç 

å¯¹äºå•ä¸ªå­—ç¬¦çš„ç¼–ç ï¼ŒPythonæä¾›äº† `ord()`å‡½æ•°è·å–å­—ç¬¦çš„æ•´æ•°è¡¨ç¤ºï¼Œ`chr()`å‡½æ•°æŠŠç¼–ç è½¬æ¢ä¸ºå¯¹åº”çš„å­—ç¬¦ï¼š

### Boolå¸ƒå°”

True

Flase

### None ç©ºå€¼

Noneï¼Œ`None`ä¸èƒ½ç†è§£ä¸º `0`ï¼Œå› ä¸º `0`æ˜¯æœ‰æ„ä¹‰çš„,

Nullæ— æ„ä¹‰

.

<iframe src="http://127.0.0.1:6806/widgets/brython-editor" data-src="http://127.0.0.1:6806/widgets/brython-editor" data-subtype="widget" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="width: 1341px; height: 276px;"></iframe>

### å˜é‡

å˜é‡çš„æ¦‚å¿µåŸºæœ¬ä¸Šå’Œåˆä¸­ä»£æ•°çš„æ–¹ç¨‹å˜é‡æ˜¯ä¸€è‡´çš„ï¼Œ

å˜é‡ä¸ä»…å¯ä»¥æ˜¯æ•°å­—ï¼Œè¿˜å¯ä»¥æ˜¯ä»»æ„æ•°æ®ç±»å‹ã€‚

å˜é‡åå¿…é¡»æ˜¯å¤§å°å†™è‹±æ–‡ã€æ•°å­—å’Œ `_`çš„ç»„åˆï¼Œä¸”ä¸èƒ½ç”¨æ•°å­—å¼€å¤´ï¼Œå­—æ¯æˆ–ä¸‹åˆ’çº¿å¼€å¤´

```python
#å˜é‡ç±»å‹
a=1
b='æˆ‘æ˜¯å˜é‡'
c=True
d=12.2e3
print(a,b,c,d)
print(type(a),type(b),type(c),type(d))

```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009134601-1cuacaj.png)

int a=1 é™æ€è¯­è¨€ æ­¤æ—¶å·²ç»åˆ†é…çš„intåˆ†åŒºä¹‹åä¸èƒ½æ›´æ”¹å˜é‡ç±»å‹ã€ä¸æ”¯æŒï¼ŒJavaã€‘

a=3 åŠ¨æ€è¯­è¨€ï¼Œå¯ä»¥èµ‹å€¼æˆä»»æ„ç±»å‹

#### åŠ¨æ€å®šä¹‰

#### é™æ€å®šä¹‰

```python
a = 'ABC'
b = a
a = 'XYZ'
print(b)
```

æ‰§è¡Œ `a = 'ABC'`ï¼Œè§£é‡Šå™¨åˆ›å»ºäº†å­—ç¬¦ä¸² `'ABC'`å’Œå˜é‡ `a`ï¼Œå¹¶æŠŠ `a`æŒ‡å‘ `'ABC'`ï¼š

![py-var-code-1](https://www.liaoxuefeng.com/files/attachments/923791878255456/0)

æ‰§è¡Œ `b = a`ï¼Œè§£é‡Šå™¨åˆ›å»ºäº†å˜é‡ `b`ï¼Œå¹¶æŠŠ `b`æŒ‡å‘ `a`æŒ‡å‘çš„å­—ç¬¦ä¸² `'ABC'`ï¼š

![py-var-code-2](https://www.liaoxuefeng.com/files/attachments/923792058613440/0)

æ‰§è¡Œ `a = 'XYZ'`ï¼Œè§£é‡Šå™¨åˆ›å»ºäº†å­—ç¬¦ä¸²'XYZ'ï¼Œå¹¶æŠŠ `a`çš„æŒ‡å‘æ”¹ä¸º `'XYZ'`ï¼Œä½† `b`å¹¶æ²¡æœ‰æ›´æ”¹ï¼š

![py-var-code-3](https://www.liaoxuefeng.com/files/attachments/923792191637760/0)

### å¸¸é‡

æ‰€è°“å¸¸é‡å°±æ˜¯ä¸èƒ½å˜çš„å˜é‡ï¼Œé€šå¸¸ç”¨å…¨éƒ¨å¤§å†™çš„å˜é‡åè¡¨ç¤ºå¸¸é‡ï¼š

```python
PI = 3.14159265359
```

## liståˆ—è¡¨

listæ˜¯ä¸€ç§æœ‰åºçš„é›†åˆï¼Œå¯ä»¥éšæ—¶æ·»åŠ å’Œåˆ é™¤å…¶ä¸­çš„å…ƒç´ ã€‚

```python
list=['a','b','c']
print(list)
print(len(list))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009154856-r9s5yyu.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009154907-bofhvvd.png)

### åˆ‡åˆ†

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009155126-p31z8um.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009155139-cpsoatf.png)

### appendï¼ˆï¼‰è¿½åŠ 

str.append('a')

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009155556-qrj4a63.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009155606-dxihfwr.png)

### insertæ’å…¥æŒ‡å®šä½ç½®

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009162557-186v350.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009162609-u00z8m3.png)

### popï¼ˆï¼‰åˆ é™¤æœ«å°¾å…ƒç´ 

è¦åˆ é™¤æŒ‡å®šä½ç½®çš„å…ƒç´ ï¼Œç”¨ `pop(i)`æ–¹æ³•ï¼Œå…¶ä¸­ `i`æ˜¯ç´¢å¼•ä½ç½®

æ›¿æ¢å…ƒç´ ç›´æ¥èµ‹å€¼å³å¯

åˆ—è¡¨å¯ä»¥åµŒå¥—

```python
 s = ['python', 'java', ['asp', 'php'], 'scheme']
```

ç±»å‹å¯ä»¥ä¸åŒ

```python
L = ['Apple', 123, True]
```

### åˆ‡ç‰‡

list[:-1]ä¸åŒ…å«æœ€åä¸€ä¸ªå…ƒç´ 

list[:]å…¨éƒ¨åˆ—è¡¨

list[::]å…¨éƒ¨åˆ—è¡¨

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012161203-1e12zsd.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012161212-0lrqjsm.png)

å‰10ä¸ªæ•°ï¼Œæ¯ä¸¤ä¸ªå–ä¸€ä¸ª

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012161428-r6muafj.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012161441-eoc8y55.png)

#### åˆ—è¡¨ç”Ÿæˆ

listï¼ˆrangeï¼ˆ1ï¼Œ11ï¼‰ï¼‰ç”Ÿæˆ10ä¸ªæ•°1-10

```python
print([m+n for m in '123' for n in 'yza'])
```

```python
k=[1,1,23,45,56,[1,12,3,467,[2,4,4,3,22]]]
print([x for x in k if x==1 ])
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012190810-l1qtxiv.png)

## tupleå…ƒç»„

tupleä¸€æ—¦åˆå§‹åŒ–å°±ä¸èƒ½ä¿®æ”¹

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009163638-1vpldee.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009163652-xkas3o0.png)

ä½†å…ƒç»„åˆå§‹åŒ–åå°±ä¸èƒ½è¿›è¡Œæ›´æ”¹äº†

```python
b=(1)
#å®šä¹‰çš„ä¸æ˜¯tupleï¼Œæ˜¯1è¿™ä¸ªæ•°ï¼
# è¿™æ˜¯å› ä¸ºæ‹¬å·()æ—¢å¯ä»¥è¡¨ç¤ºtupleï¼Œåˆå¯ä»¥è¡¨ç¤ºæ•°å­¦å…¬å¼ä¸­çš„å°æ‹¬å·ï¼Œ
# è¿™å°±äº§ç”Ÿäº†æ­§ä¹‰ï¼Œå› æ­¤ï¼ŒPythonè§„å®šï¼Œ
# è¿™ç§æƒ…å†µä¸‹ï¼ŒæŒ‰å°æ‹¬å·è¿›è¡Œè®¡ç®—ï¼Œè®¡ç®—ç»“æœè‡ªç„¶æ˜¯1
print(b)
print(type(b))
c=(1,)
print(c)
print(type(c))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009164221-xl1husx.png)

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009164244-780v78f.png)

## dictå­—å…¸

å…¶ä»–è¯­è¨€å«mapï¼Œä½¿ç”¨é”®-å€¼ï¼ˆkey-valueï¼‰å­˜å‚¨ï¼Œå…·æœ‰æå¿«çš„æŸ¥æ‰¾é€Ÿåº¦ã€‚dictçš„keyå¿…é¡»æ˜¯**ä¸å¯å˜å¯¹è±¡**ã€‚keyè®¡ç®—ä½ç½®çš„ç®—æ³•ç§°ä¸ºå“ˆå¸Œç®—æ³•ï¼ˆHashï¼‰ã€‚

### å®šä¹‰

```python
d={'name':'ruanyifen','age':60,'happy':'write'}
d['add']='Im add'
d['name']='fix'
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012135019-kqmsrcg.png)

### å–value

#### dict['key']

#### 'key' in dict

#### dict.get('key')

```python
print(type(d))
print(d['name'])
print('name' in d)#æ–¹æ³•ä¸€åˆ¤æ–­æ˜¯å¦æœ‰è¿™ä¸ªä¸»é”®åœ¨å­—å…¸dä¸­
print(d.get('name'))#æ–¹æ³•äºŒ å–
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012135119-sniqpw0.png)

### dict.pop('key')åˆ é™¤ä¸€ä¸ªkey

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012135429-m36ygpu.png)

### dict.keysè¿”å›å­—å…¸ä¸­æ‰€æœ‰keyåˆ—è¡¨

### dict.update()å°†aå­—å…¸æ–°keyï¼Œvalueå†…å®¹åŠ å…¥bå­—å…¸ä¸­

```bash
dicta={"name":'ruan','age':20}
dictb={"name":'ruan2','age':40,'add':'w shi add'}
dictb.update(dicta)
print(dictb)
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211101115242-qazr588.png)

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211101115348-bb0l147.png)

#### å†…å»ºå‡½æ•°ä½¿ç”¨

typeï¼ˆï¼‰

cmpï¼ˆï¼‰

lenï¼ˆï¼‰

hashï¼ˆï¼‰

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211101114202-rdvz2pt.png)

å†…å»ºcmpï¼ˆï¼‰å‡½æ•°æ¯”è¾ƒä¸¤ä¸ªdictæ—¶ï¼Œå…ˆæ¯”è¾ƒé•¿åº¦ï¼Œåæ¯”å€¼ï¼Œè¾“å‡º1æˆ–-1

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211101114401-h4f1qop.png)

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211101114644-qffksiw.png)

### dictç‰¹ç‚¹

dictæœ‰ä»¥ä¸‹å‡ ä¸ªç‰¹ç‚¹ï¼š

1. æŸ¥æ‰¾å’Œæ’å…¥çš„é€Ÿåº¦æå¿«ï¼Œä¸ä¼šéšç€keyçš„å¢åŠ è€Œå˜æ…¢ï¼›
2. éœ€è¦å ç”¨å¤§é‡çš„å†…å­˜ï¼Œå†…å­˜æµªè´¹å¤šã€‚

è€Œlistç›¸åï¼š

1. æŸ¥æ‰¾å’Œæ’å…¥çš„æ—¶é—´éšç€å…ƒç´ çš„å¢åŠ è€Œå¢åŠ ï¼›
2. å ç”¨ç©ºé—´å°ï¼Œæµªè´¹å†…å­˜å¾ˆå°‘ã€‚
   ![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211101115427-fu3s2zu.png)
   ![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211101115451-utxi9ct.png)

## seté›†åˆ

ä¹Ÿæ˜¯ä¸€ç»„keyçš„é›†åˆï¼Œä½†ä¸å­˜å‚¨valueã€‚ç”±äºkeyä¸èƒ½é‡å¤ï¼Œæ‰€ä»¥ï¼Œåœ¨setä¸­ï¼Œæ²¡æœ‰é‡å¤çš„keyã€‚

é‡å¤å…ƒç´ åœ¨setä¸­è‡ªåŠ¨è¢«è¿‡æ»¤

### å®šä¹‰

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012135934-u0n1j77.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012135953-sqa88s1.png)

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140114-5azj1sa.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140127-ledkv1s.png)

### set.add('key')æ·»åŠ å…ƒç´ 

ä½†é‡å¤å…ƒç´ ä¸æ·»åŠ ï¼Œè‡ªåŠ¨å»é‡

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140336-dwf2vgw.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140344-dzsshz2.png)

### set.remove('key')åˆ é™¤å…ƒç´ 

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140511-5f9cwm4.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140517-f6iolow.png)

setå¯ä»¥çœ‹æˆæ•°å­¦æ„ä¹‰ä¸Šçš„æ— åºå’Œæ— é‡å¤å…ƒç´ çš„é›†åˆï¼Œ

å› æ­¤ï¼Œä¸¤ä¸ªsetå¯ä»¥åšæ•°å­¦æ„ä¹‰ä¸Šçš„äº¤é›†ã€å¹¶é›†ç­‰æ“ä½œï¼š

### & ä¸¤ä¸ªsetäº¤é›†

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140903-1l3we66.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140912-8itf6ek.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211022170721-h5hmgxr.png)

### |ä¸¤ä¸ªsetå¹¶é›†

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140922-5bjlj5g.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140933-edbys90.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211022171729-b4k8xhd.png)

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211101115701-3dt5x4j.png)

### map()çš„æ˜¾ç¤º

æ‰“å°mapå¯¹è±¡å¯ä»¥çœ‹åˆ°mapå¯¹è±¡è¿”å›çš„æ˜¯ä¸€ä¸ªåœ°å€ï¼Œä¸æ˜¯çœŸå®çš„æ•°æ®

```python
print(list(mapå¯¹è±¡))
print([it for it in mapå¯¹è±¡])
```

## æ•°æ®ç±»å‹è½¬æ¢

### intï¼ˆï¼‰

### floatï¼ˆï¼‰

### strï¼ˆï¼‰

### boolï¼ˆï¼‰

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012142636-iblnu9y.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012142645-gb2u1fg.png)

## æ¡ä»¶åˆ¤æ–­

### if

if else

```python
a=100
if a>=0:
    print(a)
else:
    print(-a)
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009165335-jr8xtfq.png)

if

```python
if True:
    print('True')
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009165309-ymhiihv.png)

if elif elif else

```python
name='zhangsan'
if name=='zhangsan':
    print('æˆ‘æ˜¯',name)
elif name=='lisi':
    print('æˆ‘æ˜¯', name)
elif name=='wangwu':
    print('æˆ‘æ˜¯', name)
else:
    print('æˆ‘è°çš„ä¸æ˜¯')
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009165511-spws02g.png)

## inputï¼ˆï¼‰è¾“å…¥è¾“å‡º

input()è¿”å›çš„æ•°æ®ç±»å‹æ˜¯str

printï¼ˆï¼‰

## å¾ªç¯ è¿­ä»£

listï¼Œtupleï¼Œdictéƒ½å¯å¾ªç¯

Pythonçš„ `for`å¾ªç¯æœ¬è´¨ä¸Šå°±æ˜¯é€šè¿‡ä¸æ–­è°ƒç”¨ `next()`å‡½æ•°å®ç°çš„,è®¡ç®—æ˜¯æƒ°æ€§çš„

dictå¾ªç¯æŒ‰ç…§valueæ—¶ï¼šfor value in dict.values

```python
for value in d.values():
    print(value)
```

### for in

```python
sum=0
for i in range(1,100):
    sum=sum+i
print(sum)
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009172805-wrb6kr2.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009172805-wrb6kr2.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009172821-rdyglwd.png)

### while

```python
sum2=0
k=0
while(k<100):
    sum2=sum2+k
    k=k+1
print(sum2)
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009172821-rdyglwd.png)

### break

å¦‚æœè¦æå‰ç»“æŸå¾ªç¯ï¼Œå¯ä»¥ç”¨ `break`è¯­å¥

### continue

é€šè¿‡ `continue`è¯­å¥ï¼Œè·³è¿‡å½“å‰çš„è¿™æ¬¡å¾ªç¯ï¼Œç›´æ¥å¼€å§‹ä¸‹ä¸€æ¬¡å¾ªç¯

## ç”Ÿæˆå™¨

åœ¨Pythonä¸­ï¼Œè¿™ç§ä¸€è¾¹å¾ªç¯ä¸€è¾¹è®¡ç®—çš„æœºåˆ¶ï¼Œç§°ä¸ºç”Ÿæˆå™¨ï¼šgeneratorã€‚

åŒ…æ‹¬ç”Ÿæˆå™¨å’Œå¸¦ `yield`çš„generator functionã€‚

```python
 g = (x * x for x in range(10))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012191035-5wbqtm5.png)

è®¿é—®å¤§æ–‡ä»¶

yield

## isinstanceï¼ˆï¼‰è¿­ä»£å™¨

ç›´æ¥ä½œç”¨äº `for`å¾ªç¯çš„å¯¹è±¡ç»Ÿç§°ä¸ºå¯è¿­ä»£å¯¹è±¡ï¼Œéƒ½æ˜¯è¿­ä»£å™¨ Iterable

`list`ã€`tuple`ã€`dict`ã€`set`ã€`str`

`list`ã€`dict`ã€`str`è™½ç„¶æ˜¯ `Iterable`ï¼Œå´ä¸æ˜¯ `Iterator`ã€‚

`list`ã€`dict`ã€`str`ç­‰ `Iterable`å˜æˆ `Iterator`å¯ä»¥ä½¿ç”¨**iter()**å‡½æ•°

ä»¥ç›´æ¥ä½œç”¨äº `for`å¾ªç¯çš„æ•°æ®ç±»å‹æœ‰ä»¥ä¸‹å‡ ç§ï¼š

ä¸€ç±»æ˜¯é›†åˆæ•°æ®ç±»å‹ï¼Œå¦‚ `list`ã€`tuple`ã€`dict`ã€`set`ã€`str`ç­‰ï¼›

ä¸€ç±»æ˜¯ `generator`ï¼ŒåŒ…æ‹¬ç”Ÿæˆå™¨å’Œå¸¦ `yield`çš„generator functionã€‚

å¯ä»¥ä½¿ç”¨**isinstance()**åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯ `Iterable`å¯¹è±¡__iter__ï¼š

è¿­ä»£å¯¹è±¡

åˆ¤æ–­æ˜¯ä¸æ˜¯å¯ä»¥è¿­ä»£ï¼Œç”¨Iterable

```python
from collections import Iterable
isinstance({}, Iterable) --> True
isinstance((), Iterable) --> True
isinstance(100, Iterable) --> False
```

åˆ¤æ–­æ˜¯ä¸æ˜¯è¿­ä»£å™¨ï¼Œç”¨Iterator

```python
from collections import Iterator
isinstance({}, Iterator)  --> False
isinstance((), Iterator) --> False
isinstance( (x for x in range(10)), Iterator)  --> True
```

Pythonä¸­ listï¼Œtrupleï¼Œstrï¼Œdictè¿™äº›éƒ½å¯ä»¥è¢«è¿­ä»£ï¼Œä½†ä»–ä»¬å¹¶ä¸æ˜¯è¿­ä»£å™¨ï¼Œä¸ºä»€ä¹ˆï¼šï¼šå› ä¸ºå’Œè¿­ä»£å™¨ç›¸æ¯”æœ‰ä¸€ä¸ªå¾ˆå¤§çš„ä¸åŒï¼Œlist/truple/map/dictè¿™äº›æ•°æ®çš„å¤§å°æ˜¯ç¡®å®šçš„ï¼Œä¹Ÿå°±æ˜¯è¯´æœ‰å¤šå°‘äº‹å¯çŸ¥çš„ã€‚ä½†è¿­ä»£å™¨ä¸æ˜¯ï¼Œè¿­ä»£å™¨ä¸çŸ¥é“è¦æ‰§è¡Œå¤šå°‘æ¬¡ï¼Œæ‰€ä»¥å¯ä»¥ç†è§£ä¸ºä¸çŸ¥é“æœ‰å¤šå°‘ä¸ªå…ƒç´ ï¼Œæ¯è°ƒç”¨ä¸€æ¬¡next()ï¼Œå°±ä¼šå¾€ä¸‹èµ°ä¸€æ­¥ï¼Œæ˜¯æƒ°æ€§çš„ã€‚

## å‡½æ•°

æŠ½è±¡

å°†å‡½æ•°æŠ½è±¡æˆä¸€ä¸ªå‡½æ•°åç§°ï¼Œä¸çœ‹å†…éƒ¨ç»“æ„ç›´æ¥è°ƒç”¨æ–¹æ³•

è¿”å›ç±»å‹ å‡½æ•°åï¼ˆè¾“å…¥å‚æ•°ï¼‰ï¼š

å‡½æ•°ä½“

### è°ƒç”¨å‡½æ•°

è¦è°ƒç”¨ä¸€ä¸ªå‡½æ•°ï¼Œéœ€è¦çŸ¥é“å‡½æ•°çš„åç§°å’Œå‚æ•°

ç»å¯¹å€¼abs

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012142010-d503sa9.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012142024-cscdoiu.png)

### å®šä¹‰å‡½æ•°

```python
def myabs(x):
    if x>0:
        return x
    if x<0:
        return -x
print(myabs(-100))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012144653-0ds9bc4.png)

### ç©ºå‡½æ•°

```python
def nufun():
    pass
```

`pass`å¯ä»¥ç”¨æ¥ä½œä¸ºå ä½ç¬¦

### å‡½æ•° å‚æ•°æ£€æŸ¥

```python
def my_init_abs(x):
    if not isinstance(x,(int,float)):
        raise TypeError('no no no')
    else:
        if x>0:
            print(x)
        if x<0:
            print(-x)
my_init_abs(-90)
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012144640-6xnfm9s.png)

### å¯è¿”å›å¤šä¸ªå€¼ï¼Œå‡½æ•°

```python
def return_much():
    a='è¿”å›'
    b='æˆ‘ä¹Ÿè¿”å›'
    c='æˆ‘ä¹Ÿè¦è¿”å›'
    return a,b,c
print(return_much())
print(type(return_much()))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012144955-kyvotx4.png)

### å‡½æ•°å‚æ•°

***argsæ˜¯å¯å˜å‚æ•°ï¼Œargsæ¥æ”¶çš„æ˜¯ä¸€ä¸ªtupleï¼›**

****kwæ˜¯å…³é”®å­—å‚æ•°ï¼Œkwæ¥æ”¶çš„æ˜¯ä¸€ä¸ªdict**ã€‚

`power(x)`å‡½æ•°ï¼Œå‚æ•° `x`å°±æ˜¯ä¸€ä¸ªä½ç½®å‚æ•°ï¼Œå¯å•ä¸ªå˜é‡ï¼Œlistï¼Œsetï¼Œtuple

`power(*x)`å‡½æ•°ï¼Œå¯ä¼ å…¥å•ä¸ªå˜é‡ï¼Œlistï¼Œsetï¼Œtupleï¼Œå¯ä»¥ä¼ å…¥ä»»æ„ä¸ªå‚æ•°æˆ–0ä¸ªå‚æ•°

`power(**kw)`å‡½æ•°,å­—å…¸dict

å¯å˜å‚æ•°å…è®¸ä½ ä¼ å…¥0ä¸ªæˆ–ä»»æ„ä¸ªå‚æ•°ï¼Œè¿™äº›å¯å˜å‚æ•°åœ¨å‡½æ•°è°ƒç”¨æ—¶è‡ªåŠ¨ç»„è£…ä¸ºä¸€ä¸ªtupleã€‚

è€Œå…³é”®å­—å‚æ•°å…è®¸ä½ ä¼ å…¥0ä¸ªæˆ–ä»»æ„ä¸ªå«å‚æ•°åçš„å‚æ•°ï¼Œè¿™äº›å…³é”®å­—å‚æ•°åœ¨å‡½æ•°å†…éƒ¨è‡ªåŠ¨ç»„è£…ä¸ºä¸€ä¸ª**dict**.

`power(x, n)`ï¼Œç”¨æ¥è®¡ç®—x^n^

`power(x, n)`å‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°ï¼š`x`å’Œ `n`

é»˜è®¤å‚æ•°ï¼Œæ­¤æ—¶ageå’Œcityä¸ºé»˜è®¤å‚æ•°ï¼Œå¯ä¼ å€¼æ”¹å˜ä¹Ÿå¯ä¸å˜ã€ä¸ç”¨ä¼ å€¼ã€‘

`power(L=None)`å‡½æ•°æœ‰Noneè¿™ä¸ªä¸å˜å¯¹è±¡ï¼Œå¯ç”¨list

```python
def enroll(name, gender, age=6, city='Beijing'):
    print('name:', name)
    print('gender:', gender)
    print('age:', age)
    print('city:', city)
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012151610-9n1rxhq.png)

#### å¿…é€‰å‚æ•°

```python
def a1(x):
    return x
print(a1(2))
print(a1(12.1))
print(a1('ruan'))
print(a1(True))
print(a1([1,2,3]))
print(a1({1,2,3}))
print(a1({"key":"vleaue",'name':'ruan','mun':23}))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012153014-r27ykfm.png)

#### =é»˜è®¤å‚æ•°

```python
def a2(x=9):
    return x
print(a2())
print(a2(2))
print(a2(12.1))
print(a2('ruan'))
print(a2(True))
print(a2([1,2,3]))
print(a2({1,2,3}))
print(a2({"key":"vleaue",'name':'ruan','mun':23}))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012153014-r27ykfm.png)

#### *å¯å˜å‚æ•°

```python
def a3(*x):
    return x
print(a3())
print(a3(2))
print(a3(12.1))
print(a3('ruan'))
print(a3(True))
print(a3([1,2,3]))
print(a3({1,2,3}))
print(a3({"key":"vleaue",'name':'ruan','mun':23}))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012154346-2eahz0b.png)

#### **å…³é”®å­—å‚æ•°

```python
def a3(**kw):
    return kw
print(a3())
print(a3(kw=2))
print(a3(kw=12.1))
print(a3(kw='ruan'))
print(a3(kw=True))
print(a3(kw=[1,2,3]))
print(type(a3(kw=[1,2,3])))
print(a3(kw={1,2,3}))
print(type(a3(kw={1,2,3})))
print(a3(kw={"key":"vleaue",'name':'ruan','mun':23}))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012154409-tp9u2z5.png)

### é€’å½’å‡½æ•°

åœ¨å‡½æ•°å†…éƒ¨ï¼Œå¯ä»¥è°ƒç”¨å…¶ä»–å‡½æ•°ã€‚

ä¸€ä¸ªå‡½æ•°åœ¨**å†…éƒ¨è°ƒç”¨è‡ªèº«æœ¬èº«**ï¼Œè¿™ä¸ªå‡½æ•°å°±æ˜¯**é€’å½’å‡½æ•°**ã€‚

ä½¿ç”¨é€’å½’å‡½æ•°éœ€è¦**æ³¨æ„é˜²æ­¢æ ˆæº¢å‡º**

```python
#é€’å½’å‡½æ•°
def funmyself(x):
    if x>1:
        return x+funmyself(x-1)
    elif x==1:
        return 1
print(funmyself(3))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012155139-884p9as.png)

è§£å†³æ ˆæº¢å‡ºæ–¹æ³•ï¼š

**å°¾é€’å½’**ä¼˜åŒ–ï¼Œäº‹å®ä¸Šå°¾é€’å½’å’Œå¾ªç¯çš„æ•ˆæœæ˜¯ä¸€æ ·çš„

å°¾é€’å½’æ˜¯æŒ‡ï¼Œåœ¨å‡½æ•°è¿”å›çš„æ—¶å€™ï¼Œ**è°ƒç”¨è‡ªèº«**æœ¬èº«ï¼Œå¹¶ä¸”ï¼Œ**returnè¯­å¥ä¸èƒ½åŒ…å«è¡¨è¾¾å¼**

```python
#å°¾é€’å½’
def funmyself2(n):
    return  funmyself2_it(n,1)

def  funmyself2_it(n,pro):
    if n==1:
        return pro
    else:
        return funmyself2(n-1)+n
print(funmyself2(100))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012160333-tngb33o.png)

æ­¤æ—¶funmyself2æ˜¯å°¾é€’å½’å‡½æ•°

## è½¬ä¹‰å­—ç¬¦ `\`

è½¬ä¹‰å­—ç¬¦ `\`å¯ä»¥è½¬ä¹‰å¾ˆå¤šå­—ç¬¦ï¼Œæ¯”å¦‚

`\n`è¡¨ç¤ºæ¢è¡Œï¼Œ

`\t`è¡¨ç¤ºåˆ¶è¡¨ç¬¦ï¼Œ

å­—ç¬¦ `\`æœ¬èº«ä¹Ÿè¦è½¬ä¹‰ï¼Œæ‰€ä»¥ `\\`è¡¨ç¤ºçš„å­—ç¬¦å°±æ˜¯ `\`

Pythonè¿˜å…è®¸ç”¨ `r''`è¡¨ç¤º `''`å†…éƒ¨çš„å­—ç¬¦ä¸²é»˜è®¤ä¸è½¬ä¹‰

## è¿ç®—ç¬¦andã€orå’Œnot

è¿ç®—ä¼˜å…ˆçº§ï¼šnot>or>and

## é™¤æ³• / //

```python
print(10/3)
print(10//3)
```

#### é™¤æ³•ä¸€ / æµ®ç‚¹æ•°

#### é™¤æ³•äºŒ  //  åœ°æ¿é™¤ æ•´æ•°

`/`é™¤æ³•è®¡ç®—ç»“æœæ˜¯æµ®ç‚¹æ•°ï¼Œå³ä½¿æ˜¯ä¸¤ä¸ªæ•´æ•°æ°å¥½æ•´é™¤ï¼Œç»“æœä¹Ÿæ˜¯æµ®ç‚¹æ•°ï¼š

`//`ï¼Œç§°ä¸ºåœ°æ¿é™¤ï¼Œä¸¤ä¸ªæ•´æ•°çš„é™¤æ³•ä»ç„¶æ˜¯æ•´æ•°ï¼š

## å–ä½™ %

```python
print(10%1)
print(10%3)
print(4%7)
print(2%20)
#å¦‚æœa%b a>b åˆ™ç»“æœä¸ºa
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009141744-i2nxg58.png)

## å­—ç¬¦ç¼–ç 

`ASCII`ç¼–ç 

8ä¸ªæ¯”ç‰¹ï¼ˆbitï¼‰ä½œä¸ºä¸€ä¸ªå­—èŠ‚ï¼ˆbyteï¼‰

ä¸€ä¸ªå­—èŠ‚èƒ½è¡¨ç¤ºçš„æœ€å¤§çš„æ•´æ•°å°±æ˜¯255ï¼ˆäºŒè¿›åˆ¶11111111=åè¿›åˆ¶255ï¼‰

ä¸¤ä¸ªå­—èŠ‚å¯ä»¥è¡¨ç¤ºçš„æœ€å¤§æ•´æ•°æ˜¯ `65535`ï¼Œ4ä¸ªå­—èŠ‚å¯ä»¥è¡¨ç¤ºçš„æœ€å¤§æ•´æ•°æ˜¯ `4294967295`

å¤§å†™å­—æ¯ `A`çš„ç¼–ç æ˜¯ `65`ï¼ŒäºŒè¿›åˆ¶çš„ `01000001`ï¼Œå°å†™å­—æ¯ `z`çš„ç¼–ç æ˜¯ `122`

UnicodeæŠŠæ‰€æœ‰è¯­è¨€éƒ½ç»Ÿä¸€åˆ°ä¸€å¥—ç¼–ç é‡Œï¼Œè¿™æ ·å°±ä¸ä¼šå†æœ‰ä¹±ç é—®é¢˜

ASCIIç¼–ç æ˜¯1ä¸ªå­—èŠ‚ï¼Œè€ŒUnicodeç¼–ç é€šå¸¸æ˜¯2ä¸ªå­—èŠ‚

**ASCllå‡ºç°ä¹±ç é—®é¢˜å¼•å…¥Unicodeç¼–ç å­˜å‚¨ç©ºé—´å¤šäº†ä¸€å€å¼•å…¥UTF-8ç¼–ç **

utf-8ï¼šå°†**Unicodeå­—ç¬¦æ ¹æ®ä¸åŒçš„æ•°å­—å¤§å°ç¼–ç æˆ1-6ä¸ªå­—èŠ‚ï¼Œå¸¸ç”¨çš„è‹±æ–‡å­—æ¯è¢«ç¼–ç æˆ1ä¸ªå­—èŠ‚ï¼Œæ±‰å­—é€šå¸¸æ˜¯3ä¸ªå­—èŠ‚ï¼Œ**

| å­—ç¬¦ | ASCII    | Unicode           | UTF-8                      |
| ---- | -------- | ----------------- | -------------------------- |
| A    | 01000001 | 00000000 01000001 | 01000001                   |
| ä¸­   | x        | 01001110 00101101 | 11100100 10111000 10101101 |

åœ¨è®¡ç®—æœºå†…å­˜ä¸­ï¼Œç»Ÿä¸€ä½¿ç”¨Unicodeç¼–ç ï¼Œå½“éœ€è¦ä¿å­˜åˆ°ç¡¬ç›˜æˆ–è€…éœ€è¦ä¼ è¾“çš„æ—¶å€™ï¼Œå°±è½¬æ¢ä¸ºUTF-8ç¼–ç ã€‚

ç”¨è®°äº‹æœ¬ç¼–è¾‘çš„æ—¶å€™ï¼Œä»æ–‡ä»¶è¯»å–çš„UTF-8å­—ç¬¦è¢«è½¬æ¢ä¸ºUnicodeå­—ç¬¦åˆ°å†…å­˜é‡Œï¼Œç¼–è¾‘å®Œæˆåï¼Œä¿å­˜çš„æ—¶å€™å†æŠŠUnicodeè½¬æ¢ä¸ºUTF-8ä¿å­˜åˆ°æ–‡ä»¶

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009142650-uopgqob.png)

æµè§ˆç½‘é¡µçš„æ—¶å€™ï¼ŒæœåŠ¡å™¨ä¼šæŠŠåŠ¨æ€ç”Ÿæˆçš„Unicodeå†…å®¹è½¬æ¢ä¸ºUTF-8å†ä¼ è¾“åˆ°æµè§ˆå™¨ï¼š

![web-utf-8](https://www.liaoxuefeng.com/files/attachments/923923759189600/0)

#### compile() å­—ç¬¦ä¸²ç¼–è¯‘ä¸ºå­—èŠ‚ä»£ç 

#### ç¼–ç è½¬åŒ–

#### ord('A') å­—æ¯è½¬å­—ç¬¦

#### chr(65) å­—ç¬¦è½¬å­—æ¯

```python
a=ord('A')
b=chr(65)
print(a,b)
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009144810-rm45nsz.png)

#### b'str'è½¬ä¸ºå­—èŠ‚ç±»å‹bytes

`bytes`ç±»å‹çš„æ•°æ®ç”¨å¸¦ `b`å‰ç¼€çš„å•å¼•å·æˆ–åŒå¼•å·è¡¨ç¤º

```python
x = b'ABC'
```

è¦æ³¨æ„åŒºåˆ† `'ABC'`å’Œ `b'ABC'`ï¼Œå‰è€…æ˜¯ `str`ï¼Œåè€…è™½ç„¶å†…å®¹æ˜¾ç¤ºå¾—å’Œå‰è€…ä¸€æ ·ï¼Œä½† `bytes`çš„æ¯ä¸ªå­—ç¬¦éƒ½åªå ç”¨ä¸€ä¸ªå­—èŠ‚ã€‚

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009145112-3dmegln.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009150224-kn57ioe.png)

#### str.encode('ascii') `str` å˜ä¸º `bytes `

`ASCII`

`UTF-8`

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009150118-wy36xea.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009150204-81jvyjd.png)

#### str.decode('utf-8')`bytes`å˜ä¸º `str`

```python
print(type(b'abc'))
print(b'abc'.decode('utf-8'))
print(type(b'abc'.decode('utf-8')))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009150844-zvt6jkv.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009150746-31uq63m.png)

lenï¼ˆstrï¼‰è®¡ç®—å­—ç¬¦æ•°

å‡½æ•°è®¡ç®—çš„æ˜¯ `str`çš„å­—ç¬¦æ•°ï¼Œå¦‚æœæ¢æˆ `bytes`ï¼Œ`len()`å‡½æ•°å°±è®¡ç®—å­—èŠ‚æ•°

```python
print(len('abc'))
print(len(b'abc'))
print(len('ä¸­'))
print(len('ä¸­'.encode('utf-8')))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009151234-rhao6fv.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009151321-6k73tn8.png)

## ç‰¹æ®Šæ³¨é‡Š

```python
#!/usr/bin/env python3
# -*- coding: utf-8 -*-
```

ç¬¬ä¸€è¡Œæ³¨é‡Šæ˜¯ä¸ºäº†å‘Šè¯‰Linux/OS Xç³»ç»Ÿï¼Œè¿™æ˜¯ä¸€ä¸ªPythonå¯æ‰§è¡Œç¨‹åºï¼Œ**Windowsç³»ç»Ÿä¼šå¿½ç•¥è¿™ä¸ªæ³¨é‡Š**ï¼›

ç¬¬äºŒè¡Œæ³¨é‡Šæ˜¯ä¸ºäº†å‘Šè¯‰Pythonè§£é‡Šå™¨ï¼Œ**æŒ‰ç…§UTF-8ç¼–ç è¯»å–æºä»£ç **ï¼Œå¦åˆ™ï¼Œä½ åœ¨æºä»£ç ä¸­å†™çš„ä¸­æ–‡è¾“å‡ºå¯èƒ½ä¼šæœ‰ä¹±ç ã€‚

## å ä½ç¬¦ æ ¼å¼åŒ–

### å ä½ç¬¦%s %d %f

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009152324-rmac8lz.png)

æ ¼å¼åŒ–æ–¹å¼å’ŒCè¯­è¨€æ˜¯ä¸€è‡´

` %`è¿ç®—ç¬¦å°±æ˜¯ç”¨æ¥æ ¼å¼åŒ–å­—ç¬¦ä¸²çš„ã€‚

åœ¨å­—ç¬¦ä¸²å†…éƒ¨ï¼Œ

`%s`è¡¨ç¤ºç”¨å­—ç¬¦ä¸²æ›¿æ¢ï¼Œ

`%d`è¡¨ç¤ºç”¨æ•´æ•°æ›¿æ¢ï¼Œ

æœ‰å‡ ä¸ª `%?`å ä½ç¬¦ï¼Œåé¢å°±è·Ÿå‡ ä¸ªå˜é‡æˆ–è€…å€¼ï¼Œé¡ºåºè¦å¯¹åº”å¥½ã€‚å¦‚æœåªæœ‰ä¸€ä¸ª `%?`ï¼Œæ‹¬å·å¯ä»¥çœç•¥

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009152708-zy7vi8x.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009152722-wq5flos.png)

| å ä½ç¬¦ | æ›¿æ¢å†…å®¹     |
| ------ | ------------ |
| %d     | æ•´æ•°         |
| %f     | æµ®ç‚¹æ•°       |
| %s     | å­—ç¬¦ä¸²       |
| %x     | åå…­è¿›åˆ¶æ•´æ•° |

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009153422-r1s8f5z.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009153433-1uhb1w3.png)

è½¬ä¹‰ï¼š`%%`æ¥è¡¨ç¤ºä¸€ä¸ª `%`

### formatï¼ˆï¼‰æ ¼å¼åŒ–å­—ç¬¦ä¸²

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009154141-a3v7tnj.png)

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009154153-o6u9yd7.png)

### f-string æ ¼å¼åŒ–å­—ç¬¦ä¸²

`{r}`è¢«å˜é‡ `r`çš„å€¼æ›¿æ¢ï¼Œ`{s:.2f}`è¢«å˜é‡ `s`çš„å€¼æ›¿æ¢ï¼Œå¹¶ä¸” `:`åé¢çš„ `.2f`æŒ‡å®šäº†æ ¼å¼åŒ–å‚æ•°ï¼ˆå³ä¿ç•™ä¸¤ä½å°æ•°ï¼‰ï¼Œå› æ­¤ï¼Œ`{s:.2f}`çš„æ›¿æ¢ç»“æœæ˜¯ `19.62`

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009154406-qahm3f7.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009154432-m2z0xx5.png)

## å‡½æ•°å¼ç¼–ç¨‹

å‡½æ•°æ˜¯Pythonå†…å»ºæ”¯æŒçš„ä¸€ç§å°è£…ï¼Œé€šè¿‡å±‚å±‚å‡½æ•°è¿›è¡Œè°ƒç”¨

#é¢å‘è¿‡ç¨‹çš„ç¨‹åºè®¾è®¡#ï¼šæŠŠå¤æ‚ä»»åŠ¡åˆ†è§£æˆç®€å•çš„ä»»åŠ¡ï¼Œè¿™ç§åˆ†è§£å¯ä»¥ç§°ä¹‹ä¸ºé¢å‘è¿‡ç¨‹çš„ç¨‹åºè®¾è®¡

å‡½æ•°å¼å’Œå‡½æ•°çš„åŒºåˆ«ï¼š

å¯¹æ¯”ä¾‹å­ï¼šè®¡ç®—å’Œè®¡ç®—å™¨çš„åŒºåˆ«

ç¼–ç¨‹è¯­è¨€ï¼Œå°±æ˜¯è¶Šä½çº§çš„è¯­è¨€ï¼Œè¶Šè´´è¿‘è®¡ç®—æœºï¼ŒæŠ½è±¡ç¨‹åº¦ä½ï¼Œæ‰§è¡Œæ•ˆç‡é«˜ï¼Œæ¯”å¦‚Cè¯­è¨€ï¼›è¶Šé«˜çº§çš„è¯­è¨€ï¼Œè¶Šè´´è¿‘è®¡ç®—ï¼ŒæŠ½è±¡ç¨‹åº¦é«˜ï¼Œæ‰§è¡Œæ•ˆç‡ä½ï¼Œæ¯”å¦‚Lispè¯­è¨€

Pythonä¸æ˜¯çº¯å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€

å‡½æ•°å¼ç¼–ç¨‹å°±æ˜¯ä¸€ç§æŠ½è±¡ç¨‹åº¦å¾ˆé«˜çš„ç¼–ç¨‹èŒƒå¼ï¼Œ

çº¯ç²¹çš„å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€ç¼–å†™çš„**å‡½æ•°æ²¡æœ‰å˜é‡**ï¼Œå› æ­¤ï¼Œä»»æ„ä¸€ä¸ªå‡½æ•°ï¼Œ**åªè¦è¾“å…¥æ˜¯ç¡®å®šçš„ï¼Œè¾“å‡ºå°±æ˜¯ç¡®å®šçš„**

### å‡½æ•°å¼ç¼–ç¨‹ç‰¹ç‚¹ï¼š

1. çº¯å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€å‡½æ•°æ²¡æœ‰å˜é‡ï¼Œè¾“å…¥è¾“å‡ºç¡®å®š
2. å…è®¸æœ¬èº«ä½œä¸ºå‚æ•°ä¼ å…¥å¦ä¸€ä¸ªå‡½æ•°ï¼Œå…è®¸è¿”å›ä¸€ä¸ªå‡½æ•°

## é«˜é˜¶å‡½æ•°

å‚æ•°ä¸­æœ‰å‡½æ•°

é«˜é˜¶å‡½æ•°é™¤äº†å¯ä»¥æ¥å—å‡½æ•°ä½œä¸ºå‚æ•°å¤–ï¼Œè¿˜å¯ä»¥æŠŠå‡½æ•°ä½œä¸ºç»“æœå€¼è¿”å›

### å˜é‡å¯ä»¥æŒ‡å‘å‡½æ•°

a=å‡½æ•°

æ±‚ç»å¯¹å€¼çš„å‡½æ•° `abs()`ä¸ºä¾‹

```python
print(abs(-10))
print(abs)
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211019114343-h6egecv.png)

absï¼ˆ-10ï¼‰æ˜¯å‡½æ•°è°ƒç”¨ï¼Œabsæ˜¯å‡½æ•°æœ¬èº«

```python
k=abs(-20)
print(k)
#å‡½æ•°æœ¬èº«ä¹Ÿå¯ä»¥èµ‹å€¼ç»™å˜é‡
h=abs
print(h)
print(h(-100))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211019114757-z778j3c.png)

ç»“è®ºï¼šå‡½æ•°æœ¬èº«ä¹Ÿå¯ä»¥èµ‹å€¼ç»™å˜é‡ï¼Œå³ï¼š#å˜é‡å¯ä»¥æŒ‡å‘å‡½æ•°ã€‚#

### å‡½æ•°åä¹Ÿæ˜¯å˜é‡

#å‡½æ•°å#ï¼š**å…¶å®å°±æ˜¯æŒ‡å‘å‡½æ•°çš„å˜é‡**

a()ä¸­aæ˜¯æŒ‡å‘å‡½æ•°aï¼ˆï¼‰çš„å˜é‡

### ä¼ å…¥å‡½æ•°

æ—¢ç„¶å˜é‡å¯ä»¥æŒ‡å‘å‡½æ•°ï¼Œå‡½æ•°çš„å‚æ•°èƒ½æ¥æ”¶å˜é‡ï¼Œé‚£ä¹ˆä¸€ä¸ªå‡½æ•°å°±å¯ä»¥æ¥æ”¶å¦ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¿™ç§å‡½æ•°å°±ç§°ä¹‹ä¸ºé«˜é˜¶å‡½æ•°ã€‚

#é«˜é˜¶å‡½æ•°#ï¼š**ä¸€ä¸ªå‡½æ•°å°±å¯ä»¥æ¥æ”¶å¦ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°**

b()

a(b)

x=a

```python
def f(x):
    return abs(int(x))
def a(a,b,f):
    return f(a)+f(b)
if __name__ == '__main__':
    a1=input('a')
    a2=input('b')
    print(a(a1,a2,f))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211019115835-q2esytb.png)

æ­¤æ—¶å‡½æ•°aä¸ºé«˜é˜¶å‡½æ•°ï¼Œéœ€è¦è°ƒç”¨få‡½æ•°ä½œä¸ºå‚æ•°

## map/reduce å†…å»ºå‡½æ•°

å†…å»ºäº† `map()`å’Œ `reduce()`å‡½æ•° é«˜é˜¶å‡½æ•°

### mapï¼ˆï¼‰å‡½æ•°å¤„ç†ç”Ÿæˆæ–°Iteratorè¿­ä»£å™¨

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211019131933-ut47b16.png)ä¸¤ä¸ªå‚æ•°ï¼Œå‡½æ•°åã€å‡½æ•°æœ¬èº«ã€‘ï¼Œéœ€è¦å¤„ç†çš„ç¼–ç¨‹å¼iterator

`<br />`åˆ›å»ºä¸€ä¸ªè¿­ä»£å™¨ï¼Œä½¿ç”¨æ¯ä¸ªè¿­ä»£å™¨ä¸­çš„å‚æ•°è®¡ç®—å‡½æ•°ã€‚å½“æœ€çŸ­è¿­ä»£ç”¨å°½æ—¶åœæ­¢ã€‚

```python
 map(func, *iterables) --> map object
```

```python
def f(x):
    return x*x
r=map(f,[1,2,3,4,4,4,4,4,4,4,4])
print(r)
print(type(r))
print(list(r))
print(type(list(r)))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211019133740-kxaifya.png)

è¿ç®—è§„åˆ™æŠ½è±¡

### reduceï¼ˆï¼‰å‡½æ•°ä½œç”¨åœ¨åºåˆ—ä¸Š

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211019142951-sxqvxp4.png)

ä¸¤ä¸ªå‚æ•°ï¼Œå‡½æ•°åã€å‡½æ•°æœ¬èº«ã€‘ï¼Œéœ€è¦å¤„ç†çš„#åºåˆ—#ï¼š sequence(åºåˆ—)æ˜¯ä¸€ç»„æœ‰é¡ºåºçš„å…ƒç´ çš„é›†åˆ

åºåˆ—åŸºæœ¬æ ·å¼[ä¸‹é™:ä¸Šé™:æ­¥é•¿]

`reduce`æŠŠç»“æœç»§ç»­å’Œåºåˆ—çš„ä¸‹ä¸€ä¸ªå…ƒç´ åšç´¯ç§¯è®¡ç®—

```python
reduce(f, [x1, x2, x3, x4]) = f(f(f(x1, x2), x3), x4)
```

```python
from functools import reduce
>>> def fn(x, y):
...     return x * 10 + y
...
>>> reduce(fn, [1, 3, 5, 7, 9])
13579
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211019142820-4tlrn7x.png)

## filter()è¿‡æ»¤åºåˆ—

å‚æ•°å’Œmapï¼ˆï¼‰ç›¸ä¼¼

`filter()`ä¹Ÿæ¥æ”¶ä¸€ä¸ªå‡½æ•°å’Œä¸€ä¸ªåºåˆ—

## sortedï¼ˆï¼‰æ’åº

é«˜é˜¶å‡½æ•°![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211020184319-dzvm55o.png)

å‚æ•°ï¼šæ’åºå¯¹è±¡ï¼Œkey=å‡½æ•°

```bash
sorted([36, 5, -12, 9, -21], key=abs)
```

æ’åºçš„æ ¸å¿ƒæ˜¯æ¯”è¾ƒä¸¤ä¸ªå…ƒç´ çš„å¤§å°

```bash
print(sorted([1,2,353,6,3,234,43,435]))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211020184421-43dcfax.png)

keyæŒ‡å®šç»å¯¹å€¼å¤§å°æ’åº

```bash
print(sorted([1,2,353,6,3,234,43,435,-242,-34,34,35],key=abs))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211020184629-q7j7zxx.png)

## è¿”å›å‡½æ•°

### å‡½æ•°ä½œä¸ºè¿”å›å€¼

é«˜é˜¶å‡½æ•°é™¤äº†å¯ä»¥æ¥å—å‡½æ•°ä½œä¸ºå‚æ•°å¤–ï¼Œè¿˜å¯ä»¥æŠŠå‡½æ•°ä½œä¸ºç»“æœå€¼è¿”å›

```bash
# å¦‚æœä¸éœ€è¦ç«‹åˆ»æ±‚å’Œï¼Œè€Œæ˜¯åœ¨åé¢çš„ä»£ç ä¸­ï¼Œ
# æ ¹æ®éœ€è¦å†è®¡ç®—æ€ä¹ˆåŠï¼Ÿå¯ä»¥ä¸è¿”å›æ±‚å’Œçš„ç»“æœï¼Œè€Œæ˜¯è¿”å›æ±‚å’Œçš„å‡½æ•°ï¼š
def zary_sum(a):
    def sum():
        sum1=0
        for i in a:
            sum1=sum1+i
        return sum1
    return sum
print(type(zary_sum([1,2,3,4])))
f=zary_sum([1,2,3,4])
print(f())
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211021100621-oot0dd6.png)

è°ƒç”¨è¿”å›å‡½æ•°æ—¶ï¼Œæ¯æ¬¡è°ƒç”¨éƒ½ä¼šæ–°ç”Ÿæˆä¸€ä¸ªå‡½æ•°

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211021100747-ho01xzp.png)

## é—­åŒ…

å½“ä¸€ä¸ªå‡½æ•°çš„è¿”å›å€¼æ˜¯å¦å¤–ä¸€ä¸ªå‡½æ•°ï¼Œ

è€Œè¿”å›çš„é‚£ä¸ªå‡½æ•°å¦‚æœè°ƒç”¨äº†å…¶çˆ¶å‡½æ•°å†…éƒ¨çš„å…¶å®ƒå˜é‡ï¼Œå¦‚æœ **è¿”å›çš„è¿™ä¸ªå‡½æ•°åœ¨å¤–éƒ¨è¢«æ‰§è¡Œï¼Œå°±äº§ç”Ÿäº†é—­åŒ…** ã€‚

**è¿”å›å‡½æ•°ä¸­ï¼Œè¿”å›çš„å‡½æ•°è°ƒç”¨çˆ¶å‡½æ•°çš„å†…éƒ¨å˜é‡**

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211021100950-gl5liu8.png)

```bash
#è¿”å›å‡½æ•°
def count():
    fs=[]
    for i in range(1,4):
        def f():
            return i*i
        fs.append(f)
    return fs
f1,f2,f3=count()
print(f1(),f2(),f3())
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211021103727-wtd0kdc.png)

è¿”å›ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œç‰¢è®°è¯¥å‡½æ•°å¹¶æœªæ‰§è¡Œï¼Œè¿”å›å‡½æ•°ä¸­ä¸è¦å¼•ç”¨ä»»ä½•å¯èƒ½ä¼šå˜åŒ–çš„å˜é‡ã€‚

## lambdaï¼ˆï¼‰åŒ¿åå‡½æ•°

lambdaå…³é”®å­— å‡½æ•°å‚æ•°ï¼šå‡½æ•°è¡¨è¾¾å¼

ä¼ å…¥å‡½æ•°æ—¶ï¼Œæœ‰äº›æ—¶å€™ï¼Œä¸éœ€è¦æ˜¾å¼åœ°å®šä¹‰å‡½æ•°

Pythonå¯¹åŒ¿åå‡½æ•°çš„æ”¯æŒæœ‰é™ï¼Œåªæœ‰ä¸€äº›ç®€å•çš„æƒ…å†µä¸‹å¯ä»¥ä½¿ç”¨åŒ¿åå‡½æ•°ã€‚

```bash
lambda x:x*x
#ç­‰ä»·äº
def f(x):
   return x*x
```

å…³é”®å­— `lambda`è¡¨ç¤ºåŒ¿åå‡½æ•°ï¼Œå†’å·å‰é¢çš„ `x`è¡¨ç¤ºå‡½æ•°å‚æ•°ï¼Œåªèƒ½ä¸€ä¸ªè¡¨è¾¾å¼

ä¸ç”¨å†™ `return`ï¼Œè¿”å›å€¼å°±æ˜¯è¯¥è¡¨è¾¾å¼çš„ç»“æœã€‚

åŒ¿åå‡½æ•°ä¹Ÿæ˜¯ä¸€ä¸ªå‡½æ•°å¯¹è±¡

```bash
f=lamdba x:x*x
```

åˆ¤æ–­å¥‡æ•°å‡½æ•°

åŸå‡½æ•°ï¼š

```bash
def is_odd(n):
    return n % 2 == 1

L = list(filter(is_odd, range(1, 20)))
```

é‡‡ç”¨åŒ¿åå‡½æ•°ä¿®æ”¹

```bash
l=list(filter(lambda x:x%2==1,range(1,20)))
print(l)
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211021143505-wbqh836.png)

## è£…é¥°å™¨ Decorator

### æœ¬è´¨ä¸Šï¼Œè£…é¥°å™¨å°±æ˜¯ä¸€ä¸ªè¿”å›å‡½æ•°çš„é«˜é˜¶å‡½æ•°

@log ç­‰ä»·äº

```bash
now = log(now)
```

ç”±äºå‡½æ•°ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œä¸”å‡½æ•°å¯¹è±¡å¯ä»¥è¢«èµ‹å€¼ç»™å˜é‡ï¼Œ

æ‰€ä»¥ï¼Œé€šè¿‡å˜é‡ä¹Ÿèƒ½è°ƒç”¨è¯¥å‡½æ•°

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211022101101-ncgju0i.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211022101111-tgdwt0q.png)

```bash
def log(func):
    def wrapper(*args,**kwargs):
        print('call %s'% func.__name__)
        return func(*args,**kwargs)
    return wrapper()
#funcä¸ºå‚æ•°æ‰€ä»¥æ˜¯é«˜é˜¶å‡½æ•°
#return å‡½æ•°æ‰€ä»¥æ˜¯è¿”å›å‡½æ•°ï¼Œ
#æ²¡æœ‰è°ƒç”¨çˆ¶å‡½æ•°ä¸­å‚æ•°ï¼Œæ‰€ä»¥ä¸æ˜¯é—­åŒ…
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211022110733-h27x1zh.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211022110058-zyo7xpn.png)

åœºæ™¯æ³¨æ„ï¼š

æ— @è£…é¥°å™¨æ—¶å‡½æ•°ä¸è°ƒç”¨ï¼Œéœ€è¦å‚æ•°æ‰è°ƒç”¨

å½“@æ—¶ä¼šç›´æ¥è°ƒç”¨è£…é¥°å™¨å®šä¹‰å‡½æ•°ç„¶åæ‰§è¡Œå‡½æ•°ï¼Œä¸ç”¨è°ƒç”¨å‡½æ•°

ä¸‰å±‚æ—¶ï¼Œä¼ å…¥å‚æ•°

```bash
def log1(text):
    def decorator(func):
        def wapper(*args,**kw):
            print('%s %s'%(text,func.__name__))
            return func(*args,**kw)
        return wapper
    return decorator
@log1('ruan')
def now3():
    print("hhh")
now3()
```

ç›¸å½“äºåœ¨è¿”å›é«˜é˜¶å‡½æ•°ä¸Šè¿˜æœ‰ä¸€ä¸ªå‡½æ•°ï¼Œæ‰€ä»¥è¿”å›æ—¶åº”è¯¥è¿˜è¦è°ƒç”¨ä¸€æ¬¡

## @wraps å¸¸ç”¨è£…é¥°å™¨

å½“è£…é¥°å™¨æ˜¯ä¸ªé—­åŒ…æ—¶ï¼Œè£…é¥°å™¨è°ƒç”¨å˜é‡ä¼šæ”¹å˜å¢åŠ @wrapsåè£…é¥°å™¨å†…çš„å˜é‡ä¸å˜

è£…é¥°å™¨åœ¨è£…é¥°ä¸€ä¸ªå‡½æ•°æ—¶,ï¼ŒåŸå‡½æ•°å°±æˆäº†ä¸€ä¸ªæ–°çš„å‡½æ•°,ä¹Ÿ

å°±æ˜¯è¯´å…¶å±æ€§ä¼šå‘ç”Ÿå˜åŒ–,æ‰€ä»¥ä¸ºäº† **ä¸æ”¹å˜åŸå‡½æ•°çš„å±æ€§** ,

æˆ‘ä»¬ä¼šè°ƒç”¨functoolsä¸­çš„wrapsè£…é¥°å™¨æ¥ä¿è¯åŸå‡½æ•°çš„å±æ€§ä¸å˜

#### ä¸åŠ wrapsæ—¶

```bash
  @wraps(func)
```

```bash
from functools import wraps
def wrap(func):
   
    def b():
        'b'
        print('decorator:',b.__name__)
        print('funname',func.__name__)
        func()
    return b
@wrap
def a():
    'a'
    print('name',a.__name__)
a()
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211022115935-kgsz7b2.png)

åŠ è£…é¥°å™¨wrapsæ—¶

```bash
from functools import wraps
def wrap(func):
    @wraps(func)
    def b():
        'b'
        print('decorator:',b.__name__)
        print('funname',func.__name__)
        func()
    return b
@wrap
def a():
    'a'
    print('name',a.__name__)
a()
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211022115950-2j3i7ht.png)

é—­åŒ…çš„æ¦‚å¿µï¼šè°ƒç”¨çˆ¶å‡½æ•°ä¸­çš„å˜é‡çš„å‡½æ•°ï¼Œä¸ºäº†ä¿è¯æ•°æ®å®‰å…¨ã€‚å˜é‡ä½œç”¨åŸŸåªåœ¨å‡½æ•°å†…éƒ¨ï¼Œå¯åœ¨é—­åŒ…ä¸­æ“ä½œæ•°æ®ã€‚

è£…é¥°å™¨è¿”å›ä¸ºä»€ä¹ˆæ˜¯å‡½æ•°åï¼ˆå‡½æ•°å†…å­˜åœ°å€ï¼‰è€Œä¸ç›´æ¥æ‰§è¡Œå‡½æ•°?

å½“æœ‰å‚æ•°ä¼ å…¥æ—¶ï¼Œå¯ç›´æ¥ä¸è°ƒç”¨çš„å‡½æ•°ä¸­çš„å€¼ä¼ å…¥å‚æ•°æ‰§è¡Œã€‚

ï¼ˆï¼‰æ˜¯è¿ç®—ç¬¦f()ä¸f.__call__()ç­‰ä»·ï¼šå°†få¯¹è±¡å˜æˆå˜æˆå¯è°ƒç”¨çš„å¯¹è±¡

## åå‡½æ•°ï¼ˆfunctoolsæ¨¡å—ï¼‰

å±äºfunctoolsæ¨¡å—

### ä½œç”¨ï¼š

é€šè¿‡è®¾å®šå‚æ•°çš„é»˜è®¤å€¼ï¼Œé™ä½å‡½æ•°è°ƒç”¨çš„å‚æ•°

`int()`å‡½æ•°é»˜è®¤æŒ‰åè¿›åˆ¶è½¬æ¢

print(int('100',base=8))

ç»å¸¸è°ƒç”¨äºæ˜¯é‡å†™ä¸€ä¸ªå‡½æ•°int2

```bash
def int2(x, base=8):
    print(int(x, base))
    return int(x, base)
print(int2('2334'))
```

é‡‡ç”¨åå‡½æ•°

```bash
import functools
int3=functools.partial(int,base=8)
print(int3('46'))
print(int())
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211028103219-mdbldp6.png)

functools.partialçš„ä½œç”¨æ˜¯å°†å‡½æ•°çš„ç‰¹å®šå‚æ•°å›ºå®šä½ï¼ˆè®¾å®šä¸ºé»˜è®¤å€¼ï¼‰

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211028103645-7po81oc.png)

åˆ›å»ºåå‡½æ•°çš„æ—¶å€™ä¹Ÿå¯ä»¥æ¥æ”¶ï¼Œå‡½æ•°å¯¹è±¡ï¼Œ*argsï¼Œ**kw

## æ¨¡å—

pythonåŒ…ï¼šä½œç”¨åŒºåˆ†ç›¸åŒåç§°çš„æ¨¡å—

æ¨¡å—ç›¸å½“äºä¸€ä¸ªpyæ–‡ä»¶

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211028105055-2xv0z2i.png)

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211028105133-tkzgcka.png)

## ä½œç”¨åŸŸ

ä»…ä»…åœ¨æ¨¡å—å†…éƒ¨ä½¿ç”¨ã€‚åœ¨Pythonä¸­ï¼Œæ˜¯é€šè¿‡ `_`å‰ç¼€æ¥å®ç°çš„ã€‚

### pubilcå…¬å¼€

æ­£å¸¸çš„å‡½æ•°å’Œå˜é‡åæ˜¯å…¬å¼€çš„ï¼ˆpublicï¼‰

### privateéå…¬å¼€_,__

_xxxå’Œ__xxxè¿™æ ·çš„å‡½æ•°æˆ–å˜é‡å°±æ˜¯éå…¬å¼€çš„ï¼ˆprivateï¼‰

## å®‰è£…ç¬¬ä¸‰æ–¹æ¨¡å—pip

pip install æ¨¡å—å

### æ¨¡å—æœç´¢è·¯å¾„

```bash
import sys
print(sys.path)
```

ä¸¤ç§æ–¹å¼ï¼š

1. æ·»åŠ æœç´¢è·¯å¾„
   ```bash
    import sys
   sys.path.append('/Users/michael/my_py_scripts')
   ```
2. è®¾ç½®ç¯å¢ƒå˜é‡

ç¬¬äºŒç§æ–¹æ³•æ˜¯è®¾ç½®ç¯å¢ƒå˜é‡ `PYTHONPATH`

## é¢å‘å¯¹è±¡ç¼–ç¨‹

é¢å‘å¯¹è±¡ç¼–ç¨‹â€”â€”Object Oriented Programmingï¼Œç®€ç§°OOPï¼Œæ˜¯ä¸€ç§ç¨‹åºè®¾è®¡æ€æƒ³

å¯¹è±¡ä½œä¸ºç¨‹åºçš„åŸºæœ¬å•å…ƒï¼Œ

ä¸€ä¸ªå¯¹è±¡åŒ…å«äº†æ•°æ®å’Œæ“ä½œæ•°æ®çš„å‡½æ•°

æ•°æ®å°è£…ã€ç»§æ‰¿å’Œå¤šæ€æ˜¯é¢å‘å¯¹è±¡çš„ä¸‰å¤§ç‰¹ç‚¹

## ç±»å’Œå®ä¾‹

é¢å‘å¯¹è±¡æœ€é‡è¦çš„æ¦‚å¿µå°±æ˜¯ç±»ï¼ˆClassï¼‰å’Œå®ä¾‹ï¼ˆInstanceï¼‰

ç±»æ˜¯æŠ½è±¡å‡ºæ¥çš„æ¨¡æ¿

å®ä¾‹æ˜¯æ ¹æ®ç±»åˆ›å»ºå‡ºçš„å¯¹è±¡ï¼Œæ¯ä¸ªå¯¹è±¡å¯èƒ½æœ‰å±æ€§å’Œæ–¹æ³•

å®šä¹‰ç±»æ˜¯é€šè¿‡ `class`å…³é”®å­—ï¼Œç±»åé€šå¸¸æ˜¯å¤§å†™å¼€å¤´çš„å•è¯

```bash
class Student(object):
    pass
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211028113324-1nch2o5.png)

ï¼ï¼ï¼åœ¨ç±»ä¸­å®šä¹‰å‡½æ•°æœ‰ä¸€ç‚¹ä¸åŒï¼Œå®šä¹‰ä½›å¦‚æ–¹æ³•ç¬¬ä¸€ä¸ªå‚æ•°æ°¸è¿œæ˜¯å®ä¾‹å˜é‡æœ¬èº«self

ä»ç„¶å¯ä»¥ç”¨é»˜è®¤å‚æ•°ã€å¯å˜å‚æ•°ã€å…³é”®å­—å‚æ•°å’Œå‘½åå…³é”®å­—å‚æ•°

## æ•°æ®å°è£…

```bash
class Student(object):
    def __init__(self, name, score):
        self.name = name
        self.score = score

    def get_grade(self):
        if self.score >= 90:
            return 'A'
        elif self.score >= 60:
            return 'B'
        else:
            return 'C'
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211028113713-vhhvowi.png)

## è®¿é—®é™åˆ¶

### ä½œç”¨ï¼š

**ç¡®ä¿äº†å¤–éƒ¨ä»£ç ä¸èƒ½éšæ„ä¿®æ”¹å¯¹è±¡å†…éƒ¨çš„çŠ¶æ€**

å®ä¾‹çš„å˜é‡åå¦‚æœä»¥ `__`å¼€å¤´ï¼Œå°±å˜æˆäº†ä¸€ä¸ªç§æœ‰å˜é‡ï¼ˆprivateï¼‰

å¤–éƒ¨æ— æ³•è®¿é—®_name

```bash
class Student(object):
    def __init__(self,name,age):
        self._name=name
        self.age=age
    def print_name(self):
        print(self._name)
        return self.age,self._name
a=Student('ruan',23)
h=a.print_name()
print(h)
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211028114732-awu2k2m.png)

è‹¥æ˜¯è¦è·å–ï¼Œä¿®æ”¹å˜é‡å¢åŠ getï¼Œsetæ–¹å¼å³å¯

```bash
class Student(object):
    def __init__(self,name,age):
        self._name=name
        self.age=age 
    def get_name(self):
        return self.name
    def set_name(self,name):
        self._name=name
```

Pythonæœ¬èº«æ²¡æœ‰ä»»ä½•æœºåˆ¶é˜»æ­¢ä½ å¹²åäº‹ï¼Œä¸€åˆ‡å…¨é è‡ªè§‰ã€‚

ç±»å¤–éƒ¨æ— æ³•è®¿é—®

## ç»§æ‰¿å’Œå¤šæ€

### ç»§æ‰¿

#### å¤šæ€

åœ¨ç»§æ‰¿å…³ç³»ä¸­ï¼Œå¦‚æœä¸€ä¸ªå®ä¾‹çš„æ•°æ®ç±»å‹æ˜¯æŸä¸ªå­ç±»ï¼Œé‚£å®ƒçš„æ•°æ®ç±»å‹ä¹Ÿå¯ä»¥è¢«çœ‹åšæ˜¯çˆ¶ç±»ã€‚

æ¯”å¦‚ï¼šåŠ¨ç‰©æ˜¯çˆ¶ç±»ï¼Œç‹—å’Œé±¼æ˜¯å­ç±»ï¼›é±¼æ˜¯é±¼ç±»ï¼Œé±¼æ˜¯åŠ¨ç‰©éƒ½æˆç«‹ã€‚

åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯å¦æ˜¯æŸä¸ªç±»å‹å¯ä»¥ç”¨ `isinstance()`åˆ¤æ–­

### é¸­å­ç±»å‹

å¹¶ä¸è¦æ±‚ä¸¥æ ¼çš„ç»§æ‰¿ä½“ï¼Œä¸€ä¸ªå¯¹è±¡åªè¦â€œçœ‹èµ·æ¥åƒé¸­å­ï¼Œèµ°èµ·è·¯æ¥åƒé¸­å­â€ï¼Œé‚£å®ƒå°±å¯ä»¥è¢«çœ‹åšæ˜¯é¸­å­ã€‚

## è·å–å¯¹è±¡ä¿¡æ¯

### typeï¼ˆï¼‰åˆ¤æ–­å¯¹è±¡ç±»å‹

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211102183643-gwgjuho.png)

### isinstance()å¯¹äºç»§æ‰¿å…³ç³»ï¼Œåˆ¤æ–­classçš„ç±»å‹

### dirï¼ˆï¼‰è·å–å¯¹è±¡çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•

#### lenï¼ˆï¼‰å¯¹è±¡é•¿åº¦

#### lowerï¼ˆï¼‰è¿”å›å°å†™çš„å­—ç¬¦ä¸²

#### getattrï¼ˆï¼‰è·å–å±æ€§a

#### setattrï¼ˆï¼‰è®¾ç½®å±æ€§a

#### hasattrï¼ˆobj,'a'ï¼‰åˆ¤æ–­æ˜¯å¦æœ‰å±æ€§a

```bash
getattr(obj, 'z', 404) # è·å–å±æ€§'z'ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œè¿”å›é»˜è®¤å€¼404
404
```

## å®ä¾‹å±æ€§å’Œç±»å±æ€§

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211102184822-83nvy25.png)

```bash
 class Student(object):
    name='ruan'
   
h=Student()
h.name='hhh'

```

ç±»ä¸­çš„nameæ˜¯ç±»å±æ€§ï¼Œ

åˆ›å»ºhç±»å¯¹è±¡å³å®ä¾‹åèµ‹å€¼çš„æ˜¯å®ä¾‹å±æ€§nameï¼Œä½†ç”±äºå®ä¾‹å¯¹è±¡çš„ä¼˜å…ˆçº§æ¯”ç±»å±æ€§é«˜ï¼Œä¼šå±è”½ç±»ä¸­çš„nameå±æ€§ï¼Œå³h.nameçš„å€¼ä¸ºhhh

### æ€»ç»“ï¼š

1. å®ä¾‹å±æ€§å±äºå„ä¸ªå®ä¾‹æ‰€æœ‰ï¼Œäº’ä¸å¹²æ‰°ï¼›
2. ç±»å±æ€§å±äºç±»æ‰€æœ‰ï¼Œæ‰€æœ‰å®ä¾‹å…±äº«ä¸€ä¸ªå±æ€§ï¼›
3. ä¸è¦å¯¹å®ä¾‹å±æ€§å’Œç±»å±æ€§ä½¿ç”¨ç›¸åŒçš„åå­—ï¼Œå¦åˆ™å°†äº§ç”Ÿéš¾ä»¥å‘ç°çš„é”™è¯¯

# é¢å‘å¯¹è±¡é«˜çº§ç¼–ç¨‹

æ•°æ®å°è£…ã€ç»§æ‰¿å’Œå¤šæ€åªæ˜¯é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ä¸­æœ€åŸºç¡€çš„3ä¸ªæ¦‚å¿µ

å¤šé‡ç»§æ‰¿ã€å®šåˆ¶ç±»ã€å…ƒç±»

# _slots_ä½¿ç”¨

å¯ä»¥ç»™åˆ›å»ºçš„å®ä¾‹ç»‘å®šå±æ€§å’Œæ–¹æ³•

ç»™ä¸€ä¸ªå®ä¾‹ç»‘å®šçš„æ–¹æ³•å¯¹å¦å¤–ä¸€ä¸ªå®ä¾‹å¯¹è±¡æ˜¯ä¸èµ·ä½œç”¨çš„

```bash
class A:
    def run(self):
        print("i im ferther runing....")
sun1=A()
#ç»™å®ä¾‹sun1è®¾ç½®nameå±æ€§
sun1.name='i im name'
#åˆ›å»ºå®ä¾‹å¯¹è±¡2
sun2=A()
#å®ä¾‹å¯¹è±¡sun1çš„å±æ€§å’Œsun2æ— å…³ï¼Œå³sun2æ²¡æœ‰nameå±æ€§
#ç»™å®ä¾‹sun1ç»‘å®šæ–¹æ³•ï¼Œæ–¹æ³•å’Œå±æ€§åŒç†
#å®šä¹‰æ–¹æ³•
def setAll(self,num):
    print(num)
sun1.newfun=MethodType(setAll, sun1)
sun1.newfun(37)
#è‹¥æ‰€æœ‰å®ä¾‹éƒ½éœ€è¦ç»‘å®šæ–¹æ³•åˆ™ç»™ç±»ç»‘å®šæ–¹æ³•
A.setAll=setAll
#ç»™ç±»ç»‘å®šæ–¹æ³•åï¼Œæ‰€æœ‰åˆ›å»ºçš„å®ä¾‹çš„å‡å¯è°ƒç”¨
```

```
def set_age(self, age): # å®šä¹‰ä¸€ä¸ªå‡½æ•°ä½œä¸ºå®ä¾‹æ–¹æ³•
...     self.age = age
...
>>> from types import MethodType
>>> s.set_age = MethodType(set_age, s) # ç»™å®ä¾‹ç»‘å®šä¸€ä¸ªæ–¹æ³•
>>> s.set_age(25) # è°ƒç”¨å®ä¾‹æ–¹æ³•
```

## é™åˆ¶å®ä¾‹å±æ€§ï¼Œå®šä¹‰ä¸€ä¸ªç‰¹æ®Šçš„ `__slots__`å˜é‡

```python
class Student(object):
    __slots__ = ('name', 'age') # ç”¨tupleå®šä¹‰å…è®¸ç»‘å®šçš„å±æ€§åç§°
s=Student()
s.name='ruan'
s.firstname='i im firstname'
#è¾“å‡ºçš„æ—¶å€™firstnameçš„å±æ€§ä¼šæŠ¥é”™ï¼Œ
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
AttributeError: 'Student' object has no attribute 'firstaname'
```

### æ³¨æ„ï¼š

_slots_ä½¿ç”¨æ—¶è¦æ³¨æ„ï¼Œå®šä¹‰çš„å±æ€§åªåœ¨å½“å‰çš„ç±»çš„å®ä¾‹ä¸­ï¼Œå¯¹äºç»§æ‰¿çš„å­ç±»æ˜¯ä¸èµ·ä½œç”¨çš„

```python
class People(object):
    __slots__ = ('name','age')
    def run(self):
        print('i im run people......')

class Teacher(People):
    def say(self):
        print('i im teacher....')
t=Teacher()
t.tall='shouhua'
print(t.tall)
p=People()
p.tall('shouhuap')
print(p.tall)
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211103140608-7ezqmvs.png)

åªé™åˆ¶çˆ¶ç±»Peopleçš„å±æ€§ï¼Œè€Œå­ç±»Teacherä¸­ä¸é™åˆ¶

## @property

åœ¨ç»‘å®šå±æ€§æ—¶ï¼Œå¦‚æœæˆ‘ä»¬ç›´æ¥æŠŠå±æ€§æš´éœ²å‡ºå»,å¯¼è‡´å¯ä»¥éšæ„æ›´æ”¹.é€šè¿‡getï¼Œsetæ¥è·å–æ›´æ”¹å±æ€§å€¼ã€‚

åœ¨pythonä¸­ç›´æ¥è°ƒç”¨è£…é¥°å™¨å°†ä¸€ä¸ªæ–¹æ³•å˜æˆå±æ€§è°ƒç”¨

```python
class Student(object):
    @property
    #ä½¿ç”¨getæ–¹æ³•æ˜¯è°ƒç”¨è£…é¥°å™¨@peopertyï¼Œ
    # åŒæ—¶è‡ªåŠ¨åˆ›å»ºäº†å¦ä¸€ä¸ªè£…é¥°å™¨@å±æ€§.setter
    def score(self):
        return self.score
    @score.setter
    def score(self,value):
        self._score=value
```

## æ€»ç»“ï¼š

-æƒé™é™åˆ¶åªå¯¹ç±»å¯¹è±¡å®é™…èµ·ä½œç”¨ï¼Œæƒ³è¦è¾¾åˆ°æ–¹æ³•å’Œå±æ€§å¼ºåˆ¶è®¿é—®æƒé™ï¼Œéœ€è¦ä½¿ç”¨@propertyè£…é¥°å™¨è¿›è¡Œgetï¼Œsetæ–¹æ³•

å±æ€§åä¸æ–¹æ³•åä¸€å®šè¦åŒºåˆ†å¼€ï¼Œä¸ç„¶ä¼šè¿›å…¥æ­»å¾ªç¯ï¼ˆself._ageï¼Œdef age()ï¼‰
å®ä¾‹åŒ–çš„å¯¹è±¡ä½¿ç”¨å±æ€§æ—¶ï¼Œä¸æ˜¯è°ƒç”¨å±æ€§ï¼ˆmeizi._ageï¼‰ï¼Œè€Œæ˜¯ç”¨çš„æ–¹æ³•åï¼ˆmeizi.ageï¼‰
@propertyå…¶å®å°±æ˜¯å®ç°äº†getteråŠŸèƒ½ï¼› @xxx.setterå®ç°çš„æ˜¯setteråŠŸèƒ½ï¼›è¿˜æœ‰ä¸€ä¸ª @xxx.deleterå®ç°åˆ é™¤åŠŸèƒ½
å®šä¹‰æ–¹æ³•çš„æ—¶å€™ @propertyå¿…é¡»åœ¨ @xxx.setterä¹‹å‰ï¼Œä¸”äºŒè€…ä¿®é¥°çš„æ–¹æ³•åç›¸åŒï¼ˆage()ï¼‰
å¦‚æœåªå®ç°äº† @propertyï¼ˆè€Œæ²¡æœ‰å®ç°@xxx.setterï¼‰ï¼Œé‚£ä¹ˆè¯¥å±æ€§ä¸º åªè¯»å±æ€§

```python
#è¯·åˆ©ç”¨@propertyç»™ä¸€ä¸ªScreenå¯¹è±¡åŠ ä¸Šwidthå’Œheightå±æ€§ï¼Œ
# ä»¥åŠä¸€ä¸ªåªè¯»å±æ€§resolutionï¼š
class Screen(object):
    __slots__ = ('_width','_height','_resolution')

    @property
    def width(self):
        return self._width

    # æ–¹æ³•åç§°å’Œå®ä¾‹å˜é‡å‡ä¸ºwidth:
    @width.setter
    def width(self,widthValue):
        self._width=widthValue

    @property
    def height(self):
        return self._height

    @width.setter
    def height(self, height):
        self._height = height

    @property
    def resolution(self):
        return self._width * self._height
s=Screen()
s.width=23
s.height=12

print(s.resolution)
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211103150647-dge6za2.png)

```python
s.score = 60 # OKï¼Œå®é™…è½¬åŒ–ä¸ºs.set_score(60)
s.score # OKï¼Œå®é™…è½¬åŒ–ä¸ºs.get_score()
```

è¦ç‰¹åˆ«æ³¨æ„ï¼šå±æ€§çš„æ–¹æ³•åä¸è¦å’Œå®ä¾‹å˜é‡é‡åã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹çš„ä»£ç æ˜¯é”™è¯¯çš„ï¼š

```
class Student(object):

    # æ–¹æ³•åç§°å’Œå®ä¾‹å˜é‡å‡ä¸ºbirth:
    @property
    def birth(self):
        return self.birth
```

å‡ºç°é€’å½’è°ƒç”¨é”™è¯¯

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211103151046-5z499ew.png)

ä¹‹å‰çš„ä¾‹å­ä¸­widthå’Œ_widthä¸åŒæ‰€ä»¥å¯ä»¥è¿è¡Œ

## å¤šé‡ç»§æ‰¿

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211103151750-dvwa7qb.png)

pythonå¯ä»¥æ”¯æŒå¤šç»§æ‰¿ï¼Œå³ä¸€ä¸ªå­ç±»å¯ä»¥ç»§æ‰¿å¤šä¸ªçˆ¶ç±»ï¼›ä½†javaæ˜¯å•ç»§æ‰¿ï¼Œåªèƒ½æœ‰ä¸€ä¸ªçˆ¶ç±»

Tercherï¼ˆNameï¼Œstudyï¼Œteachï¼‰å³Teacherå¯ä»¥ç»§æ‰¿å¤šä¸ªçˆ¶ç±»

### MixIn

åœ¨è®¾è®¡ç±»çš„ç»§æ‰¿å…³ç³»æ—¶ï¼Œé€šå¸¸ï¼Œä¸»çº¿éƒ½æ˜¯å•ä¸€ç»§æ‰¿ä¸‹æ¥çš„ï¼Œä¾‹å¦‚ï¼Œ`Teacher`ç»§æ‰¿è‡ªNameã€‚ä½†æ˜¯ï¼Œå¦‚æœéœ€è¦â€œæ··å…¥â€é¢å¤–çš„åŠŸèƒ½ï¼Œé€šè¿‡å¤šé‡ç»§æ‰¿å°±å¯ä»¥å®ç°ï¼Œæ¯”å¦‚Teacheré™¤äº†ç»§æ‰¿è‡ª `Name`å¤–ï¼Œå†åŒæ—¶ç»§æ‰¿ `Teach`ã€‚è¿™ç§è®¾è®¡é€šå¸¸ç§°ä¹‹ä¸ºMixIn

Pythonè‡ªå¸¦äº† `TCPServer`å’Œ `UDPServer`è¿™ä¸¤ç±»ç½‘ç»œæœåŠ¡ï¼Œè€Œè¦åŒæ—¶æœåŠ¡å¤šä¸ªç”¨æˆ·å°±å¿…é¡»ä½¿ç”¨å¤šè¿›ç¨‹æˆ–å¤šçº¿ç¨‹æ¨¡å‹ï¼Œè¿™ä¸¤ç§æ¨¡å‹ç”± `ForkingMixIn`å’Œ `ThreadingMixIn`æä¾›ã€‚

### å¤šç»§æ‰¿

å¤šé‡ç»§æ‰¿è¿™ä¸ªåè¯ä¸€èˆ¬ç”¨æ¥å½¢å®¹ç»§æ‰¿é“¾æ¡å¯ä»¥å¾ˆé•¿ï¼Œå¤šä¸ªå±‚æ¬¡ã€‚

### å¤šé‡ç»§æ‰¿

**å¤šç»§æ‰¿åˆ™æŒ‡ä¸€ä¸ªç±»å¯ä»¥æœ‰å¤šä¸ªåŸºç±»ï¼Œç›¸ååˆ™æ˜¯å•ç»§æ‰¿**ã€‚ä»»ä½•é¢å‘å¯¹è±¡ç¼–ç¨‹è¯­è¨€éƒ½æ”¯æŒå¤šé‡ç»§æ‰¿ï¼Œä½†åƒjavaè¿™ç§åªèƒ½é€šè¿‡æ¥å£å®ç°æœ‰é™ç¨‹åº¦çš„å¤šç»§æ‰¿

é—®ï¼šå¤šç»§æ‰¿ å¦‚æœå¤šä¸ªç±»æœ‰å…±åŒå¾—æ–¹æ³•å æ€ä¹ˆåŒºåˆ†æ˜¯è°ƒå¾—å“ªä¸ªç±»ğŸ¤¡

ç­”ï¼šè°ƒç”¨è¯¥æ–¹æ³•çš„æ—¶å€™ï¼Œä¼šè°ƒç”¨ç¬¬ä¸€é¡ºä½ç»§æ‰¿çˆ¶ç±»çš„æ–¹æ³•

### æ€»ç»“ï¼š

1. Pythonå…è®¸ä½¿ç”¨å¤šé‡ç»§æ‰¿ï¼Œå› æ­¤ï¼ŒMixInå°±æ˜¯ä¸€ç§å¸¸è§çš„è®¾è®¡
2. åªå…è®¸å•ä¸€ç»§æ‰¿çš„è¯­è¨€ï¼ˆå¦‚Javaï¼‰ä¸èƒ½ä½¿ç”¨MixInçš„è®¾è®¡

## å®šåˆ¶ç±»

Pythonçš„classä¸­è¿˜æœ‰__xxx__æœ‰ç‰¹æ®Šç”¨é€”çš„å‡½æ•°ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬å®šåˆ¶ç±»

### __str__()å›ç”¨æˆ·çœ‹åˆ°çš„å­—ç¬¦ä¸²

å°†å¯¹è±¡ `<__main__.Student object at 0x109afb190>`å˜æˆæ˜“è¯»çš„æ•°æ®

åªåœ¨è°ƒç”¨printæ—¶ä¼šè°ƒç”¨__str__ï¼Œäº¤äº’ç•Œé¢æ—¶è¿˜æ˜¯ç°å®ä¸Šæ–¹ä¸æ˜“è¯»çš„å¯¹è±¡å†…å®¹ï¼Œæ­¤æ—¶ç”¨

### __repr__()è¿”å›ç¨‹åºå¼€å‘è€…çœ‹åˆ°çš„å­—ç¬¦ä¸²

`__str__()`è¿”å›ç”¨æˆ·çœ‹åˆ°çš„å­—ç¬¦ä¸²ï¼Œè€Œ `__repr__()`è¿”å›ç¨‹åºå¼€å‘è€…çœ‹åˆ°çš„å­—ç¬¦ä¸²ï¼Œ

ä¹Ÿå°±æ˜¯è¯´ï¼Œ`__repr__()`æ˜¯ä¸ºè°ƒè¯•æœåŠ¡çš„

ç®€å†™

```python
def __str__(self):
        return 'xxx object (name=%s)' % self.name
__repr__ = __str__
```

### ___iter__()è¿”å›ä¸€ä¸ªè¿­ä»£å¯¹è±¡

éœ€è¦ç”¨åˆ°for inè¿­ä»£ï¼Œéœ€è¦è½¬åŒ–ä¸ºè¿­ä»£å¯¹è±¡

è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªè¿­ä»£å¯¹è±¡ï¼Œç„¶åï¼ŒPythonçš„forå¾ªç¯å°±ä¼šä¸æ–­è°ƒç”¨è¯¥è¿­ä»£å¯¹è±¡çš„ `__next__()`æ–¹æ³•æ‹¿åˆ°å¾ªç¯çš„ä¸‹ä¸€ä¸ªå€¼ï¼Œç›´åˆ°é‡åˆ° `StopIteration`é”™è¯¯æ—¶é€€å‡ºå¾ªç¯

ä¾‹å­ï¼š

```python
class Fib(object):
    def __init__(self):
        self.a,self.b=0,1
    def __iter__(self):
        return self
    def __next__(self):
        self.a,self.b=self.b,self.a+self.b
        if self.a>1000:
            raise  StopIteration
        return self.a
a=Fib()
for i in a:
    print(i)
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211103155046-1xs33i9.png)

### __**getitem**__()è¡¨ç°å¾—åƒlisté‚£æ ·æŒ‰ç…§ä¸‹æ ‡å–å‡ºå…ƒç´ 

```python
class Fib(object):
    def __init__(self):
        self.a,self.b=0,1
    def __iter__(self):
        return self
    def __next__(self):
        self.a,self.b=self.b,self.a+self.b
        if self.a>1000:
            raise  StopIteration
        return self.a
    def __getitem__(self, item):
        a,b=1,1
        for i in range(item):
            a,b=b,a+b
        return a
a=Fib()
print(a[3])

```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211103155122-fo5pjxz.png)

ä»¥ä¸Šæ˜¯ä¼ å…¥intï¼Œåˆ‡ç‰‡åŠŸèƒ½å®ç°ï¼Œisinstanceåˆ¤æ–­ç±»å‹

```python
class Fib(object):
    def __init__(self):
        self.a,self.b=0,1
    def __iter__(self):
        return self
    def __next__(self):
        self.a,self.b=self.b,self.a+self.b
        if self.a>1000:
            raise  StopIteration
        return self.a
    def __getitem__(self, item):
        if isinstance(item,int):
            a, b = 1, 1
            for i in range(item):
                a, b = b, a + b
            return a
        if isinstance(item,slice):
            start=item.start
            stop=item.stop
            if start is None:
                start=0
            a,b=1,1
            L=[]
            for x in range(stop):
                L.append(a)
                a,b=b,a+b
        return L

a=Fib()
print(a[3:12])
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211103155838-wdwjies.png)

### __getattr__()åŠ¨æ€è¿”å›ä¸€ä¸ªå±æ€§

è°ƒç”¨ç±»å±æ€§æˆ–æ–¹æ³•æ—¶ï¼Œå…ˆåœ¨__init__()è·å–åï¼Œå†ä»__getattr__()è·å–ï¼Œè·å–ä¸åˆ°æ‰æŠ¥é”™

### __call__()ç›´æ¥è°ƒç”¨å®ä¾‹æœ¬èº«

ä¸ç›´æ¥è°ƒç”¨è¿™ä¸ªå‡½æ•°ä¸€æ ·

```python
class People(object):
    def __init__(self,name):
        self.name=name
    def __call__(self, *args, **kwargs):
        print('i im call %s'% self.name)

p=People('ruan')
p()
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211104150832-d8wkn0m.png)

## ä½¿ç”¨æšä¸¾ç±»

æšä¸¾ç±»ï¼šåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä¸€ä¸ªç±»çš„ å®ä¾‹å¯¹è±¡ çš„**æ•°é‡**æ˜¯ **æœ‰é™ä¸”å›ºå®š** çš„ï¼Œå¦‚å­£èŠ‚ç±»ï¼Œå®ƒçš„å®ä¾‹å¯¹è±¡åªæœ‰æ˜¥ã€å¤ã€ç§‹ã€å†¬ã€‚ åœ¨Javaä¸­åƒè¿™ç§å¯¹è±¡å®ä¾‹æœ‰é™ä¸”å›ºå®šçš„ç±»è¢«ç§°ä¸ºæšä¸¾ç±»ï¼›è¿™æ ·çš„æšä¸¾ç±»å‹å®šä¹‰ä¸€ä¸ªclassç±»å‹ï¼Œç„¶åï¼Œæ¯ä¸ªå¸¸é‡éƒ½æ˜¯classçš„ä¸€ä¸ªå”¯ä¸€å®ä¾‹ã€‚Pythonæä¾›äº† `Enum`ç±»æ¥å®ç°è¿™ä¸ªåŠŸèƒ½ã€‚

```python
from enum import Enum
M=Enum('a',('sun1','sun2','sun3','sun4'))
print(M.sun1)
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211104151622-x7yqw9j.png)

è‡ªå®šä¹‰æšä¸¾ç±»

```python
from enum import Enum,unique
@unique
class Week(Enum):
    sun1=1
    sun2=2
    sun3=3
day2=Week.sun2
print(day2)
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211104152125-y6nm9vn.png)

```python
from enum import Enum,unique
@unique
class Gender(Enum):
    Male=0
    Female=1
class Student(object):
    def __init__(self,name,gender):
        self.name=name
        self.gender=gender

# æµ‹è¯•:
bart = Student('Bart', Gender.Male)
if bart.gender == Gender.Male:
    print('æµ‹è¯•é€šè¿‡!')
else:
    print('æµ‹è¯•å¤±è´¥!')
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211104152731-wmdziil.png)

## ä½¿ç”¨å…ƒç±»[åˆ›å»ºç±»]

å®ä¾‹å¯¹è±¡æ˜¯ç±»åˆ›å»º

ç±»æ˜¯å…ƒç±»åˆ›å»º

åˆ›å»ºç±»çš„æ–¹å¼

### æ–¹å¼ä¸€ï¼štypeï¼ˆï¼‰

`type()`å‡½æ•°æ—¢å¯ä»¥è¿”å›ä¸€ä¸ªå¯¹è±¡çš„ç±»å‹ï¼Œåˆå¯ä»¥åˆ›å»ºå‡ºæ–°çš„ç±»å‹ï¼Œæ¯”å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ `type()`å‡½æ•°åˆ›å»ºå‡º `Hello`ç±»

```python
from class1104 import *
h=Hello()
print(type(h))
print(type(Hello))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211104153538-6iulybe.png)

```python
 Hello = type('Hello', (object,), dict(hello=fn))
```

è¦åˆ›å»ºä¸€ä¸ªclasså¯¹è±¡ï¼Œ`type()`å‡½æ•°ä¾æ¬¡ä¼ å…¥3ä¸ªå‚æ•°ï¼š

1. classçš„åç§°ï¼›
2. ç»§æ‰¿çš„çˆ¶ç±»é›†åˆï¼Œæ³¨æ„Pythonæ”¯æŒå¤šé‡ç»§æ‰¿ï¼Œå¦‚æœåªæœ‰ä¸€ä¸ªçˆ¶ç±»ï¼Œåˆ«å¿˜äº†tupleçš„å•å…ƒç´ å†™æ³•ï¼›
3. classçš„æ–¹æ³•åç§°ä¸å‡½æ•°ç»‘å®šï¼Œè¿™é‡Œæˆ‘ä»¬æŠŠå‡½æ•° `fn`ç»‘å®šåˆ°æ–¹æ³•å `hello`ä¸Š

### æ–¹å¼äºŒï¼šå…ƒç±»metaclass

å…ˆå®šä¹‰metaclassï¼Œç„¶ååˆ›å»ºç±»ã€‚

å…ˆå®šä¹‰ç±»ï¼Œç„¶ååˆ›å»ºå®ä¾‹ã€‚

~~metaclassæ˜¯Pythoné¢å‘å¯¹è±¡é‡Œæœ€éš¾ç†è§£ï¼Œä¹Ÿæ˜¯æœ€éš¾ä½¿ç”¨çš„é­”æœ¯ä»£ç ã€‚~~

æŒ‰ç…§é»˜è®¤ä¹ æƒ¯ï¼Œmetaclassçš„ç±»åæ€»æ˜¯ä»¥Metaclassç»“å°¾ï¼Œä»¥ä¾¿æ¸…æ¥šåœ°è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªmetaclass

```python
# metaclassé‡‡ç”¨typeåˆ›å»ºç±» ï¼Œmetaclassæ˜¯ç±»çš„æ¨¡æ¿ï¼Œæ‰€ä»¥å¿…é¡»ä»`type`ç±»å‹æ´¾ç”Ÿ
class ListMetaclass(type):
    def __new__(cls, name,bases,attrs):
        attrs['add']=lambda self, value:self.append(value)
        return type.__new__(cls,name,bases,attrs)

class MyList(list,metaclass=ListMetaclass):
    pass
mylist=MyList()
mylist.add(1)
print(mylist)
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211104155010-cbldtfp.png)

`__new__()`æ–¹æ³•æ¥æ”¶åˆ°çš„å‚æ•°ä¾æ¬¡æ˜¯ï¼š

1. å½“å‰å‡†å¤‡åˆ›å»ºçš„ç±»çš„å¯¹è±¡ï¼›
2. ç±»çš„åå­—ï¼›
3. ç±»ç»§æ‰¿çš„çˆ¶ç±»é›†åˆï¼›
4. ç±»çš„æ–¹æ³•é›†åˆ

### åº”ç”¨åœºæ™¯

ORMå…¨ç§°â€œObject Relational Mappingâ€ï¼Œå³å¯¹è±¡-å…³ç³»æ˜ å°„ï¼Œå°±æ˜¯æŠŠå…³ç³»æ•°æ®åº“çš„ä¸€è¡Œæ˜ å°„ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªç±»å¯¹åº”ä¸€ä¸ªè¡¨ï¼Œè¿™æ ·ï¼Œå†™ä»£ç æ›´ç®€å•ï¼Œä¸ç”¨ç›´æ¥æ“ä½œSQLè¯­å¥ã€‚

è¦ç¼–å†™ä¸€ä¸ªORMæ¡†æ¶ï¼Œæ‰€æœ‰çš„ç±»éƒ½åªèƒ½åŠ¨æ€å®šä¹‰ï¼Œå› ä¸ºåªæœ‰ä½¿ç”¨è€…æ‰èƒ½æ ¹æ®è¡¨çš„ç»“æ„å®šä¹‰å‡ºå¯¹åº”çš„ç±»æ¥ã€‚

## é”™è¯¯å¤„ç†try

```python
try:
    print('try...')
    r = 10 / 0
    print('result:', r)
except ValueError as e:
    print('ValueError:', e)
except ZeroDivisionError as e:
    print('ZeroDivisionError:', e)e)
finally:
    print('finally...')
print('END')
```

Pythonçš„é”™è¯¯å…¶å®ä¹Ÿæ˜¯classï¼Œæ‰€æœ‰çš„é”™è¯¯ç±»å‹éƒ½ç»§æ‰¿è‡ª `BaseException`

`UnicodeError`æ˜¯ `ValueError`çš„å­ç±»ğŸ¤¡

[Built-in Exceptions â€” Python 3.10.0 documentation](https://docs.python.org/3/library/exceptions.html#exception-hierarchy)

## è°ƒç”¨æ ˆ

è®©Pythonè§£é‡Šå™¨æ¥æ‰“å°å‡ºé”™è¯¯å †æ ˆ

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211104162726-fird23x.png)

## è®°å½•é”™è¯¯logging

å¯å°†loggingç”Ÿæˆä¸€ä¸ªtxtæ–¹ä¾¿æŸ¥çœ‹

```python
 try:
        xxx
    except Exception as e:
        logging.exception(e)
```

### æŠ›å‡ºé”™è¯¯raise

```python
 except ValueError as e:
        print('ValueError!')
        raise
```

åœ¨ `bar()`å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬æ˜æ˜å·²ç»æ•è·äº†é”™è¯¯ï¼Œä½†æ˜¯ï¼Œæ‰“å°ä¸€ä¸ª `ValueError!`åï¼ŒåˆæŠŠé”™è¯¯é€šè¿‡ `raise`è¯­å¥æŠ›å‡ºå»äº†ï¼Œè¿™ä¸æœ‰ç—…ä¹ˆï¼Ÿ

å…¶å®è¿™ç§é”™è¯¯å¤„ç†æ–¹å¼ä¸ä½†æ²¡ç—…ï¼Œè€Œä¸”ç›¸å½“å¸¸è§ã€‚æ•è·é”™è¯¯ç›®çš„åªæ˜¯è®°å½•ä¸€ä¸‹ï¼Œä¾¿äºåç»­è¿½è¸ªã€‚ä½†æ˜¯ï¼Œç”±äºå½“å‰å‡½æ•°ä¸çŸ¥é“åº”è¯¥æ€ä¹ˆå¤„ç†è¯¥é”™è¯¯ï¼Œæ‰€ä»¥ï¼Œæœ€æ°å½“çš„æ–¹å¼æ˜¯ç»§ç»­å¾€ä¸ŠæŠ›ï¼Œè®©é¡¶å±‚è°ƒç”¨è€…å»å¤„ç†ã€‚

## è°ƒè¯•æ–¹æ³•

### 1. printï¼ˆï¼‰

### 2. æ–­è¨€assert

```python
 assert n != 0, 'n is zero!'
```

`assert`çš„æ„æ€æ˜¯ï¼Œè¡¨è¾¾å¼ `n != 0`åº”è¯¥æ˜¯ `True`ï¼Œå¦åˆ™ï¼Œæ ¹æ®ç¨‹åºè¿è¡Œçš„é€»è¾‘ï¼Œåé¢çš„ä»£ç è‚¯å®šä¼šå‡ºé”™ã€‚

é‡‡ç”¨æ–­è¨€çš„å¥½å¤„ï¼š

å¯åŠ¨Pythonè§£é‡Šå™¨æ—¶å¯ä»¥ç”¨ `-O`å‚æ•°æ¥å…³é—­ `assert`ï¼š

```python
$ python -O err.py
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211104164034-js5sidi.png)

å…³é—­åï¼Œä½ å¯ä»¥æŠŠæ‰€æœ‰çš„ `assert`è¯­å¥å½“æˆ `pass`æ¥çœ‹

### 3. logging

```python
import logging
s = '0'
n = int(s)
logging.info('n = %d' % n)
print(10 / n)
```

### 4.pbdå•æ­¥æ‰§è¡Œ

å¯åŠ¨Pythonçš„è°ƒè¯•å™¨pdbï¼Œè®©ç¨‹åºä»¥å•æ­¥æ–¹å¼è¿è¡Œï¼Œå¯ä»¥éšæ—¶æŸ¥çœ‹è¿è¡ŒçŠ¶æ€ã€‚

```python
python -m pdb xxx.py
(Pbd) 1#æŸ¥çœ‹ç¬¬ä¸€è¡Œä»£ç ï¼Œå•æ­¥æ‰§è¡Œç¬¬ä¸€è¡Œä»£ç 
```

### 5. pdb.set_trace()

è¿™ä¸ªæ–¹æ³•ä¹Ÿæ˜¯ç”¨pdbï¼Œä½†æ˜¯ä¸éœ€è¦å•æ­¥æ‰§è¡Œï¼Œæˆ‘ä»¬åªéœ€è¦ `import pdb`ï¼Œç„¶åï¼Œåœ¨å¯èƒ½å‡ºé”™çš„åœ°æ–¹æ”¾ä¸€ä¸ª `pdb.set_trace()`ï¼Œå°±å¯ä»¥è®¾ç½®ä¸€ä¸ªæ–­ç‚¹ï¼š

```python
import pdb

s = '0'
n = int(s)
pdb.set_trace() # è¿è¡Œåˆ°è¿™é‡Œä¼šè‡ªåŠ¨æš‚åœ
print(10 / n)
```

å¯ä»¥ç”¨å‘½ä»¤ `p`æŸ¥çœ‹å˜é‡ï¼Œæˆ–è€…ç”¨å‘½ä»¤ `c`ç»§ç»­è¿è¡Œï¼š

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211104164634-anjnpuu.png)

### 6.IDEå·¥å…·

vscode,pycharm....

## å•å…ƒæµ‹è¯•

å•å…ƒæµ‹è¯•æ˜¯ç”¨æ¥å¯¹ä¸€ä¸ªæ¨¡å—ã€ä¸€ä¸ªå‡½æ•°æˆ–è€…ä¸€ä¸ªç±»æ¥è¿›è¡Œæ­£ç¡®æ€§æ£€éªŒçš„æµ‹è¯•å·¥ä½œã€‚

## æ–‡æ¡£æµ‹è¯•

doctestéå¸¸æœ‰ç”¨ï¼Œä¸ä½†å¯ä»¥ç”¨æ¥æµ‹è¯•ï¼Œè¿˜å¯ä»¥ç›´æ¥ä½œä¸ºç¤ºä¾‹ä»£ç ã€‚é€šè¿‡æŸäº›æ–‡æ¡£ç”Ÿæˆå·¥å…·ï¼Œå°±å¯ä»¥è‡ªåŠ¨æŠŠåŒ…å«doctestçš„æ³¨é‡Šæå–å‡ºæ¥ã€‚ç”¨æˆ·çœ‹æ–‡æ¡£çš„æ—¶å€™ï¼ŒåŒæ—¶ä¹Ÿçœ‹åˆ°äº†doctestã€‚

Pythonå†…ç½®çš„â€œæ–‡æ¡£æµ‹è¯•â€ï¼ˆdoctestï¼‰æ¨¡å—å¯ä»¥ç›´æ¥æå–æ³¨é‡Šä¸­çš„ä»£ç å¹¶æ‰§è¡Œæµ‹è¯•.

```python
class Dict(dict):
    """"
      è¿™ä¸€æ®µå°±æ˜¯æ–‡æ¡£æµ‹è¯•
       Simple dict but also support access as x.y style.

       >>> d1 = Dict()
       >>> d1['x'] = 100
       >>> d1.x
       100
       >>> d1.y = 200
       >>> d1['y']
       200
       >>> d2 = Dict(a=1, b=2, c='3')
       >>> d2.c
       '3'
       >>> d2['empty']
       Traceback (most recent call last):
           ...
       KeyError: 'empty'
       >>> d2.empty
       Traceback (most recent call last):
           ...
       AttributeError: 'Dict' object has no attribute 'empty'
       """

    def __init__(self, **kw):
        super(Dict, self).__init__(**kw)

    def __getattr__(self, key):
        try:
            return self[key]
        except KeyError:
            raise AttributeError(r"'Dict' object has no attribute '%s'" % key)

    def __setattr__(self, key, value):
        self[key] = value

if __name__ == '__main__':
    import doctest
    doctest.testmod()
```

å°†å…¶ä¸­ä¸€ä¸ªå‡½æ•°æ³¨é‡Šï¼Œè¿è¡Œè®©å®ƒæŠ¥é”™

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211108110503-erlvnk1.png)

## IOç¼–ç¨‹

ç¨‹åºå’Œè¿è¡Œæ—¶çš„æ•°æ®åœ¨å†…å­˜ä¸­é©»ç•™

æ¶‰åŠåˆ°æ•°æ®äº¤æ¢çš„åœ°æ–¹ï¼Œé€šå¸¸æ˜¯ç£ç›˜ã€ç½‘ç»œç­‰ï¼Œå°±éœ€è¦IOæ¥å£

é€šå¸¸ï¼Œç¨‹åºå®ŒæˆIOæ“ä½œä¼šæœ‰Inputå’ŒOutputä¸¤ä¸ªæ•°æ®æµ

Streamï¼ˆæµï¼‰æ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„æ¦‚å¿µï¼Œå¯ä»¥æŠŠæµæƒ³è±¡æˆä¸€ä¸ªæ°´ç®¡ï¼Œæ•°æ®å°±æ˜¯æ°´ç®¡é‡Œçš„æ°´ï¼Œä½†æ˜¯åªèƒ½å•å‘æµåŠ¨ã€‚

åœ¨IOç¼–ç¨‹ä¸­ï¼Œå°±å­˜åœ¨**é€Ÿåº¦ä¸¥é‡ä¸åŒ¹é…çš„é—®é¢˜**ã€‚ä¸¾ä¸ªä¾‹å­æ¥è¯´ï¼Œæ¯”å¦‚è¦æŠŠ100Mçš„æ•°æ®å†™å…¥ç£ç›˜ï¼ŒCPUè¾“å‡º100Mçš„æ•°æ®åªéœ€è¦0.01ç§’ï¼Œå¯æ˜¯ç£ç›˜è¦æ¥æ”¶è¿™100Mæ•°æ®å¯èƒ½éœ€è¦10ç§’ï¼Œæ€ä¹ˆåŠå‘¢ï¼Ÿæœ‰ä¸¤ç§åŠæ³•ï¼š

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211108111749-yobbduz.png)

## åŒæ­¥IO

ç¬¬ä¸€ç§æ˜¯CPUç­‰ç€ï¼Œä¹Ÿå°±æ˜¯ç¨‹åºæš‚åœæ‰§è¡Œåç»­ä»£ç ï¼Œç­‰100Mçš„æ•°æ®åœ¨10ç§’åå†™å…¥ç£ç›˜ï¼Œå†æ¥ç€å¾€ä¸‹æ‰§è¡Œï¼Œè¿™ç§æ¨¡å¼ç§°ä¸ºåŒæ­¥IOï¼›

## å¼‚æ­¥IO

å¦ä¸€ç§æ–¹æ³•æ˜¯CPUä¸ç­‰å¾…ï¼Œåªæ˜¯å‘Šè¯‰ç£ç›˜ï¼Œâ€œæ‚¨è€æ…¢æ…¢å†™ï¼Œä¸ç€æ€¥ï¼Œæˆ‘æ¥ç€å¹²åˆ«çš„äº‹å»äº†â€ï¼Œäºæ˜¯ï¼Œåç»­ä»£ç å¯ä»¥ç«‹åˆ»æ¥ç€æ‰§è¡Œï¼Œè¿™ç§æ¨¡å¼ç§°ä¸ºå¼‚æ­¥IOã€‚

å¦‚æœæ˜¯æœåŠ¡å‘˜è·‘è¿‡æ¥æ‰¾åˆ°ä½ ï¼Œè¿™æ˜¯å›è°ƒæ¨¡å¼ï¼Œå¦‚æœæœåŠ¡å‘˜å‘çŸ­ä¿¡é€šçŸ¥ä½ ï¼Œä½ å°±å¾—ä¸åœåœ°æ£€æŸ¥æ‰‹æœºï¼Œè¿™æ˜¯è½®è¯¢æ¨¡å¼ã€‚æ€»ä¹‹ï¼Œå¼‚æ­¥IOçš„å¤æ‚åº¦è¿œè¿œé«˜äºåŒæ­¥IOã€‚

## æ–‡ä»¶è¯»å†™

### è¯»æ–‡ä»¶openï¼ˆï¼‰

ä¼ å…¥æ–‡ä»¶åï¼Œæ ‡ç¤ºç¬¦

å‚æ•°ï¼š'rb' äºŒè¿›åˆ¶

encoding='gbk'å­—ç¬¦ç¼–ç 

```python
f = open('/Users/michael/test.txt', 'r')
```

### read()ä¸€æ¬¡è¯»å–å…¨éƒ¨å†…å®¹

```python
 f.read()
'Hello, world!'
```

### f.closeï¼ˆï¼‰å…³é—­æ–‡ä»¶

ç®€åŒ–æ–¹æ³•

### with open('filepath', 'r') as f:    print(f.read())

Pythonå¼•å…¥äº† `with`è¯­å¥æ¥è‡ªåŠ¨å¸®æˆ‘ä»¬è°ƒç”¨ `close()`æ–¹æ³•ï¼Œå¹¶ä¸”ä¸å¿…è°ƒç”¨ `f.close()`æ–¹æ³•

```python
with open('/path/to/file', 'r') as f:
    print(f.read())
```

å¦‚æœæ–‡ä»¶å¾ˆå°ï¼Œ`read()`ä¸€æ¬¡æ€§è¯»å–æœ€æ–¹ä¾¿ï¼›

å¦‚æœä¸èƒ½ç¡®å®šæ–‡ä»¶å¤§å°ï¼Œåå¤è°ƒç”¨ `read(size)`æ¯”è¾ƒä¿é™©ï¼›

å¦‚æœæ˜¯é…ç½®æ–‡ä»¶ï¼Œè°ƒç”¨ `readlines()`æœ€æ–¹ä¾¿

```python
for line in f.readlines():
    print(line.strip()) # æŠŠæœ«å°¾çš„'\n'åˆ æ‰
```

fileå’Œç¼“å­˜æ—¶=æ˜¯file-like Objectå¯¹è±¡ï¼Œä¸è¦æ±‚ä»ç‰¹å®šç±»ç»§æ‰¿ï¼Œåªè¦å†™ä¸ª `read()`æ–¹æ³•å°±è¡Œ

### f.write()å†™æ–‡ä»¶

```python
f = open('/Users/michael/test.txt', 'w')
f.write('Hello, world!')
f.close()
```

æˆ–

```python
with open('/Users/michael/test.txt', 'w') as f:
    f.write('Hello, world!')
```

ä½¿ç”¨ `with`è¯­å¥æ“ä½œæ–‡ä»¶IOæ˜¯ä¸ªå¥½ä¹ æƒ¯

## StringIOå’ŒBytesIO

### StringIO

StringIOé¡¾åæ€ä¹‰å°±æ˜¯åœ¨å†…å­˜ä¸­è¯»å†™str

```python
 from io import StringIO
 f = StringIO()
f.write('hello')
```

`getvalue()`æ–¹æ³•ç”¨äºè·å¾—å†™å…¥åçš„str

```python
 from io import StringIO
>>> f = StringIO('Hello!\nHi!\nGoodbye!')
>>> while True:
...     s = f.readline()
...     if s == '':
...         break
...     print(s.strip())
```

### BytesIO

æ“ä½œäºŒè¿›åˆ¶æ•°æ®ï¼Œå°±éœ€è¦ä½¿ç”¨BytesIO

```python
>>> from io import BytesIO
>>> f = BytesIO()
>>> f.write('ä¸­æ–‡'.encode('utf-8'))
6
>>> print(f.getvalue())
b'\xe4\xb8\xad\xe6\x96\x87'
```

## osæ¨¡å—

### os.nameæ“ä½œç³»ç»Ÿç±»å‹

### os.uname()è¯¦ç»†ç³»ç»Ÿä¿¡æ¯

### os.encironç¯å¢ƒå˜é‡

è¦è·å–æŸä¸ªç¯å¢ƒå˜é‡çš„å€¼ï¼Œå¯ä»¥è°ƒç”¨ `os.environ.get('key')`

```python
# æŸ¥çœ‹å½“å‰ç›®å½•çš„ç»å¯¹è·¯å¾„:
>>> os.path.abspath('.')
'/Users/michael'
# åœ¨æŸä¸ªç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæ–°ç›®å½•ï¼Œé¦–å…ˆæŠŠæ–°ç›®å½•çš„å®Œæ•´è·¯å¾„è¡¨ç¤ºå‡ºæ¥:
>>> os.path.join('/Users/michael', 'testdir')
'/Users/michael/testdir'
# ç„¶ååˆ›å»ºä¸€ä¸ªç›®å½•:
>>> os.mkdir('/Users/michael/testdir')
# åˆ æ‰ä¸€ä¸ªç›®å½•:
>>> os.rmdir('/Users/michael/testdir')
```

é€šè¿‡ `os.path.join()`å‡½æ•°ï¼Œè¿™æ ·å¯ä»¥æ­£ç¡®å¤„ç†ä¸åŒæ“ä½œç³»ç»Ÿçš„è·¯å¾„åˆ†éš”ç¬¦

### `os.path.join(`)è¿æ¥è·¯å¾„

### `os.path.split()`æ‹†åˆ†è·¯å¾„

### `os.path.splitext()` æ–‡ä»¶æ‰©å±•å

```python
# å¯¹æ–‡ä»¶é‡å‘½å:
>>> os.rename('test.txt', 'test.py')
# åˆ æ‰æ–‡ä»¶:
>>> os.remove('test.py')
```

`shutil`æ¨¡å—æä¾›äº† `copyfile()`çš„å‡½æ•°ï¼Œå®ƒä»¬å¯ä»¥çœ‹åšæ˜¯ `os`æ¨¡å—çš„è¡¥å……

æœ€åçœ‹çœ‹å¦‚ä½•åˆ©ç”¨Pythonçš„ç‰¹æ€§æ¥è¿‡æ»¤æ–‡ä»¶ã€‚æ¯”å¦‚æˆ‘ä»¬è¦åˆ—å‡ºå½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰ç›®å½•ï¼Œåªéœ€è¦ä¸€è¡Œä»£ç ï¼š

```
>>> [x for x in os.listdir('.') if os.path.isdir(x)]
['.lein', '.local', '.m2', '.npm', '.ssh', '.Trash', '.vim', 'Applications', 'Desktop', ...]
```

è¦åˆ—å‡ºæ‰€æœ‰çš„ `.py`æ–‡ä»¶ï¼Œä¹Ÿåªéœ€ä¸€è¡Œä»£ç ï¼š

```
>>> [x for x in os.listdir('.') if os.path.isfile(x) and os.path.splitext(x)[1]=='.py']
['apis.py', 'config.py', 'models.py', 'pymonitor.py', 'test_db.py', 'urls.py', 'wsgiapp.py']
```

## åºåˆ—åŒ–pickleæ¨¡å—

å˜é‡ä»å†…å­˜ä¸­å˜æˆå¯å­˜å‚¨æˆ–ä¼ è¾“çš„è¿‡ç¨‹ç§°ä¹‹ä¸ºåºåˆ—åŒ–,Pythonä¸­å«pickling

å˜é‡å†…å®¹ä»åºåˆ—åŒ–çš„å¯¹è±¡é‡æ–°è¯»åˆ°å†…å­˜é‡Œç§°ä¹‹ä¸ºååºåˆ—åŒ–ï¼Œå³unpickling

### pickle.dumps()å¯¹è±¡-ã€‹å­—èŠ‚[åºåˆ—åŒ–]

`pickle.dumps()`æ–¹æ³•æŠŠä»»æ„å¯¹è±¡åºåˆ—åŒ–æˆä¸€ä¸ª `bytes`

`pickle.dumps()`æ–¹æ³•æŠŠä»»æ„å¯¹è±¡åºåˆ—åŒ–æˆä¸€ä¸ª `bytes`,å¹¶å†™å…¥æ–‡ä»¶ä¸­

```python
import pickle
d=dict(name='ruan',age=34,freand='woman')
# print(pickle.dumps(d))
f = open('timezone.txt', 'wb')
pickle.dump(d, f)
f.close()
```

### pickle.load()å­—èŠ‚-ã€‹å¯¹è±¡ã€ååºåˆ—åŒ–ã€‘

```python
import pickle
f=open(r'C:\Users\yangs\PycharmProjects\python_study\fun\timezone.txt','rb')
d=pickle.load(f)
f.close()
print(d)
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211108132946-rtt8k8p.png)

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211108133035-b8gyft4.png)

## jsonæ¨¡å—

`json`æ¨¡å—çš„ `dumps()`å’Œ `loads()`å‡½æ•°æ˜¯å®šä¹‰å¾—éå¸¸å¥½çš„æ¥å£çš„å…¸èŒƒã€‚

#### json.dumps(pythonå¯¹è±¡)pythonå¯¹è±¡-ã€‹jsonå¯¹è±¡

`dumps()`æ–¹æ³•è¿”å›ä¸€ä¸ª `str`ï¼Œå†…å®¹å°±æ˜¯æ ‡å‡†çš„JSON

#### json.loads(jsonå¯¹è±¡)jsonå¯¹è±¡-ã€‹pythonå¯¹è±¡

`json.``dump`(obj,Â fp,Â *,Â skipkeys=False,Â ensure_ascii=True,Â check_circular=True,Â allow_nan=True,Â cls=None,Â indent=None,Â separators=None,Â default=None,Â sort_keys=False,Â **kw**)**

### ç±»å˜ä¸ºå­—å…¸å¹¶åºåˆ—åŒ–

```python
json.dumps(s, default=lambda obj: obj.__dict__)
```

## è¿›ç¨‹å’Œçº¿ç¨‹

Pythonçš„æ ‡å‡†åº“æä¾›äº†ä¸¤ä¸ªæ¨¡å—ï¼š`_thread`å’Œ `threading`ï¼Œ`_thread`æ˜¯ä½çº§æ¨¡å—ï¼Œ`threading`æ˜¯é«˜çº§æ¨¡å—

**çº¿ç¨‹æ˜¯æœ€å°çš„æ‰§è¡Œå•å…ƒï¼Œè€Œè¿›ç¨‹ç”±è‡³å°‘ä¸€ä¸ªçº¿ç¨‹ç»„æˆ**

æ“ä½œç³»ç»Ÿè½®æµè®©å„ä¸ªä»»åŠ¡äº¤æ›¿æ‰§è¡Œ

çœŸæ­£çš„å¹¶è¡Œæ‰§è¡Œå¤šä»»åŠ¡åªèƒ½åœ¨å¤šæ ¸CPUä¸Šå®ç°

å¯¹äºæ“ä½œç³»ç»Ÿæ¥è¯´ï¼Œä¸€ä¸ªä»»åŠ¡å°±æ˜¯ä¸€ä¸ªè¿›ç¨‹ï¼ˆProcessï¼‰ï¼Œæ¯”å¦‚æ‰“å¼€ä¸€ä¸ªæµè§ˆå™¨å°±æ˜¯å¯åŠ¨ä¸€ä¸ªæµè§ˆå™¨è¿›ç¨‹

Wordï¼Œå®ƒå¯ä»¥åŒæ—¶è¿›è¡Œæ‰“å­—ã€æ‹¼å†™æ£€æŸ¥ã€æ‰“å°ç­‰äº‹æƒ…ã€‚åœ¨ä¸€ä¸ªè¿›ç¨‹å†…éƒ¨ï¼Œè¦åŒæ—¶å¹²å¤šä»¶äº‹ï¼Œå°±éœ€è¦åŒæ—¶è¿è¡Œå¤šä¸ªâ€œå­ä»»åŠ¡â€ï¼Œæˆ‘ä»¬æŠŠè¿›ç¨‹å†…çš„è¿™äº›â€œå­ä»»åŠ¡â€ç§°ä¸ºçº¿ç¨‹ï¼ˆThreadï¼‰

* å¤šè¿›ç¨‹æ¨¡å¼ï¼›
* å¤šçº¿ç¨‹æ¨¡å¼ï¼›
* å¤šè¿›ç¨‹+å¤šçº¿ç¨‹æ¨¡å¼ã€‚

## å¤šè¿›ç¨‹

Unix/Linuxæ“ä½œç³»ç»Ÿæä¾›äº†ä¸€ä¸ª `fork()`ç³»ç»Ÿè°ƒç”¨ï¼Œæ™®é€šçš„å‡½æ•°è°ƒç”¨ï¼Œè°ƒç”¨ä¸€æ¬¡ï¼Œè¿”å›ä¸€æ¬¡ï¼Œä½†æ˜¯ `fork()`è°ƒç”¨ä¸€æ¬¡ï¼Œè¿”å›ä¸¤æ¬¡ï¼Œå› ä¸ºæ“ä½œç³»ç»Ÿè‡ªåŠ¨æŠŠå½“å‰è¿›ç¨‹ï¼ˆç§°ä¸ºçˆ¶è¿›ç¨‹ï¼‰å¤åˆ¶äº†ä¸€ä»½ï¼ˆç§°ä¸ºå­è¿›ç¨‹ï¼‰ï¼Œç„¶åï¼Œåˆ†åˆ«åœ¨çˆ¶è¿›ç¨‹å’Œå­è¿›ç¨‹å†…è¿”å›ã€‚

åˆ›å»ºå­è¿›ç¨‹

```python
from multiprocessing import Process
import os
def run_pro(name):
    print('å¼€å§‹è¿è¡Œå­è¿›ç¨‹%sï¼Œ%s'%(name,os.getpid()))

if __name__ == '__main__':
    print('å¼€å§‹è¿è¡Œè¿›ç¨‹%s' % (os.getpid()))
    p=Process(target=run_pro,args=('test',))
    p.start()
    p.join()
    print('end')
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211111131512-zqm80if.png)

### å¯åŠ¨å¤§é‡å­è¿›ç¨‹pool

è¿›ç¨‹æ± 

```python
import time, threading

# æ–°çº¿ç¨‹æ‰§è¡Œçš„ä»£ç :
def loop():
    print('thread %s is running...' % threading.current_thread().name)
    n = 0
    while n < 5:
        n = n + 1
        print('thread %s >>> %s' % (threading.current_thread().name, n))
        time.sleep(1)
    print('thread %s ended.' % threading.current_thread().name)

print('thread %s is running...' % threading.current_thread().name)
t = threading.Thread(target=loop, name='LoopThread')
t.start()
t.join()
print('thread %s ended.' % threading.current_thread().name)
```

# æ¨¡å—æ€»ç»“

## doctestæ–‡æ¡£æµ‹è¯•

## os.pathæ–‡ä»¶è·¯å¾„

## pickleåºåˆ—åŒ–

## json

[ä½¿ç”¨dictå’Œset - å»–é›ªå³°çš„å®˜æ–¹ç½‘ç«™ (liaoxuefeng.com)](https://www.liaoxuefeng.com/wiki/1016959663602400/1017104324028448)

ç”¨äºå­¦ä¹ è®°å½•ï¼ŒåæœŸä¾¿äºå¤ä¹ ï¼Œå‚è€ƒé“¾æ¥

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009102447-hmq8gs8.png)

python file

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009102545-qqmxrgo.png)

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009102644-7ny4t2k.png)

è°ƒç”¨è„šæœ¬æ—¶ä¼šå…ˆè½½å…¥pyhtonè§£é‡Šå™¨ï¼Œç„¶åè¿è¡Œè„šæœ¬

rpmï¼šè½¯ä»¶ç®¡ç†åŒ…

æ“ä½œç¬¦ä¼˜å…ˆçº§ï¼š![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009104337-b66ot2k.png)

æ¡ä»¶åˆ¤æ–­ï¼š

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009104751-a27qfzb.png)

Pythonä¸ºæˆ‘ä»¬æä¾›äº†éå¸¸å®Œå–„çš„åŸºç¡€ä»£ç åº“ï¼Œè¦†ç›–äº†ç½‘ç»œã€æ–‡ä»¶ã€GUIã€æ•°æ®åº“ã€æ–‡æœ¬ç­‰å¤§é‡å†…å®¹ï¼Œè¢«å½¢è±¡åœ°ç§°ä½œâ€œå†…ç½®ç”µæ± ï¼ˆbatteries includedï¼‰â€ã€‚ç”¨Pythonå¼€å‘ï¼Œè®¸å¤šåŠŸèƒ½ä¸å¿…ä»é›¶ç¼–å†™ï¼Œç›´æ¥ä½¿ç”¨ç°æˆçš„å³å¯ã€‚

è¯­è¨€å®šä½ï¼š

Pythonçš„å®šä½æ˜¯â€œä¼˜é›…â€ã€â€œæ˜ç¡®â€ã€â€œç®€å•â€

Pythonæ˜¯è§£é‡Šå‹è¯­è¨€

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211011172523-7k51l6e.png)

# python

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009110719-7urayjl.png)

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009111236-gd1mcju.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009111303-l3bqira.png)

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009113303-w7qziw5.png)

## æ•°æ®ç±»å‹

### int æ•´å‹

long inté•¿æ•´å‹

int æ•´å‹

### float æµ®ç‚¹å‹

æµ®ç‚¹æ•°ä¹Ÿå°±æ˜¯å°æ•°ï¼Œä¹‹æ‰€ä»¥ç§°ä¸ºæµ®ç‚¹æ•°ï¼Œæ˜¯å› ä¸ºæŒ‰ç…§ç§‘å­¦è®°æ•°æ³•è¡¨ç¤ºæ—¶

åŒç²¾åº¦æµ®ç‚¹å‹ e

æµ®ç‚¹å‹

### String å­—ç¬¦ä¸²

å­—ç¬¦ä¸²æ˜¯ä»¥å•å¼•å· `'`æˆ–åŒå¼•å· `"`æ‹¬èµ·æ¥çš„ä»»æ„æ–‡æœ¬

å­—ç¬¦ä¸²æ˜¯ä»¥Unicodeç¼–ç 

å¯¹äºå•ä¸ªå­—ç¬¦çš„ç¼–ç ï¼ŒPythonæä¾›äº† `ord()`å‡½æ•°è·å–å­—ç¬¦çš„æ•´æ•°è¡¨ç¤ºï¼Œ`chr()`å‡½æ•°æŠŠç¼–ç è½¬æ¢ä¸ºå¯¹åº”çš„å­—ç¬¦ï¼š

### Boolå¸ƒå°”

True

Flase

### None ç©ºå€¼

Noneï¼Œ`None`ä¸èƒ½ç†è§£ä¸º `0`ï¼Œå› ä¸º `0`æ˜¯æœ‰æ„ä¹‰çš„,

Nullæ— æ„ä¹‰

.

<iframe src="http://127.0.0.1:6806/widgets/brython-editor" data-src="http://127.0.0.1:6806/widgets/brython-editor" data-subtype="widget" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="width: 1341px; height: 276px;"></iframe>

### å˜é‡

å˜é‡çš„æ¦‚å¿µåŸºæœ¬ä¸Šå’Œåˆä¸­ä»£æ•°çš„æ–¹ç¨‹å˜é‡æ˜¯ä¸€è‡´çš„ï¼Œ

å˜é‡ä¸ä»…å¯ä»¥æ˜¯æ•°å­—ï¼Œè¿˜å¯ä»¥æ˜¯ä»»æ„æ•°æ®ç±»å‹ã€‚

å˜é‡åå¿…é¡»æ˜¯å¤§å°å†™è‹±æ–‡ã€æ•°å­—å’Œ `_`çš„ç»„åˆï¼Œä¸”ä¸èƒ½ç”¨æ•°å­—å¼€å¤´ï¼Œå­—æ¯æˆ–ä¸‹åˆ’çº¿å¼€å¤´

```python
#å˜é‡ç±»å‹
a=1
b='æˆ‘æ˜¯å˜é‡'
c=True
d=12.2e3
print(a,b,c,d)
print(type(a),type(b),type(c),type(d))

```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009134601-1cuacaj.png)

int a=1 é™æ€è¯­è¨€ æ­¤æ—¶å·²ç»åˆ†é…çš„intåˆ†åŒºä¹‹åä¸èƒ½æ›´æ”¹å˜é‡ç±»å‹ã€ä¸æ”¯æŒï¼ŒJavaã€‘

a=3 åŠ¨æ€è¯­è¨€ï¼Œå¯ä»¥èµ‹å€¼æˆä»»æ„ç±»å‹

#### åŠ¨æ€å®šä¹‰

#### é™æ€å®šä¹‰

```python
a = 'ABC'
b = a
a = 'XYZ'
print(b)
```

æ‰§è¡Œ `a = 'ABC'`ï¼Œè§£é‡Šå™¨åˆ›å»ºäº†å­—ç¬¦ä¸² `'ABC'`å’Œå˜é‡ `a`ï¼Œå¹¶æŠŠ `a`æŒ‡å‘ `'ABC'`ï¼š

![py-var-code-1](https://www.liaoxuefeng.com/files/attachments/923791878255456/0)

æ‰§è¡Œ `b = a`ï¼Œè§£é‡Šå™¨åˆ›å»ºäº†å˜é‡ `b`ï¼Œå¹¶æŠŠ `b`æŒ‡å‘ `a`æŒ‡å‘çš„å­—ç¬¦ä¸² `'ABC'`ï¼š

![py-var-code-2](https://www.liaoxuefeng.com/files/attachments/923792058613440/0)

æ‰§è¡Œ `a = 'XYZ'`ï¼Œè§£é‡Šå™¨åˆ›å»ºäº†å­—ç¬¦ä¸²'XYZ'ï¼Œå¹¶æŠŠ `a`çš„æŒ‡å‘æ”¹ä¸º `'XYZ'`ï¼Œä½† `b`å¹¶æ²¡æœ‰æ›´æ”¹ï¼š

![py-var-code-3](https://www.liaoxuefeng.com/files/attachments/923792191637760/0)

### å¸¸é‡

æ‰€è°“å¸¸é‡å°±æ˜¯ä¸èƒ½å˜çš„å˜é‡ï¼Œé€šå¸¸ç”¨å…¨éƒ¨å¤§å†™çš„å˜é‡åè¡¨ç¤ºå¸¸é‡ï¼š

```python
PI = 3.14159265359
```

## liståˆ—è¡¨

listæ˜¯ä¸€ç§æœ‰åºçš„é›†åˆï¼Œå¯ä»¥éšæ—¶æ·»åŠ å’Œåˆ é™¤å…¶ä¸­çš„å…ƒç´ ã€‚

```python
list=['a','b','c']
print(list)
print(len(list))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009154856-r9s5yyu.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009154907-bofhvvd.png)

### åˆ‡åˆ†

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009155126-p31z8um.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009155139-cpsoatf.png)

### appendï¼ˆï¼‰è¿½åŠ 

str.append('a')

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009155556-qrj4a63.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009155606-dxihfwr.png)

### insertæ’å…¥æŒ‡å®šä½ç½®

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009162557-186v350.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009162609-u00z8m3.png)

### popï¼ˆï¼‰åˆ é™¤æœ«å°¾å…ƒç´ 

è¦åˆ é™¤æŒ‡å®šä½ç½®çš„å…ƒç´ ï¼Œç”¨ `pop(i)`æ–¹æ³•ï¼Œå…¶ä¸­ `i`æ˜¯ç´¢å¼•ä½ç½®

æ›¿æ¢å…ƒç´ ç›´æ¥èµ‹å€¼å³å¯

åˆ—è¡¨å¯ä»¥åµŒå¥—

```python
 s = ['python', 'java', ['asp', 'php'], 'scheme']
```

ç±»å‹å¯ä»¥ä¸åŒ

```python
L = ['Apple', 123, True]
```

### åˆ‡ç‰‡

list[:-1]ä¸åŒ…å«æœ€åä¸€ä¸ªå…ƒç´ 

list[:]å…¨éƒ¨åˆ—è¡¨

list[::]å…¨éƒ¨åˆ—è¡¨

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012161203-1e12zsd.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012161212-0lrqjsm.png)

å‰10ä¸ªæ•°ï¼Œæ¯ä¸¤ä¸ªå–ä¸€ä¸ª

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012161428-r6muafj.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012161441-eoc8y55.png)

#### åˆ—è¡¨ç”Ÿæˆ

listï¼ˆrangeï¼ˆ1ï¼Œ11ï¼‰ï¼‰ç”Ÿæˆ10ä¸ªæ•°1-10

```python
print([m+n for m in '123' for n in 'yza'])
```

```python
k=[1,1,23,45,56,[1,12,3,467,[2,4,4,3,22]]]
print([x for x in k if x==1 ])
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012190810-l1qtxiv.png)

## tupleå…ƒç»„

tupleä¸€æ—¦åˆå§‹åŒ–å°±ä¸èƒ½ä¿®æ”¹

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009163638-1vpldee.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009163652-xkas3o0.png)

ä½†å…ƒç»„åˆå§‹åŒ–åå°±ä¸èƒ½è¿›è¡Œæ›´æ”¹äº†

```python
b=(1)
#å®šä¹‰çš„ä¸æ˜¯tupleï¼Œæ˜¯1è¿™ä¸ªæ•°ï¼
# è¿™æ˜¯å› ä¸ºæ‹¬å·()æ—¢å¯ä»¥è¡¨ç¤ºtupleï¼Œåˆå¯ä»¥è¡¨ç¤ºæ•°å­¦å…¬å¼ä¸­çš„å°æ‹¬å·ï¼Œ
# è¿™å°±äº§ç”Ÿäº†æ­§ä¹‰ï¼Œå› æ­¤ï¼ŒPythonè§„å®šï¼Œ
# è¿™ç§æƒ…å†µä¸‹ï¼ŒæŒ‰å°æ‹¬å·è¿›è¡Œè®¡ç®—ï¼Œè®¡ç®—ç»“æœè‡ªç„¶æ˜¯1
print(b)
print(type(b))
c=(1,)
print(c)
print(type(c))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009164221-xl1husx.png)

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009164244-780v78f.png)

## dictå­—å…¸

å…¶ä»–è¯­è¨€å«mapï¼Œä½¿ç”¨é”®-å€¼ï¼ˆkey-valueï¼‰å­˜å‚¨ï¼Œå…·æœ‰æå¿«çš„æŸ¥æ‰¾é€Ÿåº¦ã€‚dictçš„keyå¿…é¡»æ˜¯**ä¸å¯å˜å¯¹è±¡**ã€‚keyè®¡ç®—ä½ç½®çš„ç®—æ³•ç§°ä¸ºå“ˆå¸Œç®—æ³•ï¼ˆHashï¼‰ã€‚

### å®šä¹‰

```python
d={'name':'ruanyifen','age':60,'happy':'write'}
d['add']='Im add'
d['name']='fix'
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012135019-kqmsrcg.png)

### å–value

#### dict['key']

#### 'key' in dict

#### dict.get('key')

```python
print(type(d))
print(d['name'])
print('name' in d)#æ–¹æ³•ä¸€åˆ¤æ–­æ˜¯å¦æœ‰è¿™ä¸ªä¸»é”®åœ¨å­—å…¸dä¸­
print(d.get('name'))#æ–¹æ³•äºŒ å–
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012135119-sniqpw0.png)

### dict.pop('key')åˆ é™¤ä¸€ä¸ªkey

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012135429-m36ygpu.png)

### dict.keysè¿”å›å­—å…¸ä¸­æ‰€æœ‰keyåˆ—è¡¨

### dict.update()å°†aå­—å…¸æ–°keyï¼Œvalueå†…å®¹åŠ å…¥bå­—å…¸ä¸­

```bash
dicta={"name":'ruan','age':20}
dictb={"name":'ruan2','age':40,'add':'w shi add'}
dictb.update(dicta)
print(dictb)
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211101115242-qazr588.png)

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211101115348-bb0l147.png)

#### å†…å»ºå‡½æ•°ä½¿ç”¨

typeï¼ˆï¼‰

cmpï¼ˆï¼‰

lenï¼ˆï¼‰

hashï¼ˆï¼‰

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211101114202-rdvz2pt.png)

å†…å»ºcmpï¼ˆï¼‰å‡½æ•°æ¯”è¾ƒä¸¤ä¸ªdictæ—¶ï¼Œå…ˆæ¯”è¾ƒé•¿åº¦ï¼Œåæ¯”å€¼ï¼Œè¾“å‡º1æˆ–-1

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211101114401-h4f1qop.png)

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211101114644-qffksiw.png)

### dictç‰¹ç‚¹

dictæœ‰ä»¥ä¸‹å‡ ä¸ªç‰¹ç‚¹ï¼š

1. æŸ¥æ‰¾å’Œæ’å…¥çš„é€Ÿåº¦æå¿«ï¼Œä¸ä¼šéšç€keyçš„å¢åŠ è€Œå˜æ…¢ï¼›
2. éœ€è¦å ç”¨å¤§é‡çš„å†…å­˜ï¼Œå†…å­˜æµªè´¹å¤šã€‚

è€Œlistç›¸åï¼š

1. æŸ¥æ‰¾å’Œæ’å…¥çš„æ—¶é—´éšç€å…ƒç´ çš„å¢åŠ è€Œå¢åŠ ï¼›
2. å ç”¨ç©ºé—´å°ï¼Œæµªè´¹å†…å­˜å¾ˆå°‘ã€‚
   ![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211101115427-fu3s2zu.png)
   ![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211101115451-utxi9ct.png)

## seté›†åˆ

ä¹Ÿæ˜¯ä¸€ç»„keyçš„é›†åˆï¼Œä½†ä¸å­˜å‚¨valueã€‚ç”±äºkeyä¸èƒ½é‡å¤ï¼Œæ‰€ä»¥ï¼Œåœ¨setä¸­ï¼Œæ²¡æœ‰é‡å¤çš„keyã€‚

é‡å¤å…ƒç´ åœ¨setä¸­è‡ªåŠ¨è¢«è¿‡æ»¤

### å®šä¹‰

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012135934-u0n1j77.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012135953-sqa88s1.png)

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140114-5azj1sa.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140127-ledkv1s.png)

### set.add('key')æ·»åŠ å…ƒç´ 

ä½†é‡å¤å…ƒç´ ä¸æ·»åŠ ï¼Œè‡ªåŠ¨å»é‡

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140336-dwf2vgw.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140344-dzsshz2.png)

### set.remove('key')åˆ é™¤å…ƒç´ 

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140511-5f9cwm4.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140517-f6iolow.png)

setå¯ä»¥çœ‹æˆæ•°å­¦æ„ä¹‰ä¸Šçš„æ— åºå’Œæ— é‡å¤å…ƒç´ çš„é›†åˆï¼Œ

å› æ­¤ï¼Œä¸¤ä¸ªsetå¯ä»¥åšæ•°å­¦æ„ä¹‰ä¸Šçš„äº¤é›†ã€å¹¶é›†ç­‰æ“ä½œï¼š

### & ä¸¤ä¸ªsetäº¤é›†

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140903-1l3we66.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140912-8itf6ek.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211022170721-h5hmgxr.png)

### |ä¸¤ä¸ªsetå¹¶é›†

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140922-5bjlj5g.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140933-edbys90.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211022171729-b4k8xhd.png)

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211101115701-3dt5x4j.png)

### map()çš„æ˜¾ç¤º

æ‰“å°mapå¯¹è±¡å¯ä»¥çœ‹åˆ°mapå¯¹è±¡è¿”å›çš„æ˜¯ä¸€ä¸ªåœ°å€ï¼Œä¸æ˜¯çœŸå®çš„æ•°æ®

```python
print(list(mapå¯¹è±¡))
print([it for it in mapå¯¹è±¡])
```

## æ•°æ®ç±»å‹è½¬æ¢

### intï¼ˆï¼‰

### floatï¼ˆï¼‰

### strï¼ˆï¼‰

### boolï¼ˆï¼‰

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012142636-iblnu9y.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012142645-gb2u1fg.png)

## æ¡ä»¶åˆ¤æ–­

### if

if else

```python
a=100
if a>=0:
    print(a)
else:
    print(-a)
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009165335-jr8xtfq.png)

if

```python
if True:
    print('True')
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009165309-ymhiihv.png)

if elif elif else

```python
name='zhangsan'
if name=='zhangsan':
    print('æˆ‘æ˜¯',name)
elif name=='lisi':
    print('æˆ‘æ˜¯', name)
elif name=='wangwu':
    print('æˆ‘æ˜¯', name)
else:
    print('æˆ‘è°çš„ä¸æ˜¯')
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009165511-spws02g.png)

## inputï¼ˆï¼‰è¾“å…¥è¾“å‡º

input()è¿”å›çš„æ•°æ®ç±»å‹æ˜¯str

printï¼ˆï¼‰

## å¾ªç¯ è¿­ä»£

listï¼Œtupleï¼Œdictéƒ½å¯å¾ªç¯

Pythonçš„ `for`å¾ªç¯æœ¬è´¨ä¸Šå°±æ˜¯é€šè¿‡ä¸æ–­è°ƒç”¨ `next()`å‡½æ•°å®ç°çš„,è®¡ç®—æ˜¯æƒ°æ€§çš„

dictå¾ªç¯æŒ‰ç…§valueæ—¶ï¼šfor value in dict.values

```python
for value in d.values():
    print(value)
```

### for in

```python
sum=0
for i in range(1,100):
    sum=sum+i
print(sum)
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009172805-wrb6kr2.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009172805-wrb6kr2.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009172821-rdyglwd.png)

### while

```python
sum2=0
k=0
while(k<100):
    sum2=sum2+k
    k=k+1
print(sum2)
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009172821-rdyglwd.png)

### break

å¦‚æœè¦æå‰ç»“æŸå¾ªç¯ï¼Œå¯ä»¥ç”¨ `break`è¯­å¥

### continue

é€šè¿‡ `continue`è¯­å¥ï¼Œè·³è¿‡å½“å‰çš„è¿™æ¬¡å¾ªç¯ï¼Œç›´æ¥å¼€å§‹ä¸‹ä¸€æ¬¡å¾ªç¯

## ç”Ÿæˆå™¨

åœ¨Pythonä¸­ï¼Œè¿™ç§ä¸€è¾¹å¾ªç¯ä¸€è¾¹è®¡ç®—çš„æœºåˆ¶ï¼Œç§°ä¸ºç”Ÿæˆå™¨ï¼šgeneratorã€‚

åŒ…æ‹¬ç”Ÿæˆå™¨å’Œå¸¦ `yield`çš„generator functionã€‚

```python
 g = (x * x for x in range(10))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012191035-5wbqtm5.png)

è®¿é—®å¤§æ–‡ä»¶

yield

## isinstanceï¼ˆï¼‰è¿­ä»£å™¨

ç›´æ¥ä½œç”¨äº `for`å¾ªç¯çš„å¯¹è±¡ç»Ÿç§°ä¸ºå¯è¿­ä»£å¯¹è±¡ï¼Œéƒ½æ˜¯è¿­ä»£å™¨ Iterable

`list`ã€`tuple`ã€`dict`ã€`set`ã€`str`

`list`ã€`dict`ã€`str`è™½ç„¶æ˜¯ `Iterable`ï¼Œå´ä¸æ˜¯ `Iterator`ã€‚

`list`ã€`dict`ã€`str`ç­‰ `Iterable`å˜æˆ `Iterator`å¯ä»¥ä½¿ç”¨**iter()**å‡½æ•°

ä»¥ç›´æ¥ä½œç”¨äº `for`å¾ªç¯çš„æ•°æ®ç±»å‹æœ‰ä»¥ä¸‹å‡ ç§ï¼š

ä¸€ç±»æ˜¯é›†åˆæ•°æ®ç±»å‹ï¼Œå¦‚ `list`ã€`tuple`ã€`dict`ã€`set`ã€`str`ç­‰ï¼›

ä¸€ç±»æ˜¯ `generator`ï¼ŒåŒ…æ‹¬ç”Ÿæˆå™¨å’Œå¸¦ `yield`çš„generator functionã€‚

å¯ä»¥ä½¿ç”¨**isinstance()**åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯ `Iterable`å¯¹è±¡__iter__ï¼š

è¿­ä»£å¯¹è±¡

åˆ¤æ–­æ˜¯ä¸æ˜¯å¯ä»¥è¿­ä»£ï¼Œç”¨Iterable

```python
from collections import Iterable
isinstance({}, Iterable) --> True
isinstance((), Iterable) --> True
isinstance(100, Iterable) --> False
```

åˆ¤æ–­æ˜¯ä¸æ˜¯è¿­ä»£å™¨ï¼Œç”¨Iterator

```python
from collections import Iterator
isinstance({}, Iterator)  --> False
isinstance((), Iterator) --> False
isinstance( (x for x in range(10)), Iterator)  --> True
```

Pythonä¸­ listï¼Œtrupleï¼Œstrï¼Œdictè¿™äº›éƒ½å¯ä»¥è¢«è¿­ä»£ï¼Œä½†ä»–ä»¬å¹¶ä¸æ˜¯è¿­ä»£å™¨ï¼Œä¸ºä»€ä¹ˆï¼šï¼šå› ä¸ºå’Œè¿­ä»£å™¨ç›¸æ¯”æœ‰ä¸€ä¸ªå¾ˆå¤§çš„ä¸åŒï¼Œlist/truple/map/dictè¿™äº›æ•°æ®çš„å¤§å°æ˜¯ç¡®å®šçš„ï¼Œä¹Ÿå°±æ˜¯è¯´æœ‰å¤šå°‘äº‹å¯çŸ¥çš„ã€‚ä½†è¿­ä»£å™¨ä¸æ˜¯ï¼Œè¿­ä»£å™¨ä¸çŸ¥é“è¦æ‰§è¡Œå¤šå°‘æ¬¡ï¼Œæ‰€ä»¥å¯ä»¥ç†è§£ä¸ºä¸çŸ¥é“æœ‰å¤šå°‘ä¸ªå…ƒç´ ï¼Œæ¯è°ƒç”¨ä¸€æ¬¡next()ï¼Œå°±ä¼šå¾€ä¸‹èµ°ä¸€æ­¥ï¼Œæ˜¯æƒ°æ€§çš„ã€‚

## å‡½æ•°

æŠ½è±¡

å°†å‡½æ•°æŠ½è±¡æˆä¸€ä¸ªå‡½æ•°åç§°ï¼Œä¸çœ‹å†…éƒ¨ç»“æ„ç›´æ¥è°ƒç”¨æ–¹æ³•

è¿”å›ç±»å‹ å‡½æ•°åï¼ˆè¾“å…¥å‚æ•°ï¼‰ï¼š

å‡½æ•°ä½“

### è°ƒç”¨å‡½æ•°

è¦è°ƒç”¨ä¸€ä¸ªå‡½æ•°ï¼Œéœ€è¦çŸ¥é“å‡½æ•°çš„åç§°å’Œå‚æ•°

ç»å¯¹å€¼abs

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012142010-d503sa9.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012142024-cscdoiu.png)

### å®šä¹‰å‡½æ•°

```python
def myabs(x):
    if x>0:
        return x
    if x<0:
        return -x
print(myabs(-100))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012144653-0ds9bc4.png)

### ç©ºå‡½æ•°

```python
def nufun():
    pass
```

`pass`å¯ä»¥ç”¨æ¥ä½œä¸ºå ä½ç¬¦

### å‡½æ•° å‚æ•°æ£€æŸ¥

```python
def my_init_abs(x):
    if not isinstance(x,(int,float)):
        raise TypeError('no no no')
    else:
        if x>0:
            print(x)
        if x<0:
            print(-x)
my_init_abs(-90)
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012144640-6xnfm9s.png)

### å¯è¿”å›å¤šä¸ªå€¼ï¼Œå‡½æ•°

```python
def return_much():
    a='è¿”å›'
    b='æˆ‘ä¹Ÿè¿”å›'
    c='æˆ‘ä¹Ÿè¦è¿”å›'
    return a,b,c
print(return_much())
print(type(return_much()))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012144955-kyvotx4.png)

### å‡½æ•°å‚æ•°

***argsæ˜¯å¯å˜å‚æ•°ï¼Œargsæ¥æ”¶çš„æ˜¯ä¸€ä¸ªtupleï¼›**

****kwæ˜¯å…³é”®å­—å‚æ•°ï¼Œkwæ¥æ”¶çš„æ˜¯ä¸€ä¸ªdict**ã€‚

`power(x)`å‡½æ•°ï¼Œå‚æ•° `x`å°±æ˜¯ä¸€ä¸ªä½ç½®å‚æ•°ï¼Œå¯å•ä¸ªå˜é‡ï¼Œlistï¼Œsetï¼Œtuple

`power(*x)`å‡½æ•°ï¼Œå¯ä¼ å…¥å•ä¸ªå˜é‡ï¼Œlistï¼Œsetï¼Œtupleï¼Œå¯ä»¥ä¼ å…¥ä»»æ„ä¸ªå‚æ•°æˆ–0ä¸ªå‚æ•°

`power(**kw)`å‡½æ•°,å­—å…¸dict

å¯å˜å‚æ•°å…è®¸ä½ ä¼ å…¥0ä¸ªæˆ–ä»»æ„ä¸ªå‚æ•°ï¼Œè¿™äº›å¯å˜å‚æ•°åœ¨å‡½æ•°è°ƒç”¨æ—¶è‡ªåŠ¨ç»„è£…ä¸ºä¸€ä¸ªtupleã€‚

è€Œå…³é”®å­—å‚æ•°å…è®¸ä½ ä¼ å…¥0ä¸ªæˆ–ä»»æ„ä¸ªå«å‚æ•°åçš„å‚æ•°ï¼Œè¿™äº›å…³é”®å­—å‚æ•°åœ¨å‡½æ•°å†…éƒ¨è‡ªåŠ¨ç»„è£…ä¸ºä¸€ä¸ª**dict**.

`power(x, n)`ï¼Œç”¨æ¥è®¡ç®—x^n^

`power(x, n)`å‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°ï¼š`x`å’Œ `n`

é»˜è®¤å‚æ•°ï¼Œæ­¤æ—¶ageå’Œcityä¸ºé»˜è®¤å‚æ•°ï¼Œå¯ä¼ å€¼æ”¹å˜ä¹Ÿå¯ä¸å˜ã€ä¸ç”¨ä¼ å€¼ã€‘

`power(L=None)`å‡½æ•°æœ‰Noneè¿™ä¸ªä¸å˜å¯¹è±¡ï¼Œå¯ç”¨list

```python
def enroll(name, gender, age=6, city='Beijing'):
    print('name:', name)
    print('gender:', gender)
    print('age:', age)
    print('city:', city)
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012151610-9n1rxhq.png)

#### å¿…é€‰å‚æ•°

```python
def a1(x):
    return x
print(a1(2))
print(a1(12.1))
print(a1('ruan'))
print(a1(True))
print(a1([1,2,3]))
print(a1({1,2,3}))
print(a1({"key":"vleaue",'name':'ruan','mun':23}))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012153014-r27ykfm.png)

#### =é»˜è®¤å‚æ•°

```python
def a2(x=9):
    return x
print(a2())
print(a2(2))
print(a2(12.1))
print(a2('ruan'))
print(a2(True))
print(a2([1,2,3]))
print(a2({1,2,3}))
print(a2({"key":"vleaue",'name':'ruan','mun':23}))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012153014-r27ykfm.png)

#### *å¯å˜å‚æ•°

```python
def a3(*x):
    return x
print(a3())
print(a3(2))
print(a3(12.1))
print(a3('ruan'))
print(a3(True))
print(a3([1,2,3]))
print(a3({1,2,3}))
print(a3({"key":"vleaue",'name':'ruan','mun':23}))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012154346-2eahz0b.png)

#### **å…³é”®å­—å‚æ•°

```python
def a3(**kw):
    return kw
print(a3())
print(a3(kw=2))
print(a3(kw=12.1))
print(a3(kw='ruan'))
print(a3(kw=True))
print(a3(kw=[1,2,3]))
print(type(a3(kw=[1,2,3])))
print(a3(kw={1,2,3}))
print(type(a3(kw={1,2,3})))
print(a3(kw={"key":"vleaue",'name':'ruan','mun':23}))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012154409-tp9u2z5.png)

### é€’å½’å‡½æ•°

åœ¨å‡½æ•°å†…éƒ¨ï¼Œå¯ä»¥è°ƒç”¨å…¶ä»–å‡½æ•°ã€‚

ä¸€ä¸ªå‡½æ•°åœ¨**å†…éƒ¨è°ƒç”¨è‡ªèº«æœ¬èº«**ï¼Œè¿™ä¸ªå‡½æ•°å°±æ˜¯**é€’å½’å‡½æ•°**ã€‚

ä½¿ç”¨é€’å½’å‡½æ•°éœ€è¦**æ³¨æ„é˜²æ­¢æ ˆæº¢å‡º**

```python
#é€’å½’å‡½æ•°
def funmyself(x):
    if x>1:
        return x+funmyself(x-1)
    elif x==1:
        return 1
print(funmyself(3))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012155139-884p9as.png)

è§£å†³æ ˆæº¢å‡ºæ–¹æ³•ï¼š

**å°¾é€’å½’**ä¼˜åŒ–ï¼Œäº‹å®ä¸Šå°¾é€’å½’å’Œå¾ªç¯çš„æ•ˆæœæ˜¯ä¸€æ ·çš„

å°¾é€’å½’æ˜¯æŒ‡ï¼Œåœ¨å‡½æ•°è¿”å›çš„æ—¶å€™ï¼Œ**è°ƒç”¨è‡ªèº«**æœ¬èº«ï¼Œå¹¶ä¸”ï¼Œ**returnè¯­å¥ä¸èƒ½åŒ…å«è¡¨è¾¾å¼**

```python
#å°¾é€’å½’
def funmyself2(n):
    return  funmyself2_it(n,1)

def  funmyself2_it(n,pro):
    if n==1:
        return pro
    else:
        return funmyself2(n-1)+n
print(funmyself2(100))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012160333-tngb33o.png)

æ­¤æ—¶funmyself2æ˜¯å°¾é€’å½’å‡½æ•°

## è½¬ä¹‰å­—ç¬¦ `\`

è½¬ä¹‰å­—ç¬¦ `\`å¯ä»¥è½¬ä¹‰å¾ˆå¤šå­—ç¬¦ï¼Œæ¯”å¦‚

`\n`è¡¨ç¤ºæ¢è¡Œï¼Œ

`\t`è¡¨ç¤ºåˆ¶è¡¨ç¬¦ï¼Œ

å­—ç¬¦ `\`æœ¬èº«ä¹Ÿè¦è½¬ä¹‰ï¼Œæ‰€ä»¥ `\\`è¡¨ç¤ºçš„å­—ç¬¦å°±æ˜¯ `\`

Pythonè¿˜å…è®¸ç”¨ `r''`è¡¨ç¤º `''`å†…éƒ¨çš„å­—ç¬¦ä¸²é»˜è®¤ä¸è½¬ä¹‰

## è¿ç®—ç¬¦andã€orå’Œnot

è¿ç®—ä¼˜å…ˆçº§ï¼šnot>or>and

## é™¤æ³• / //

```python
print(10/3)
print(10//3)
```

#### é™¤æ³•ä¸€ / æµ®ç‚¹æ•°

#### é™¤æ³•äºŒ  //  åœ°æ¿é™¤ æ•´æ•°

`/`é™¤æ³•è®¡ç®—ç»“æœæ˜¯æµ®ç‚¹æ•°ï¼Œå³ä½¿æ˜¯ä¸¤ä¸ªæ•´æ•°æ°å¥½æ•´é™¤ï¼Œç»“æœä¹Ÿæ˜¯æµ®ç‚¹æ•°ï¼š

`//`ï¼Œç§°ä¸ºåœ°æ¿é™¤ï¼Œä¸¤ä¸ªæ•´æ•°çš„é™¤æ³•ä»ç„¶æ˜¯æ•´æ•°ï¼š

## å–ä½™ %

```python
print(10%1)
print(10%3)
print(4%7)
print(2%20)
#å¦‚æœa%b a>b åˆ™ç»“æœä¸ºa
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009141744-i2nxg58.png)

## å­—ç¬¦ç¼–ç 

`ASCII`ç¼–ç 

8ä¸ªæ¯”ç‰¹ï¼ˆbitï¼‰ä½œä¸ºä¸€ä¸ªå­—èŠ‚ï¼ˆbyteï¼‰

ä¸€ä¸ªå­—èŠ‚èƒ½è¡¨ç¤ºçš„æœ€å¤§çš„æ•´æ•°å°±æ˜¯255ï¼ˆäºŒè¿›åˆ¶11111111=åè¿›åˆ¶255ï¼‰

ä¸¤ä¸ªå­—èŠ‚å¯ä»¥è¡¨ç¤ºçš„æœ€å¤§æ•´æ•°æ˜¯ `65535`ï¼Œ4ä¸ªå­—èŠ‚å¯ä»¥è¡¨ç¤ºçš„æœ€å¤§æ•´æ•°æ˜¯ `4294967295`

å¤§å†™å­—æ¯ `A`çš„ç¼–ç æ˜¯ `65`ï¼ŒäºŒè¿›åˆ¶çš„ `01000001`ï¼Œå°å†™å­—æ¯ `z`çš„ç¼–ç æ˜¯ `122`

UnicodeæŠŠæ‰€æœ‰è¯­è¨€éƒ½ç»Ÿä¸€åˆ°ä¸€å¥—ç¼–ç é‡Œï¼Œè¿™æ ·å°±ä¸ä¼šå†æœ‰ä¹±ç é—®é¢˜

ASCIIç¼–ç æ˜¯1ä¸ªå­—èŠ‚ï¼Œè€ŒUnicodeç¼–ç é€šå¸¸æ˜¯2ä¸ªå­—èŠ‚

**ASCllå‡ºç°ä¹±ç é—®é¢˜å¼•å…¥Unicodeç¼–ç å­˜å‚¨ç©ºé—´å¤šäº†ä¸€å€å¼•å…¥UTF-8ç¼–ç **

utf-8ï¼šå°†**Unicodeå­—ç¬¦æ ¹æ®ä¸åŒçš„æ•°å­—å¤§å°ç¼–ç æˆ1-6ä¸ªå­—èŠ‚ï¼Œå¸¸ç”¨çš„è‹±æ–‡å­—æ¯è¢«ç¼–ç æˆ1ä¸ªå­—èŠ‚ï¼Œæ±‰å­—é€šå¸¸æ˜¯3ä¸ªå­—èŠ‚ï¼Œ**

| å­—ç¬¦ | ASCII    | Unicode           | UTF-8                      |
| ---- | -------- | ----------------- | -------------------------- |
| A    | 01000001 | 00000000 01000001 | 01000001                   |
| ä¸­   | x        | 01001110 00101101 | 11100100 10111000 10101101 |

åœ¨è®¡ç®—æœºå†…å­˜ä¸­ï¼Œç»Ÿä¸€ä½¿ç”¨Unicodeç¼–ç ï¼Œå½“éœ€è¦ä¿å­˜åˆ°ç¡¬ç›˜æˆ–è€…éœ€è¦ä¼ è¾“çš„æ—¶å€™ï¼Œå°±è½¬æ¢ä¸ºUTF-8ç¼–ç ã€‚

ç”¨è®°äº‹æœ¬ç¼–è¾‘çš„æ—¶å€™ï¼Œä»æ–‡ä»¶è¯»å–çš„UTF-8å­—ç¬¦è¢«è½¬æ¢ä¸ºUnicodeå­—ç¬¦åˆ°å†…å­˜é‡Œï¼Œç¼–è¾‘å®Œæˆåï¼Œä¿å­˜çš„æ—¶å€™å†æŠŠUnicodeè½¬æ¢ä¸ºUTF-8ä¿å­˜åˆ°æ–‡ä»¶

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009142650-uopgqob.png)

æµè§ˆç½‘é¡µçš„æ—¶å€™ï¼ŒæœåŠ¡å™¨ä¼šæŠŠåŠ¨æ€ç”Ÿæˆçš„Unicodeå†…å®¹è½¬æ¢ä¸ºUTF-8å†ä¼ è¾“åˆ°æµè§ˆå™¨ï¼š

![web-utf-8](https://www.liaoxuefeng.com/files/attachments/923923759189600/0)

#### compile() å­—ç¬¦ä¸²ç¼–è¯‘ä¸ºå­—èŠ‚ä»£ç 

#### ç¼–ç è½¬åŒ–

#### ord('A') å­—æ¯è½¬å­—ç¬¦

#### chr(65) å­—ç¬¦è½¬å­—æ¯

```python
a=ord('A')
b=chr(65)
print(a,b)
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009144810-rm45nsz.png)

#### b'str'è½¬ä¸ºå­—èŠ‚ç±»å‹bytes

`bytes`ç±»å‹çš„æ•°æ®ç”¨å¸¦ `b`å‰ç¼€çš„å•å¼•å·æˆ–åŒå¼•å·è¡¨ç¤º

```python
x = b'ABC'
```

è¦æ³¨æ„åŒºåˆ† `'ABC'`å’Œ `b'ABC'`ï¼Œå‰è€…æ˜¯ `str`ï¼Œåè€…è™½ç„¶å†…å®¹æ˜¾ç¤ºå¾—å’Œå‰è€…ä¸€æ ·ï¼Œä½† `bytes`çš„æ¯ä¸ªå­—ç¬¦éƒ½åªå ç”¨ä¸€ä¸ªå­—èŠ‚ã€‚

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009145112-3dmegln.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009150224-kn57ioe.png)

#### str.encode('ascii') `str` å˜ä¸º `bytes `

`ASCII`

`UTF-8`

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009150118-wy36xea.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009150204-81jvyjd.png)

#### str.decode('utf-8')`bytes`å˜ä¸º `str`

```python
print(type(b'abc'))
print(b'abc'.decode('utf-8'))
print(type(b'abc'.decode('utf-8')))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009150844-zvt6jkv.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009150746-31uq63m.png)

lenï¼ˆstrï¼‰è®¡ç®—å­—ç¬¦æ•°

å‡½æ•°è®¡ç®—çš„æ˜¯ `str`çš„å­—ç¬¦æ•°ï¼Œå¦‚æœæ¢æˆ `bytes`ï¼Œ`len()`å‡½æ•°å°±è®¡ç®—å­—èŠ‚æ•°

```python
print(len('abc'))
print(len(b'abc'))
print(len('ä¸­'))
print(len('ä¸­'.encode('utf-8')))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009151234-rhao6fv.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009151321-6k73tn8.png)

## ç‰¹æ®Šæ³¨é‡Š

```python
#!/usr/bin/env python3
# -*- coding: utf-8 -*-
```

ç¬¬ä¸€è¡Œæ³¨é‡Šæ˜¯ä¸ºäº†å‘Šè¯‰Linux/OS Xç³»ç»Ÿï¼Œè¿™æ˜¯ä¸€ä¸ªPythonå¯æ‰§è¡Œç¨‹åºï¼Œ**Windowsç³»ç»Ÿä¼šå¿½ç•¥è¿™ä¸ªæ³¨é‡Š**ï¼›

ç¬¬äºŒè¡Œæ³¨é‡Šæ˜¯ä¸ºäº†å‘Šè¯‰Pythonè§£é‡Šå™¨ï¼Œ**æŒ‰ç…§UTF-8ç¼–ç è¯»å–æºä»£ç **ï¼Œå¦åˆ™ï¼Œä½ åœ¨æºä»£ç ä¸­å†™çš„ä¸­æ–‡è¾“å‡ºå¯èƒ½ä¼šæœ‰ä¹±ç ã€‚

## å ä½ç¬¦ æ ¼å¼åŒ–

### å ä½ç¬¦%s %d %f

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009152324-rmac8lz.png)

æ ¼å¼åŒ–æ–¹å¼å’ŒCè¯­è¨€æ˜¯ä¸€è‡´

` %`è¿ç®—ç¬¦å°±æ˜¯ç”¨æ¥æ ¼å¼åŒ–å­—ç¬¦ä¸²çš„ã€‚

åœ¨å­—ç¬¦ä¸²å†…éƒ¨ï¼Œ

`%s`è¡¨ç¤ºç”¨å­—ç¬¦ä¸²æ›¿æ¢ï¼Œ

`%d`è¡¨ç¤ºç”¨æ•´æ•°æ›¿æ¢ï¼Œ

æœ‰å‡ ä¸ª `%?`å ä½ç¬¦ï¼Œåé¢å°±è·Ÿå‡ ä¸ªå˜é‡æˆ–è€…å€¼ï¼Œé¡ºåºè¦å¯¹åº”å¥½ã€‚å¦‚æœåªæœ‰ä¸€ä¸ª `%?`ï¼Œæ‹¬å·å¯ä»¥çœç•¥

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009152708-zy7vi8x.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009152722-wq5flos.png)

| å ä½ç¬¦ | æ›¿æ¢å†…å®¹     |
| ------ | ------------ |
| %d     | æ•´æ•°         |
| %f     | æµ®ç‚¹æ•°       |
| %s     | å­—ç¬¦ä¸²       |
| %x     | åå…­è¿›åˆ¶æ•´æ•° |

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009153422-r1s8f5z.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009153433-1uhb1w3.png)

è½¬ä¹‰ï¼š`%%`æ¥è¡¨ç¤ºä¸€ä¸ª `%`

### formatï¼ˆï¼‰æ ¼å¼åŒ–å­—ç¬¦ä¸²

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009154141-a3v7tnj.png)

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009154153-o6u9yd7.png)

### f-string æ ¼å¼åŒ–å­—ç¬¦ä¸²

`{r}`è¢«å˜é‡ `r`çš„å€¼æ›¿æ¢ï¼Œ`{s:.2f}`è¢«å˜é‡ `s`çš„å€¼æ›¿æ¢ï¼Œå¹¶ä¸” `:`åé¢çš„ `.2f`æŒ‡å®šäº†æ ¼å¼åŒ–å‚æ•°ï¼ˆå³ä¿ç•™ä¸¤ä½å°æ•°ï¼‰ï¼Œå› æ­¤ï¼Œ`{s:.2f}`çš„æ›¿æ¢ç»“æœæ˜¯ `19.62`

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009154406-qahm3f7.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009154432-m2z0xx5.png)

## å‡½æ•°å¼ç¼–ç¨‹

å‡½æ•°æ˜¯Pythonå†…å»ºæ”¯æŒçš„ä¸€ç§å°è£…ï¼Œé€šè¿‡å±‚å±‚å‡½æ•°è¿›è¡Œè°ƒç”¨

#é¢å‘è¿‡ç¨‹çš„ç¨‹åºè®¾è®¡#ï¼šæŠŠå¤æ‚ä»»åŠ¡åˆ†è§£æˆç®€å•çš„ä»»åŠ¡ï¼Œè¿™ç§åˆ†è§£å¯ä»¥ç§°ä¹‹ä¸ºé¢å‘è¿‡ç¨‹çš„ç¨‹åºè®¾è®¡

å‡½æ•°å¼å’Œå‡½æ•°çš„åŒºåˆ«ï¼š

å¯¹æ¯”ä¾‹å­ï¼šè®¡ç®—å’Œè®¡ç®—å™¨çš„åŒºåˆ«

ç¼–ç¨‹è¯­è¨€ï¼Œå°±æ˜¯è¶Šä½çº§çš„è¯­è¨€ï¼Œè¶Šè´´è¿‘è®¡ç®—æœºï¼ŒæŠ½è±¡ç¨‹åº¦ä½ï¼Œæ‰§è¡Œæ•ˆç‡é«˜ï¼Œæ¯”å¦‚Cè¯­è¨€ï¼›è¶Šé«˜çº§çš„è¯­è¨€ï¼Œè¶Šè´´è¿‘è®¡ç®—ï¼ŒæŠ½è±¡ç¨‹åº¦é«˜ï¼Œæ‰§è¡Œæ•ˆç‡ä½ï¼Œæ¯”å¦‚Lispè¯­è¨€

Pythonä¸æ˜¯çº¯å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€

å‡½æ•°å¼ç¼–ç¨‹å°±æ˜¯ä¸€ç§æŠ½è±¡ç¨‹åº¦å¾ˆé«˜çš„ç¼–ç¨‹èŒƒå¼ï¼Œ

çº¯ç²¹çš„å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€ç¼–å†™çš„**å‡½æ•°æ²¡æœ‰å˜é‡**ï¼Œå› æ­¤ï¼Œä»»æ„ä¸€ä¸ªå‡½æ•°ï¼Œ**åªè¦è¾“å…¥æ˜¯ç¡®å®šçš„ï¼Œè¾“å‡ºå°±æ˜¯ç¡®å®šçš„**

### å‡½æ•°å¼ç¼–ç¨‹ç‰¹ç‚¹ï¼š

1. çº¯å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€å‡½æ•°æ²¡æœ‰å˜é‡ï¼Œè¾“å…¥è¾“å‡ºç¡®å®š
2. å…è®¸æœ¬èº«ä½œä¸ºå‚æ•°ä¼ å…¥å¦ä¸€ä¸ªå‡½æ•°ï¼Œå…è®¸è¿”å›ä¸€ä¸ªå‡½æ•°

## é«˜é˜¶å‡½æ•°

å‚æ•°ä¸­æœ‰å‡½æ•°

é«˜é˜¶å‡½æ•°é™¤äº†å¯ä»¥æ¥å—å‡½æ•°ä½œä¸ºå‚æ•°å¤–ï¼Œè¿˜å¯ä»¥æŠŠå‡½æ•°ä½œä¸ºç»“æœå€¼è¿”å›

### å˜é‡å¯ä»¥æŒ‡å‘å‡½æ•°

a=å‡½æ•°

æ±‚ç»å¯¹å€¼çš„å‡½æ•° `abs()`ä¸ºä¾‹

```python
print(abs(-10))
print(abs)
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211019114343-h6egecv.png)

absï¼ˆ-10ï¼‰æ˜¯å‡½æ•°è°ƒç”¨ï¼Œabsæ˜¯å‡½æ•°æœ¬èº«

```python
k=abs(-20)
print(k)
#å‡½æ•°æœ¬èº«ä¹Ÿå¯ä»¥èµ‹å€¼ç»™å˜é‡
h=abs
print(h)
print(h(-100))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211019114757-z778j3c.png)

ç»“è®ºï¼šå‡½æ•°æœ¬èº«ä¹Ÿå¯ä»¥èµ‹å€¼ç»™å˜é‡ï¼Œå³ï¼š#å˜é‡å¯ä»¥æŒ‡å‘å‡½æ•°ã€‚#

### å‡½æ•°åä¹Ÿæ˜¯å˜é‡

#å‡½æ•°å#ï¼š**å…¶å®å°±æ˜¯æŒ‡å‘å‡½æ•°çš„å˜é‡**

a()ä¸­aæ˜¯æŒ‡å‘å‡½æ•°aï¼ˆï¼‰çš„å˜é‡

### ä¼ å…¥å‡½æ•°

æ—¢ç„¶å˜é‡å¯ä»¥æŒ‡å‘å‡½æ•°ï¼Œå‡½æ•°çš„å‚æ•°èƒ½æ¥æ”¶å˜é‡ï¼Œé‚£ä¹ˆä¸€ä¸ªå‡½æ•°å°±å¯ä»¥æ¥æ”¶å¦ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¿™ç§å‡½æ•°å°±ç§°ä¹‹ä¸ºé«˜é˜¶å‡½æ•°ã€‚

#é«˜é˜¶å‡½æ•°#ï¼š**ä¸€ä¸ªå‡½æ•°å°±å¯ä»¥æ¥æ”¶å¦ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°**

b()

a(b)

x=a

```python
def f(x):
    return abs(int(x))
def a(a,b,f):
    return f(a)+f(b)
if __name__ == '__main__':
    a1=input('a')
    a2=input('b')
    print(a(a1,a2,f))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211019115835-q2esytb.png)

æ­¤æ—¶å‡½æ•°aä¸ºé«˜é˜¶å‡½æ•°ï¼Œéœ€è¦è°ƒç”¨få‡½æ•°ä½œä¸ºå‚æ•°

## map/reduce å†…å»ºå‡½æ•°

å†…å»ºäº† `map()`å’Œ `reduce()`å‡½æ•° é«˜é˜¶å‡½æ•°

### mapï¼ˆï¼‰å‡½æ•°å¤„ç†ç”Ÿæˆæ–°Iteratorè¿­ä»£å™¨

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211019131933-ut47b16.png)ä¸¤ä¸ªå‚æ•°ï¼Œå‡½æ•°åã€å‡½æ•°æœ¬èº«ã€‘ï¼Œéœ€è¦å¤„ç†çš„ç¼–ç¨‹å¼iterator

`<br />`åˆ›å»ºä¸€ä¸ªè¿­ä»£å™¨ï¼Œä½¿ç”¨æ¯ä¸ªè¿­ä»£å™¨ä¸­çš„å‚æ•°è®¡ç®—å‡½æ•°ã€‚å½“æœ€çŸ­è¿­ä»£ç”¨å°½æ—¶åœæ­¢ã€‚

```python
 map(func, *iterables) --> map object
```

```python
def f(x):
    return x*x
r=map(f,[1,2,3,4,4,4,4,4,4,4,4])
print(r)
print(type(r))
print(list(r))
print(type(list(r)))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211019133740-kxaifya.png)

è¿ç®—è§„åˆ™æŠ½è±¡

### reduceï¼ˆï¼‰å‡½æ•°ä½œç”¨åœ¨åºåˆ—ä¸Š

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211019142951-sxqvxp4.png)

ä¸¤ä¸ªå‚æ•°ï¼Œå‡½æ•°åã€å‡½æ•°æœ¬èº«ã€‘ï¼Œéœ€è¦å¤„ç†çš„#åºåˆ—#ï¼š sequence(åºåˆ—)æ˜¯ä¸€ç»„æœ‰é¡ºåºçš„å…ƒç´ çš„é›†åˆ

åºåˆ—åŸºæœ¬æ ·å¼[ä¸‹é™:ä¸Šé™:æ­¥é•¿]

`reduce`æŠŠç»“æœç»§ç»­å’Œåºåˆ—çš„ä¸‹ä¸€ä¸ªå…ƒç´ åšç´¯ç§¯è®¡ç®—

```python
reduce(f, [x1, x2, x3, x4]) = f(f(f(x1, x2), x3), x4)
```

```python
from functools import reduce
>>> def fn(x, y):
...     return x * 10 + y
...
>>> reduce(fn, [1, 3, 5, 7, 9])
13579
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211019142820-4tlrn7x.png)

## filter()è¿‡æ»¤åºåˆ—

å‚æ•°å’Œmapï¼ˆï¼‰ç›¸ä¼¼

`filter()`ä¹Ÿæ¥æ”¶ä¸€ä¸ªå‡½æ•°å’Œä¸€ä¸ªåºåˆ—

## sortedï¼ˆï¼‰æ’åº

é«˜é˜¶å‡½æ•°![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211020184319-dzvm55o.png)

å‚æ•°ï¼šæ’åºå¯¹è±¡ï¼Œkey=å‡½æ•°

```bash
sorted([36, 5, -12, 9, -21], key=abs)
```

æ’åºçš„æ ¸å¿ƒæ˜¯æ¯”è¾ƒä¸¤ä¸ªå…ƒç´ çš„å¤§å°

```bash
print(sorted([1,2,353,6,3,234,43,435]))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211020184421-43dcfax.png)

keyæŒ‡å®šç»å¯¹å€¼å¤§å°æ’åº

```bash
print(sorted([1,2,353,6,3,234,43,435,-242,-34,34,35],key=abs))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211020184629-q7j7zxx.png)

## è¿”å›å‡½æ•°

### å‡½æ•°ä½œä¸ºè¿”å›å€¼

é«˜é˜¶å‡½æ•°é™¤äº†å¯ä»¥æ¥å—å‡½æ•°ä½œä¸ºå‚æ•°å¤–ï¼Œè¿˜å¯ä»¥æŠŠå‡½æ•°ä½œä¸ºç»“æœå€¼è¿”å›

```bash
# å¦‚æœä¸éœ€è¦ç«‹åˆ»æ±‚å’Œï¼Œè€Œæ˜¯åœ¨åé¢çš„ä»£ç ä¸­ï¼Œ
# æ ¹æ®éœ€è¦å†è®¡ç®—æ€ä¹ˆåŠï¼Ÿå¯ä»¥ä¸è¿”å›æ±‚å’Œçš„ç»“æœï¼Œè€Œæ˜¯è¿”å›æ±‚å’Œçš„å‡½æ•°ï¼š
def zary_sum(a):
    def sum():
        sum1=0
        for i in a:
            sum1=sum1+i
        return sum1
    return sum
print(type(zary_sum([1,2,3,4])))
f=zary_sum([1,2,3,4])
print(f())
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211021100621-oot0dd6.png)

è°ƒç”¨è¿”å›å‡½æ•°æ—¶ï¼Œæ¯æ¬¡è°ƒç”¨éƒ½ä¼šæ–°ç”Ÿæˆä¸€ä¸ªå‡½æ•°

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211021100747-ho01xzp.png)

## é—­åŒ…

å½“ä¸€ä¸ªå‡½æ•°çš„è¿”å›å€¼æ˜¯å¦å¤–ä¸€ä¸ªå‡½æ•°ï¼Œ

è€Œè¿”å›çš„é‚£ä¸ªå‡½æ•°å¦‚æœè°ƒç”¨äº†å…¶çˆ¶å‡½æ•°å†…éƒ¨çš„å…¶å®ƒå˜é‡ï¼Œå¦‚æœ **è¿”å›çš„è¿™ä¸ªå‡½æ•°åœ¨å¤–éƒ¨è¢«æ‰§è¡Œï¼Œå°±äº§ç”Ÿäº†é—­åŒ…** ã€‚

**è¿”å›å‡½æ•°ä¸­ï¼Œè¿”å›çš„å‡½æ•°è°ƒç”¨çˆ¶å‡½æ•°çš„å†…éƒ¨å˜é‡**

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211021100950-gl5liu8.png)

```bash
#è¿”å›å‡½æ•°
def count():
    fs=[]
    for i in range(1,4):
        def f():
            return i*i
        fs.append(f)
    return fs
f1,f2,f3=count()
print(f1(),f2(),f3())
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211021103727-wtd0kdc.png)

è¿”å›ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œç‰¢è®°è¯¥å‡½æ•°å¹¶æœªæ‰§è¡Œï¼Œè¿”å›å‡½æ•°ä¸­ä¸è¦å¼•ç”¨ä»»ä½•å¯èƒ½ä¼šå˜åŒ–çš„å˜é‡ã€‚

## lambdaï¼ˆï¼‰åŒ¿åå‡½æ•°

lambdaå…³é”®å­— å‡½æ•°å‚æ•°ï¼šå‡½æ•°è¡¨è¾¾å¼

ä¼ å…¥å‡½æ•°æ—¶ï¼Œæœ‰äº›æ—¶å€™ï¼Œä¸éœ€è¦æ˜¾å¼åœ°å®šä¹‰å‡½æ•°

Pythonå¯¹åŒ¿åå‡½æ•°çš„æ”¯æŒæœ‰é™ï¼Œåªæœ‰ä¸€äº›ç®€å•çš„æƒ…å†µä¸‹å¯ä»¥ä½¿ç”¨åŒ¿åå‡½æ•°ã€‚

```bash
lambda x:x*x
#ç­‰ä»·äº
def f(x):
   return x*x
```

å…³é”®å­— `lambda`è¡¨ç¤ºåŒ¿åå‡½æ•°ï¼Œå†’å·å‰é¢çš„ `x`è¡¨ç¤ºå‡½æ•°å‚æ•°ï¼Œåªèƒ½ä¸€ä¸ªè¡¨è¾¾å¼

ä¸ç”¨å†™ `return`ï¼Œè¿”å›å€¼å°±æ˜¯è¯¥è¡¨è¾¾å¼çš„ç»“æœã€‚

åŒ¿åå‡½æ•°ä¹Ÿæ˜¯ä¸€ä¸ªå‡½æ•°å¯¹è±¡

```bash
f=lamdba x:x*x
```

åˆ¤æ–­å¥‡æ•°å‡½æ•°

åŸå‡½æ•°ï¼š

```bash
def is_odd(n):
    return n % 2 == 1

L = list(filter(is_odd, range(1, 20)))
```

é‡‡ç”¨åŒ¿åå‡½æ•°ä¿®æ”¹

```bash
l=list(filter(lambda x:x%2==1,range(1,20)))
print(l)
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211021143505-wbqh836.png)

## è£…é¥°å™¨ Decorator

### æœ¬è´¨ä¸Šï¼Œè£…é¥°å™¨å°±æ˜¯ä¸€ä¸ªè¿”å›å‡½æ•°çš„é«˜é˜¶å‡½æ•°

@log ç­‰ä»·äº

```bash
now = log(now)
```

ç”±äºå‡½æ•°ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œä¸”å‡½æ•°å¯¹è±¡å¯ä»¥è¢«èµ‹å€¼ç»™å˜é‡ï¼Œ

æ‰€ä»¥ï¼Œé€šè¿‡å˜é‡ä¹Ÿèƒ½è°ƒç”¨è¯¥å‡½æ•°

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211022101101-ncgju0i.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211022101111-tgdwt0q.png)

```bash
def log(func):
    def wrapper(*args,**kwargs):
        print('call %s'% func.__name__)
        return func(*args,**kwargs)
    return wrapper()
#funcä¸ºå‚æ•°æ‰€ä»¥æ˜¯é«˜é˜¶å‡½æ•°
#return å‡½æ•°æ‰€ä»¥æ˜¯è¿”å›å‡½æ•°ï¼Œ
#æ²¡æœ‰è°ƒç”¨çˆ¶å‡½æ•°ä¸­å‚æ•°ï¼Œæ‰€ä»¥ä¸æ˜¯é—­åŒ…
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211022110733-h27x1zh.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211022110058-zyo7xpn.png)

åœºæ™¯æ³¨æ„ï¼š

æ— @è£…é¥°å™¨æ—¶å‡½æ•°ä¸è°ƒç”¨ï¼Œéœ€è¦å‚æ•°æ‰è°ƒç”¨

å½“@æ—¶ä¼šç›´æ¥è°ƒç”¨è£…é¥°å™¨å®šä¹‰å‡½æ•°ç„¶åæ‰§è¡Œå‡½æ•°ï¼Œä¸ç”¨è°ƒç”¨å‡½æ•°

ä¸‰å±‚æ—¶ï¼Œä¼ å…¥å‚æ•°

```bash
def log1(text):
    def decorator(func):
        def wapper(*args,**kw):
            print('%s %s'%(text,func.__name__))
            return func(*args,**kw)
        return wapper
    return decorator
@log1('ruan')
def now3():
    print("hhh")
now3()
```

ç›¸å½“äºåœ¨è¿”å›é«˜é˜¶å‡½æ•°ä¸Šè¿˜æœ‰ä¸€ä¸ªå‡½æ•°ï¼Œæ‰€ä»¥è¿”å›æ—¶åº”è¯¥è¿˜è¦è°ƒç”¨ä¸€æ¬¡

## @wraps å¸¸ç”¨è£…é¥°å™¨

å½“è£…é¥°å™¨æ˜¯ä¸ªé—­åŒ…æ—¶ï¼Œè£…é¥°å™¨è°ƒç”¨å˜é‡ä¼šæ”¹å˜å¢åŠ @wrapsåè£…é¥°å™¨å†…çš„å˜é‡ä¸å˜

è£…é¥°å™¨åœ¨è£…é¥°ä¸€ä¸ªå‡½æ•°æ—¶,ï¼ŒåŸå‡½æ•°å°±æˆäº†ä¸€ä¸ªæ–°çš„å‡½æ•°,ä¹Ÿ

å°±æ˜¯è¯´å…¶å±æ€§ä¼šå‘ç”Ÿå˜åŒ–,æ‰€ä»¥ä¸ºäº† **ä¸æ”¹å˜åŸå‡½æ•°çš„å±æ€§** ,

æˆ‘ä»¬ä¼šè°ƒç”¨functoolsä¸­çš„wrapsè£…é¥°å™¨æ¥ä¿è¯åŸå‡½æ•°çš„å±æ€§ä¸å˜

#### ä¸åŠ wrapsæ—¶

```bash
  @wraps(func)
```

```bash
from functools import wraps
def wrap(func):
   
    def b():
        'b'
        print('decorator:',b.__name__)
        print('funname',func.__name__)
        func()
    return b
@wrap
def a():
    'a'
    print('name',a.__name__)
a()
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211022115935-kgsz7b2.png)

åŠ è£…é¥°å™¨wrapsæ—¶

```bash
from functools import wraps
def wrap(func):
    @wraps(func)
    def b():
        'b'
        print('decorator:',b.__name__)
        print('funname',func.__name__)
        func()
    return b
@wrap
def a():
    'a'
    print('name',a.__name__)
a()
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211022115950-2j3i7ht.png)

é—­åŒ…çš„æ¦‚å¿µï¼šè°ƒç”¨çˆ¶å‡½æ•°ä¸­çš„å˜é‡çš„å‡½æ•°ï¼Œä¸ºäº†ä¿è¯æ•°æ®å®‰å…¨ã€‚å˜é‡ä½œç”¨åŸŸåªåœ¨å‡½æ•°å†…éƒ¨ï¼Œå¯åœ¨é—­åŒ…ä¸­æ“ä½œæ•°æ®ã€‚

è£…é¥°å™¨è¿”å›ä¸ºä»€ä¹ˆæ˜¯å‡½æ•°åï¼ˆå‡½æ•°å†…å­˜åœ°å€ï¼‰è€Œä¸ç›´æ¥æ‰§è¡Œå‡½æ•°?

å½“æœ‰å‚æ•°ä¼ å…¥æ—¶ï¼Œå¯ç›´æ¥ä¸è°ƒç”¨çš„å‡½æ•°ä¸­çš„å€¼ä¼ å…¥å‚æ•°æ‰§è¡Œã€‚

ï¼ˆï¼‰æ˜¯è¿ç®—ç¬¦f()ä¸f.__call__()ç­‰ä»·ï¼šå°†få¯¹è±¡å˜æˆå˜æˆå¯è°ƒç”¨çš„å¯¹è±¡

## åå‡½æ•°ï¼ˆfunctoolsæ¨¡å—ï¼‰

å±äºfunctoolsæ¨¡å—

### ä½œç”¨ï¼š

é€šè¿‡è®¾å®šå‚æ•°çš„é»˜è®¤å€¼ï¼Œé™ä½å‡½æ•°è°ƒç”¨çš„å‚æ•°

`int()`å‡½æ•°é»˜è®¤æŒ‰åè¿›åˆ¶è½¬æ¢

print(int('100',base=8))

ç»å¸¸è°ƒç”¨äºæ˜¯é‡å†™ä¸€ä¸ªå‡½æ•°int2

```bash
def int2(x, base=8):
    print(int(x, base))
    return int(x, base)
print(int2('2334'))
```

é‡‡ç”¨åå‡½æ•°

```bash
import functools
int3=functools.partial(int,base=8)
print(int3('46'))
print(int())
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211028103219-mdbldp6.png)

functools.partialçš„ä½œç”¨æ˜¯å°†å‡½æ•°çš„ç‰¹å®šå‚æ•°å›ºå®šä½ï¼ˆè®¾å®šä¸ºé»˜è®¤å€¼ï¼‰

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211028103645-7po81oc.png)

åˆ›å»ºåå‡½æ•°çš„æ—¶å€™ä¹Ÿå¯ä»¥æ¥æ”¶ï¼Œå‡½æ•°å¯¹è±¡ï¼Œ*argsï¼Œ**kw

## æ¨¡å—

pythonåŒ…ï¼šä½œç”¨åŒºåˆ†ç›¸åŒåç§°çš„æ¨¡å—

æ¨¡å—ç›¸å½“äºä¸€ä¸ªpyæ–‡ä»¶

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211028105055-2xv0z2i.png)

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211028105133-tkzgcka.png)

## ä½œç”¨åŸŸ

ä»…ä»…åœ¨æ¨¡å—å†…éƒ¨ä½¿ç”¨ã€‚åœ¨Pythonä¸­ï¼Œæ˜¯é€šè¿‡ `_`å‰ç¼€æ¥å®ç°çš„ã€‚

### pubilcå…¬å¼€

æ­£å¸¸çš„å‡½æ•°å’Œå˜é‡åæ˜¯å…¬å¼€çš„ï¼ˆpublicï¼‰

### privateéå…¬å¼€_,__

_xxxå’Œ__xxxè¿™æ ·çš„å‡½æ•°æˆ–å˜é‡å°±æ˜¯éå…¬å¼€çš„ï¼ˆprivateï¼‰

## å®‰è£…ç¬¬ä¸‰æ–¹æ¨¡å—pip

pip install æ¨¡å—å

### æ¨¡å—æœç´¢è·¯å¾„

```bash
import sys
print(sys.path)
```

ä¸¤ç§æ–¹å¼ï¼š

1. æ·»åŠ æœç´¢è·¯å¾„
   ```bash
    import sys
   sys.path.append('/Users/michael/my_py_scripts')
   ```
2. è®¾ç½®ç¯å¢ƒå˜é‡

ç¬¬äºŒç§æ–¹æ³•æ˜¯è®¾ç½®ç¯å¢ƒå˜é‡ `PYTHONPATH`

## é¢å‘å¯¹è±¡ç¼–ç¨‹

é¢å‘å¯¹è±¡ç¼–ç¨‹â€”â€”Object Oriented Programmingï¼Œç®€ç§°OOPï¼Œæ˜¯ä¸€ç§ç¨‹åºè®¾è®¡æ€æƒ³

å¯¹è±¡ä½œä¸ºç¨‹åºçš„åŸºæœ¬å•å…ƒï¼Œ

ä¸€ä¸ªå¯¹è±¡åŒ…å«äº†æ•°æ®å’Œæ“ä½œæ•°æ®çš„å‡½æ•°

æ•°æ®å°è£…ã€ç»§æ‰¿å’Œå¤šæ€æ˜¯é¢å‘å¯¹è±¡çš„ä¸‰å¤§ç‰¹ç‚¹

## ç±»å’Œå®ä¾‹

é¢å‘å¯¹è±¡æœ€é‡è¦çš„æ¦‚å¿µå°±æ˜¯ç±»ï¼ˆClassï¼‰å’Œå®ä¾‹ï¼ˆInstanceï¼‰

ç±»æ˜¯æŠ½è±¡å‡ºæ¥çš„æ¨¡æ¿

å®ä¾‹æ˜¯æ ¹æ®ç±»åˆ›å»ºå‡ºçš„å¯¹è±¡ï¼Œæ¯ä¸ªå¯¹è±¡å¯èƒ½æœ‰å±æ€§å’Œæ–¹æ³•

å®šä¹‰ç±»æ˜¯é€šè¿‡ `class`å…³é”®å­—ï¼Œç±»åé€šå¸¸æ˜¯å¤§å†™å¼€å¤´çš„å•è¯

```bash
class Student(object):
    pass
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211028113324-1nch2o5.png)

ï¼ï¼ï¼åœ¨ç±»ä¸­å®šä¹‰å‡½æ•°æœ‰ä¸€ç‚¹ä¸åŒï¼Œå®šä¹‰ä½›å¦‚æ–¹æ³•ç¬¬ä¸€ä¸ªå‚æ•°æ°¸è¿œæ˜¯å®ä¾‹å˜é‡æœ¬èº«self

ä»ç„¶å¯ä»¥ç”¨é»˜è®¤å‚æ•°ã€å¯å˜å‚æ•°ã€å…³é”®å­—å‚æ•°å’Œå‘½åå…³é”®å­—å‚æ•°

## æ•°æ®å°è£…

```bash
class Student(object):
    def __init__(self, name, score):
        self.name = name
        self.score = score

    def get_grade(self):
        if self.score >= 90:
            return 'A'
        elif self.score >= 60:
            return 'B'
        else:
            return 'C'
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211028113713-vhhvowi.png)

## è®¿é—®é™åˆ¶

### ä½œç”¨ï¼š

**ç¡®ä¿äº†å¤–éƒ¨ä»£ç ä¸èƒ½éšæ„ä¿®æ”¹å¯¹è±¡å†…éƒ¨çš„çŠ¶æ€**

å®ä¾‹çš„å˜é‡åå¦‚æœä»¥ `__`å¼€å¤´ï¼Œå°±å˜æˆäº†ä¸€ä¸ªç§æœ‰å˜é‡ï¼ˆprivateï¼‰

å¤–éƒ¨æ— æ³•è®¿é—®_name

```bash
class Student(object):
    def __init__(self,name,age):
        self._name=name
        self.age=age
    def print_name(self):
        print(self._name)
        return self.age,self._name
a=Student('ruan',23)
h=a.print_name()
print(h)
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211028114732-awu2k2m.png)

è‹¥æ˜¯è¦è·å–ï¼Œä¿®æ”¹å˜é‡å¢åŠ getï¼Œsetæ–¹å¼å³å¯

```bash
class Student(object):
    def __init__(self,name,age):
        self._name=name
        self.age=age 
    def get_name(self):
        return self.name
    def set_name(self,name):
        self._name=name
```

Pythonæœ¬èº«æ²¡æœ‰ä»»ä½•æœºåˆ¶é˜»æ­¢ä½ å¹²åäº‹ï¼Œä¸€åˆ‡å…¨é è‡ªè§‰ã€‚

ç±»å¤–éƒ¨æ— æ³•è®¿é—®

## ç»§æ‰¿å’Œå¤šæ€

### ç»§æ‰¿

#### å¤šæ€

åœ¨ç»§æ‰¿å…³ç³»ä¸­ï¼Œå¦‚æœä¸€ä¸ªå®ä¾‹çš„æ•°æ®ç±»å‹æ˜¯æŸä¸ªå­ç±»ï¼Œé‚£å®ƒçš„æ•°æ®ç±»å‹ä¹Ÿå¯ä»¥è¢«çœ‹åšæ˜¯çˆ¶ç±»ã€‚

æ¯”å¦‚ï¼šåŠ¨ç‰©æ˜¯çˆ¶ç±»ï¼Œç‹—å’Œé±¼æ˜¯å­ç±»ï¼›é±¼æ˜¯é±¼ç±»ï¼Œé±¼æ˜¯åŠ¨ç‰©éƒ½æˆç«‹ã€‚

åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯å¦æ˜¯æŸä¸ªç±»å‹å¯ä»¥ç”¨ `isinstance()`åˆ¤æ–­

### é¸­å­ç±»å‹

å¹¶ä¸è¦æ±‚ä¸¥æ ¼çš„ç»§æ‰¿ä½“ï¼Œä¸€ä¸ªå¯¹è±¡åªè¦â€œçœ‹èµ·æ¥åƒé¸­å­ï¼Œèµ°èµ·è·¯æ¥åƒé¸­å­â€ï¼Œé‚£å®ƒå°±å¯ä»¥è¢«çœ‹åšæ˜¯é¸­å­ã€‚

## è·å–å¯¹è±¡ä¿¡æ¯

### typeï¼ˆï¼‰åˆ¤æ–­å¯¹è±¡ç±»å‹

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211102183643-gwgjuho.png)

### isinstance()å¯¹äºç»§æ‰¿å…³ç³»ï¼Œåˆ¤æ–­classçš„ç±»å‹

### dirï¼ˆï¼‰è·å–å¯¹è±¡çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•

#### lenï¼ˆï¼‰å¯¹è±¡é•¿åº¦

#### lowerï¼ˆï¼‰è¿”å›å°å†™çš„å­—ç¬¦ä¸²

#### getattrï¼ˆï¼‰è·å–å±æ€§a

#### setattrï¼ˆï¼‰è®¾ç½®å±æ€§a

#### hasattrï¼ˆobj,'a'ï¼‰åˆ¤æ–­æ˜¯å¦æœ‰å±æ€§a

```bash
getattr(obj, 'z', 404) # è·å–å±æ€§'z'ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œè¿”å›é»˜è®¤å€¼404
404
```

## å®ä¾‹å±æ€§å’Œç±»å±æ€§

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211102184822-83nvy25.png)

```bash
 class Student(object):
    name='ruan'
   
h=Student()
h.name='hhh'

```

ç±»ä¸­çš„nameæ˜¯ç±»å±æ€§ï¼Œ

åˆ›å»ºhç±»å¯¹è±¡å³å®ä¾‹åèµ‹å€¼çš„æ˜¯å®ä¾‹å±æ€§nameï¼Œä½†ç”±äºå®ä¾‹å¯¹è±¡çš„ä¼˜å…ˆçº§æ¯”ç±»å±æ€§é«˜ï¼Œä¼šå±è”½ç±»ä¸­çš„nameå±æ€§ï¼Œå³h.nameçš„å€¼ä¸ºhhh

### æ€»ç»“ï¼š

1. å®ä¾‹å±æ€§å±äºå„ä¸ªå®ä¾‹æ‰€æœ‰ï¼Œäº’ä¸å¹²æ‰°ï¼›
2. ç±»å±æ€§å±äºç±»æ‰€æœ‰ï¼Œæ‰€æœ‰å®ä¾‹å…±äº«ä¸€ä¸ªå±æ€§ï¼›
3. ä¸è¦å¯¹å®ä¾‹å±æ€§å’Œç±»å±æ€§ä½¿ç”¨ç›¸åŒçš„åå­—ï¼Œå¦åˆ™å°†äº§ç”Ÿéš¾ä»¥å‘ç°çš„é”™è¯¯

# é¢å‘å¯¹è±¡é«˜çº§ç¼–ç¨‹

æ•°æ®å°è£…ã€ç»§æ‰¿å’Œå¤šæ€åªæ˜¯é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ä¸­æœ€åŸºç¡€çš„3ä¸ªæ¦‚å¿µ

å¤šé‡ç»§æ‰¿ã€å®šåˆ¶ç±»ã€å…ƒç±»

# _slots_ä½¿ç”¨

å¯ä»¥ç»™åˆ›å»ºçš„å®ä¾‹ç»‘å®šå±æ€§å’Œæ–¹æ³•

ç»™ä¸€ä¸ªå®ä¾‹ç»‘å®šçš„æ–¹æ³•å¯¹å¦å¤–ä¸€ä¸ªå®ä¾‹å¯¹è±¡æ˜¯ä¸èµ·ä½œç”¨çš„

```bash
class A:
    def run(self):
        print("i im ferther runing....")
sun1=A()
#ç»™å®ä¾‹sun1è®¾ç½®nameå±æ€§
sun1.name='i im name'
#åˆ›å»ºå®ä¾‹å¯¹è±¡2
sun2=A()
#å®ä¾‹å¯¹è±¡sun1çš„å±æ€§å’Œsun2æ— å…³ï¼Œå³sun2æ²¡æœ‰nameå±æ€§
#ç»™å®ä¾‹sun1ç»‘å®šæ–¹æ³•ï¼Œæ–¹æ³•å’Œå±æ€§åŒç†
#å®šä¹‰æ–¹æ³•
def setAll(self,num):
    print(num)
sun1.newfun=MethodType(setAll, sun1)
sun1.newfun(37)
#è‹¥æ‰€æœ‰å®ä¾‹éƒ½éœ€è¦ç»‘å®šæ–¹æ³•åˆ™ç»™ç±»ç»‘å®šæ–¹æ³•
A.setAll=setAll
#ç»™ç±»ç»‘å®šæ–¹æ³•åï¼Œæ‰€æœ‰åˆ›å»ºçš„å®ä¾‹çš„å‡å¯è°ƒç”¨
```

```
def set_age(self, age): # å®šä¹‰ä¸€ä¸ªå‡½æ•°ä½œä¸ºå®ä¾‹æ–¹æ³•
...     self.age = age
...
>>> from types import MethodType
>>> s.set_age = MethodType(set_age, s) # ç»™å®ä¾‹ç»‘å®šä¸€ä¸ªæ–¹æ³•
>>> s.set_age(25) # è°ƒç”¨å®ä¾‹æ–¹æ³•
```

## é™åˆ¶å®ä¾‹å±æ€§ï¼Œå®šä¹‰ä¸€ä¸ªç‰¹æ®Šçš„ `__slots__`å˜é‡

```python
class Student(object):
    __slots__ = ('name', 'age') # ç”¨tupleå®šä¹‰å…è®¸ç»‘å®šçš„å±æ€§åç§°
s=Student()
s.name='ruan'
s.firstname='i im firstname'
#è¾“å‡ºçš„æ—¶å€™firstnameçš„å±æ€§ä¼šæŠ¥é”™ï¼Œ
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
AttributeError: 'Student' object has no attribute 'firstaname'
```

### æ³¨æ„ï¼š

_slots_ä½¿ç”¨æ—¶è¦æ³¨æ„ï¼Œå®šä¹‰çš„å±æ€§åªåœ¨å½“å‰çš„ç±»çš„å®ä¾‹ä¸­ï¼Œå¯¹äºç»§æ‰¿çš„å­ç±»æ˜¯ä¸èµ·ä½œç”¨çš„

```python
class People(object):
    __slots__ = ('name','age')
    def run(self):
        print('i im run people......')

class Teacher(People):
    def say(self):
        print('i im teacher....')
t=Teacher()
t.tall='shouhua'
print(t.tall)
p=People()
p.tall('shouhuap')
print(p.tall)
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211103140608-7ezqmvs.png)

åªé™åˆ¶çˆ¶ç±»Peopleçš„å±æ€§ï¼Œè€Œå­ç±»Teacherä¸­ä¸é™åˆ¶

## @property

åœ¨ç»‘å®šå±æ€§æ—¶ï¼Œå¦‚æœæˆ‘ä»¬ç›´æ¥æŠŠå±æ€§æš´éœ²å‡ºå»,å¯¼è‡´å¯ä»¥éšæ„æ›´æ”¹.é€šè¿‡getï¼Œsetæ¥è·å–æ›´æ”¹å±æ€§å€¼ã€‚

åœ¨pythonä¸­ç›´æ¥è°ƒç”¨è£…é¥°å™¨å°†ä¸€ä¸ªæ–¹æ³•å˜æˆå±æ€§è°ƒç”¨

```python
class Student(object):
    @property
    #ä½¿ç”¨getæ–¹æ³•æ˜¯è°ƒç”¨è£…é¥°å™¨@peopertyï¼Œ
    # åŒæ—¶è‡ªåŠ¨åˆ›å»ºäº†å¦ä¸€ä¸ªè£…é¥°å™¨@å±æ€§.setter
    def score(self):
        return self.score
    @score.setter
    def score(self,value):
        self._score=value
```

## æ€»ç»“ï¼š

-æƒé™é™åˆ¶åªå¯¹ç±»å¯¹è±¡å®é™…èµ·ä½œç”¨ï¼Œæƒ³è¦è¾¾åˆ°æ–¹æ³•å’Œå±æ€§å¼ºåˆ¶è®¿é—®æƒé™ï¼Œéœ€è¦ä½¿ç”¨@propertyè£…é¥°å™¨è¿›è¡Œgetï¼Œsetæ–¹æ³•

å±æ€§åä¸æ–¹æ³•åä¸€å®šè¦åŒºåˆ†å¼€ï¼Œä¸ç„¶ä¼šè¿›å…¥æ­»å¾ªç¯ï¼ˆself._ageï¼Œdef age()ï¼‰
å®ä¾‹åŒ–çš„å¯¹è±¡ä½¿ç”¨å±æ€§æ—¶ï¼Œä¸æ˜¯è°ƒç”¨å±æ€§ï¼ˆmeizi._ageï¼‰ï¼Œè€Œæ˜¯ç”¨çš„æ–¹æ³•åï¼ˆmeizi.ageï¼‰
@propertyå…¶å®å°±æ˜¯å®ç°äº†getteråŠŸèƒ½ï¼› @xxx.setterå®ç°çš„æ˜¯setteråŠŸèƒ½ï¼›è¿˜æœ‰ä¸€ä¸ª @xxx.deleterå®ç°åˆ é™¤åŠŸèƒ½
å®šä¹‰æ–¹æ³•çš„æ—¶å€™ @propertyå¿…é¡»åœ¨ @xxx.setterä¹‹å‰ï¼Œä¸”äºŒè€…ä¿®é¥°çš„æ–¹æ³•åç›¸åŒï¼ˆage()ï¼‰
å¦‚æœåªå®ç°äº† @propertyï¼ˆè€Œæ²¡æœ‰å®ç°@xxx.setterï¼‰ï¼Œé‚£ä¹ˆè¯¥å±æ€§ä¸º åªè¯»å±æ€§

```python
#è¯·åˆ©ç”¨@propertyç»™ä¸€ä¸ªScreenå¯¹è±¡åŠ ä¸Šwidthå’Œheightå±æ€§ï¼Œ
# ä»¥åŠä¸€ä¸ªåªè¯»å±æ€§resolutionï¼š
class Screen(object):
    __slots__ = ('_width','_height','_resolution')

    @property
    def width(self):
        return self._width

    # æ–¹æ³•åç§°å’Œå®ä¾‹å˜é‡å‡ä¸ºwidth:
    @width.setter
    def width(self,widthValue):
        self._width=widthValue

    @property
    def height(self):
        return self._height

    @width.setter
    def height(self, height):
        self._height = height

    @property
    def resolution(self):
        return self._width * self._height
s=Screen()
s.width=23
s.height=12

print(s.resolution)
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211103150647-dge6za2.png)

```python
s.score = 60 # OKï¼Œå®é™…è½¬åŒ–ä¸ºs.set_score(60)
s.score # OKï¼Œå®é™…è½¬åŒ–ä¸ºs.get_score()
```

è¦ç‰¹åˆ«æ³¨æ„ï¼šå±æ€§çš„æ–¹æ³•åä¸è¦å’Œå®ä¾‹å˜é‡é‡åã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹çš„ä»£ç æ˜¯é”™è¯¯çš„ï¼š

```
class Student(object):

    # æ–¹æ³•åç§°å’Œå®ä¾‹å˜é‡å‡ä¸ºbirth:
    @property
    def birth(self):
        return self.birth
```

å‡ºç°é€’å½’è°ƒç”¨é”™è¯¯

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211103151046-5z499ew.png)

ä¹‹å‰çš„ä¾‹å­ä¸­widthå’Œ_widthä¸åŒæ‰€ä»¥å¯ä»¥è¿è¡Œ

## å¤šé‡ç»§æ‰¿

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211103151750-dvwa7qb.png)

pythonå¯ä»¥æ”¯æŒå¤šç»§æ‰¿ï¼Œå³ä¸€ä¸ªå­ç±»å¯ä»¥ç»§æ‰¿å¤šä¸ªçˆ¶ç±»ï¼›ä½†javaæ˜¯å•ç»§æ‰¿ï¼Œåªèƒ½æœ‰ä¸€ä¸ªçˆ¶ç±»

Tercherï¼ˆNameï¼Œstudyï¼Œteachï¼‰å³Teacherå¯ä»¥ç»§æ‰¿å¤šä¸ªçˆ¶ç±»

### MixIn

åœ¨è®¾è®¡ç±»çš„ç»§æ‰¿å…³ç³»æ—¶ï¼Œé€šå¸¸ï¼Œä¸»çº¿éƒ½æ˜¯å•ä¸€ç»§æ‰¿ä¸‹æ¥çš„ï¼Œä¾‹å¦‚ï¼Œ`Teacher`ç»§æ‰¿è‡ªNameã€‚ä½†æ˜¯ï¼Œå¦‚æœéœ€è¦â€œæ··å…¥â€é¢å¤–çš„åŠŸèƒ½ï¼Œé€šè¿‡å¤šé‡ç»§æ‰¿å°±å¯ä»¥å®ç°ï¼Œæ¯”å¦‚Teacheré™¤äº†ç»§æ‰¿è‡ª `Name`å¤–ï¼Œå†åŒæ—¶ç»§æ‰¿ `Teach`ã€‚è¿™ç§è®¾è®¡é€šå¸¸ç§°ä¹‹ä¸ºMixIn

Pythonè‡ªå¸¦äº† `TCPServer`å’Œ `UDPServer`è¿™ä¸¤ç±»ç½‘ç»œæœåŠ¡ï¼Œè€Œè¦åŒæ—¶æœåŠ¡å¤šä¸ªç”¨æˆ·å°±å¿…é¡»ä½¿ç”¨å¤šè¿›ç¨‹æˆ–å¤šçº¿ç¨‹æ¨¡å‹ï¼Œè¿™ä¸¤ç§æ¨¡å‹ç”± `ForkingMixIn`å’Œ `ThreadingMixIn`æä¾›ã€‚

### å¤šç»§æ‰¿

å¤šé‡ç»§æ‰¿è¿™ä¸ªåè¯ä¸€èˆ¬ç”¨æ¥å½¢å®¹ç»§æ‰¿é“¾æ¡å¯ä»¥å¾ˆé•¿ï¼Œå¤šä¸ªå±‚æ¬¡ã€‚

### å¤šé‡ç»§æ‰¿

**å¤šç»§æ‰¿åˆ™æŒ‡ä¸€ä¸ªç±»å¯ä»¥æœ‰å¤šä¸ªåŸºç±»ï¼Œç›¸ååˆ™æ˜¯å•ç»§æ‰¿**ã€‚ä»»ä½•é¢å‘å¯¹è±¡ç¼–ç¨‹è¯­è¨€éƒ½æ”¯æŒå¤šé‡ç»§æ‰¿ï¼Œä½†åƒjavaè¿™ç§åªèƒ½é€šè¿‡æ¥å£å®ç°æœ‰é™ç¨‹åº¦çš„å¤šç»§æ‰¿

é—®ï¼šå¤šç»§æ‰¿ å¦‚æœå¤šä¸ªç±»æœ‰å…±åŒå¾—æ–¹æ³•å æ€ä¹ˆåŒºåˆ†æ˜¯è°ƒå¾—å“ªä¸ªç±»ğŸ¤¡

ç­”ï¼šè°ƒç”¨è¯¥æ–¹æ³•çš„æ—¶å€™ï¼Œä¼šè°ƒç”¨ç¬¬ä¸€é¡ºä½ç»§æ‰¿çˆ¶ç±»çš„æ–¹æ³•

### æ€»ç»“ï¼š

1. Pythonå…è®¸ä½¿ç”¨å¤šé‡ç»§æ‰¿ï¼Œå› æ­¤ï¼ŒMixInå°±æ˜¯ä¸€ç§å¸¸è§çš„è®¾è®¡
2. åªå…è®¸å•ä¸€ç»§æ‰¿çš„è¯­è¨€ï¼ˆå¦‚Javaï¼‰ä¸èƒ½ä½¿ç”¨MixInçš„è®¾è®¡

## å®šåˆ¶ç±»

Pythonçš„classä¸­è¿˜æœ‰__xxx__æœ‰ç‰¹æ®Šç”¨é€”çš„å‡½æ•°ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬å®šåˆ¶ç±»

### __str__()å›ç”¨æˆ·çœ‹åˆ°çš„å­—ç¬¦ä¸²

å°†å¯¹è±¡ `<__main__.Student object at 0x109afb190>`å˜æˆæ˜“è¯»çš„æ•°æ®

åªåœ¨è°ƒç”¨printæ—¶ä¼šè°ƒç”¨__str__ï¼Œäº¤äº’ç•Œé¢æ—¶è¿˜æ˜¯ç°å®ä¸Šæ–¹ä¸æ˜“è¯»çš„å¯¹è±¡å†…å®¹ï¼Œæ­¤æ—¶ç”¨

### __repr__()è¿”å›ç¨‹åºå¼€å‘è€…çœ‹åˆ°çš„å­—ç¬¦ä¸²

`__str__()`è¿”å›ç”¨æˆ·çœ‹åˆ°çš„å­—ç¬¦ä¸²ï¼Œè€Œ `__repr__()`è¿”å›ç¨‹åºå¼€å‘è€…çœ‹åˆ°çš„å­—ç¬¦ä¸²ï¼Œ

ä¹Ÿå°±æ˜¯è¯´ï¼Œ`__repr__()`æ˜¯ä¸ºè°ƒè¯•æœåŠ¡çš„

ç®€å†™

```python
def __str__(self):
        return 'xxx object (name=%s)' % self.name
__repr__ = __str__
```

### ___iter__()è¿”å›ä¸€ä¸ªè¿­ä»£å¯¹è±¡

éœ€è¦ç”¨åˆ°for inè¿­ä»£ï¼Œéœ€è¦è½¬åŒ–ä¸ºè¿­ä»£å¯¹è±¡

è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªè¿­ä»£å¯¹è±¡ï¼Œç„¶åï¼ŒPythonçš„forå¾ªç¯å°±ä¼šä¸æ–­è°ƒç”¨è¯¥è¿­ä»£å¯¹è±¡çš„ `__next__()`æ–¹æ³•æ‹¿åˆ°å¾ªç¯çš„ä¸‹ä¸€ä¸ªå€¼ï¼Œç›´åˆ°é‡åˆ° `StopIteration`é”™è¯¯æ—¶é€€å‡ºå¾ªç¯

ä¾‹å­ï¼š

```python
class Fib(object):
    def __init__(self):
        self.a,self.b=0,1
    def __iter__(self):
        return self
    def __next__(self):
        self.a,self.b=self.b,self.a+self.b
        if self.a>1000:
            raise  StopIteration
        return self.a
a=Fib()
for i in a:
    print(i)
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211103155046-1xs33i9.png)

### __**getitem**__()è¡¨ç°å¾—åƒlisté‚£æ ·æŒ‰ç…§ä¸‹æ ‡å–å‡ºå…ƒç´ 

```python
class Fib(object):
    def __init__(self):
        self.a,self.b=0,1
    def __iter__(self):
        return self
    def __next__(self):
        self.a,self.b=self.b,self.a+self.b
        if self.a>1000:
            raise  StopIteration
        return self.a
    def __getitem__(self, item):
        a,b=1,1
        for i in range(item):
            a,b=b,a+b
        return a
a=Fib()
print(a[3])

```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211103155122-fo5pjxz.png)

ä»¥ä¸Šæ˜¯ä¼ å…¥intï¼Œåˆ‡ç‰‡åŠŸèƒ½å®ç°ï¼Œisinstanceåˆ¤æ–­ç±»å‹

```python
class Fib(object):
    def __init__(self):
        self.a,self.b=0,1
    def __iter__(self):
        return self
    def __next__(self):
        self.a,self.b=self.b,self.a+self.b
        if self.a>1000:
            raise  StopIteration
        return self.a
    def __getitem__(self, item):
        if isinstance(item,int):
            a, b = 1, 1
            for i in range(item):
                a, b = b, a + b
            return a
        if isinstance(item,slice):
            start=item.start
            stop=item.stop
            if start is None:
                start=0
            a,b=1,1
            L=[]
            for x in range(stop):
                L.append(a)
                a,b=b,a+b
        return L

a=Fib()
print(a[3:12])
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211103155838-wdwjies.png)

### __getattr__()åŠ¨æ€è¿”å›ä¸€ä¸ªå±æ€§

è°ƒç”¨ç±»å±æ€§æˆ–æ–¹æ³•æ—¶ï¼Œå…ˆåœ¨__init__()è·å–åï¼Œå†ä»__getattr__()è·å–ï¼Œè·å–ä¸åˆ°æ‰æŠ¥é”™

### __call__()ç›´æ¥è°ƒç”¨å®ä¾‹æœ¬èº«

ä¸ç›´æ¥è°ƒç”¨è¿™ä¸ªå‡½æ•°ä¸€æ ·

```python
class People(object):
    def __init__(self,name):
        self.name=name
    def __call__(self, *args, **kwargs):
        print('i im call %s'% self.name)

p=People('ruan')
p()
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211104150832-d8wkn0m.png)

## ä½¿ç”¨æšä¸¾ç±»

æšä¸¾ç±»ï¼šåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä¸€ä¸ªç±»çš„ å®ä¾‹å¯¹è±¡ çš„**æ•°é‡**æ˜¯ **æœ‰é™ä¸”å›ºå®š** çš„ï¼Œå¦‚å­£èŠ‚ç±»ï¼Œå®ƒçš„å®ä¾‹å¯¹è±¡åªæœ‰æ˜¥ã€å¤ã€ç§‹ã€å†¬ã€‚ åœ¨Javaä¸­åƒè¿™ç§å¯¹è±¡å®ä¾‹æœ‰é™ä¸”å›ºå®šçš„ç±»è¢«ç§°ä¸ºæšä¸¾ç±»ï¼›è¿™æ ·çš„æšä¸¾ç±»å‹å®šä¹‰ä¸€ä¸ªclassç±»å‹ï¼Œç„¶åï¼Œæ¯ä¸ªå¸¸é‡éƒ½æ˜¯classçš„ä¸€ä¸ªå”¯ä¸€å®ä¾‹ã€‚Pythonæä¾›äº† `Enum`ç±»æ¥å®ç°è¿™ä¸ªåŠŸèƒ½ã€‚

```python
from enum import Enum
M=Enum('a',('sun1','sun2','sun3','sun4'))
print(M.sun1)
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211104151622-x7yqw9j.png)

è‡ªå®šä¹‰æšä¸¾ç±»

```python
from enum import Enum,unique
@unique
class Week(Enum):
    sun1=1
    sun2=2
    sun3=3
day2=Week.sun2
print(day2)
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211104152125-y6nm9vn.png)

```python
from enum import Enum,unique
@unique
class Gender(Enum):
    Male=0
    Female=1
class Student(object):
    def __init__(self,name,gender):
        self.name=name
        self.gender=gender

# æµ‹è¯•:
bart = Student('Bart', Gender.Male)
if bart.gender == Gender.Male:
    print('æµ‹è¯•é€šè¿‡!')
else:
    print('æµ‹è¯•å¤±è´¥!')
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211104152731-wmdziil.png)

## ä½¿ç”¨å…ƒç±»[åˆ›å»ºç±»]

å®ä¾‹å¯¹è±¡æ˜¯ç±»åˆ›å»º

ç±»æ˜¯å…ƒç±»åˆ›å»º

åˆ›å»ºç±»çš„æ–¹å¼

### æ–¹å¼ä¸€ï¼štypeï¼ˆï¼‰

`type()`å‡½æ•°æ—¢å¯ä»¥è¿”å›ä¸€ä¸ªå¯¹è±¡çš„ç±»å‹ï¼Œåˆå¯ä»¥åˆ›å»ºå‡ºæ–°çš„ç±»å‹ï¼Œæ¯”å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ `type()`å‡½æ•°åˆ›å»ºå‡º `Hello`ç±»

```python
from class1104 import *
h=Hello()
print(type(h))
print(type(Hello))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211104153538-6iulybe.png)

```python
 Hello = type('Hello', (object,), dict(hello=fn))
```

è¦åˆ›å»ºä¸€ä¸ªclasså¯¹è±¡ï¼Œ`type()`å‡½æ•°ä¾æ¬¡ä¼ å…¥3ä¸ªå‚æ•°ï¼š

1. classçš„åç§°ï¼›
2. ç»§æ‰¿çš„çˆ¶ç±»é›†åˆï¼Œæ³¨æ„Pythonæ”¯æŒå¤šé‡ç»§æ‰¿ï¼Œå¦‚æœåªæœ‰ä¸€ä¸ªçˆ¶ç±»ï¼Œåˆ«å¿˜äº†tupleçš„å•å…ƒç´ å†™æ³•ï¼›
3. classçš„æ–¹æ³•åç§°ä¸å‡½æ•°ç»‘å®šï¼Œè¿™é‡Œæˆ‘ä»¬æŠŠå‡½æ•° `fn`ç»‘å®šåˆ°æ–¹æ³•å `hello`ä¸Š

### æ–¹å¼äºŒï¼šå…ƒç±»metaclass

å…ˆå®šä¹‰metaclassï¼Œç„¶ååˆ›å»ºç±»ã€‚

å…ˆå®šä¹‰ç±»ï¼Œç„¶ååˆ›å»ºå®ä¾‹ã€‚

~~metaclassæ˜¯Pythoné¢å‘å¯¹è±¡é‡Œæœ€éš¾ç†è§£ï¼Œä¹Ÿæ˜¯æœ€éš¾ä½¿ç”¨çš„é­”æœ¯ä»£ç ã€‚~~

æŒ‰ç…§é»˜è®¤ä¹ æƒ¯ï¼Œmetaclassçš„ç±»åæ€»æ˜¯ä»¥Metaclassç»“å°¾ï¼Œä»¥ä¾¿æ¸…æ¥šåœ°è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªmetaclass

```python
# metaclassé‡‡ç”¨typeåˆ›å»ºç±» ï¼Œmetaclassæ˜¯ç±»çš„æ¨¡æ¿ï¼Œæ‰€ä»¥å¿…é¡»ä»`type`ç±»å‹æ´¾ç”Ÿ
class ListMetaclass(type):
    def __new__(cls, name,bases,attrs):
        attrs['add']=lambda self, value:self.append(value)
        return type.__new__(cls,name,bases,attrs)

class MyList(list,metaclass=ListMetaclass):
    pass
mylist=MyList()
mylist.add(1)
print(mylist)
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211104155010-cbldtfp.png)

`__new__()`æ–¹æ³•æ¥æ”¶åˆ°çš„å‚æ•°ä¾æ¬¡æ˜¯ï¼š

1. å½“å‰å‡†å¤‡åˆ›å»ºçš„ç±»çš„å¯¹è±¡ï¼›
2. ç±»çš„åå­—ï¼›
3. ç±»ç»§æ‰¿çš„çˆ¶ç±»é›†åˆï¼›
4. ç±»çš„æ–¹æ³•é›†åˆ

### åº”ç”¨åœºæ™¯

ORMå…¨ç§°â€œObject Relational Mappingâ€ï¼Œå³å¯¹è±¡-å…³ç³»æ˜ å°„ï¼Œå°±æ˜¯æŠŠå…³ç³»æ•°æ®åº“çš„ä¸€è¡Œæ˜ å°„ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªç±»å¯¹åº”ä¸€ä¸ªè¡¨ï¼Œè¿™æ ·ï¼Œå†™ä»£ç æ›´ç®€å•ï¼Œä¸ç”¨ç›´æ¥æ“ä½œSQLè¯­å¥ã€‚

è¦ç¼–å†™ä¸€ä¸ªORMæ¡†æ¶ï¼Œæ‰€æœ‰çš„ç±»éƒ½åªèƒ½åŠ¨æ€å®šä¹‰ï¼Œå› ä¸ºåªæœ‰ä½¿ç”¨è€…æ‰èƒ½æ ¹æ®è¡¨çš„ç»“æ„å®šä¹‰å‡ºå¯¹åº”çš„ç±»æ¥ã€‚

## é”™è¯¯å¤„ç†try

```python
try:
    print('try...')
    r = 10 / 0
    print('result:', r)
except ValueError as e:
    print('ValueError:', e)
except ZeroDivisionError as e:
    print('ZeroDivisionError:', e)e)
finally:
    print('finally...')
print('END')
```

Pythonçš„é”™è¯¯å…¶å®ä¹Ÿæ˜¯classï¼Œæ‰€æœ‰çš„é”™è¯¯ç±»å‹éƒ½ç»§æ‰¿è‡ª `BaseException`

`UnicodeError`æ˜¯ `ValueError`çš„å­ç±»ğŸ¤¡

[Built-in Exceptions â€” Python 3.10.0 documentation](https://docs.python.org/3/library/exceptions.html#exception-hierarchy)

## è°ƒç”¨æ ˆ

è®©Pythonè§£é‡Šå™¨æ¥æ‰“å°å‡ºé”™è¯¯å †æ ˆ

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211104162726-fird23x.png)

## è®°å½•é”™è¯¯logging

å¯å°†loggingç”Ÿæˆä¸€ä¸ªtxtæ–¹ä¾¿æŸ¥çœ‹

```python
 try:
        xxx
    except Exception as e:
        logging.exception(e)
```

### æŠ›å‡ºé”™è¯¯raise

```python
 except ValueError as e:
        print('ValueError!')
        raise
```

åœ¨ `bar()`å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬æ˜æ˜å·²ç»æ•è·äº†é”™è¯¯ï¼Œä½†æ˜¯ï¼Œæ‰“å°ä¸€ä¸ª `ValueError!`åï¼ŒåˆæŠŠé”™è¯¯é€šè¿‡ `raise`è¯­å¥æŠ›å‡ºå»äº†ï¼Œè¿™ä¸æœ‰ç—…ä¹ˆï¼Ÿ

å…¶å®è¿™ç§é”™è¯¯å¤„ç†æ–¹å¼ä¸ä½†æ²¡ç—…ï¼Œè€Œä¸”ç›¸å½“å¸¸è§ã€‚æ•è·é”™è¯¯ç›®çš„åªæ˜¯è®°å½•ä¸€ä¸‹ï¼Œä¾¿äºåç»­è¿½è¸ªã€‚ä½†æ˜¯ï¼Œç”±äºå½“å‰å‡½æ•°ä¸çŸ¥é“åº”è¯¥æ€ä¹ˆå¤„ç†è¯¥é”™è¯¯ï¼Œæ‰€ä»¥ï¼Œæœ€æ°å½“çš„æ–¹å¼æ˜¯ç»§ç»­å¾€ä¸ŠæŠ›ï¼Œè®©é¡¶å±‚è°ƒç”¨è€…å»å¤„ç†ã€‚

## è°ƒè¯•æ–¹æ³•

### 1. printï¼ˆï¼‰

### 2. æ–­è¨€assert

```python
 assert n != 0, 'n is zero!'
```

`assert`çš„æ„æ€æ˜¯ï¼Œè¡¨è¾¾å¼ `n != 0`åº”è¯¥æ˜¯ `True`ï¼Œå¦åˆ™ï¼Œæ ¹æ®ç¨‹åºè¿è¡Œçš„é€»è¾‘ï¼Œåé¢çš„ä»£ç è‚¯å®šä¼šå‡ºé”™ã€‚

é‡‡ç”¨æ–­è¨€çš„å¥½å¤„ï¼š

å¯åŠ¨Pythonè§£é‡Šå™¨æ—¶å¯ä»¥ç”¨ `-O`å‚æ•°æ¥å…³é—­ `assert`ï¼š

```python
$ python -O err.py
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211104164034-js5sidi.png)

å…³é—­åï¼Œä½ å¯ä»¥æŠŠæ‰€æœ‰çš„ `assert`è¯­å¥å½“æˆ `pass`æ¥çœ‹

### 3. logging

```python
import logging
s = '0'
n = int(s)
logging.info('n = %d' % n)
print(10 / n)
```

### 4.pbdå•æ­¥æ‰§è¡Œ

å¯åŠ¨Pythonçš„è°ƒè¯•å™¨pdbï¼Œè®©ç¨‹åºä»¥å•æ­¥æ–¹å¼è¿è¡Œï¼Œå¯ä»¥éšæ—¶æŸ¥çœ‹è¿è¡ŒçŠ¶æ€ã€‚

```python
python -m pdb xxx.py
(Pbd) 1#æŸ¥çœ‹ç¬¬ä¸€è¡Œä»£ç ï¼Œå•æ­¥æ‰§è¡Œç¬¬ä¸€è¡Œä»£ç 
```

### 5. pdb.set_trace()

è¿™ä¸ªæ–¹æ³•ä¹Ÿæ˜¯ç”¨pdbï¼Œä½†æ˜¯ä¸éœ€è¦å•æ­¥æ‰§è¡Œï¼Œæˆ‘ä»¬åªéœ€è¦ `import pdb`ï¼Œç„¶åï¼Œåœ¨å¯èƒ½å‡ºé”™çš„åœ°æ–¹æ”¾ä¸€ä¸ª `pdb.set_trace()`ï¼Œå°±å¯ä»¥è®¾ç½®ä¸€ä¸ªæ–­ç‚¹ï¼š

```python
import pdb

s = '0'
n = int(s)
pdb.set_trace() # è¿è¡Œåˆ°è¿™é‡Œä¼šè‡ªåŠ¨æš‚åœ
print(10 / n)
```

å¯ä»¥ç”¨å‘½ä»¤ `p`æŸ¥çœ‹å˜é‡ï¼Œæˆ–è€…ç”¨å‘½ä»¤ `c`ç»§ç»­è¿è¡Œï¼š

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211104164634-anjnpuu.png)

### 6.IDEå·¥å…·

vscode,pycharm....

## å•å…ƒæµ‹è¯•

å•å…ƒæµ‹è¯•æ˜¯ç”¨æ¥å¯¹ä¸€ä¸ªæ¨¡å—ã€ä¸€ä¸ªå‡½æ•°æˆ–è€…ä¸€ä¸ªç±»æ¥è¿›è¡Œæ­£ç¡®æ€§æ£€éªŒçš„æµ‹è¯•å·¥ä½œã€‚

## æ–‡æ¡£æµ‹è¯•

doctestéå¸¸æœ‰ç”¨ï¼Œä¸ä½†å¯ä»¥ç”¨æ¥æµ‹è¯•ï¼Œè¿˜å¯ä»¥ç›´æ¥ä½œä¸ºç¤ºä¾‹ä»£ç ã€‚é€šè¿‡æŸäº›æ–‡æ¡£ç”Ÿæˆå·¥å…·ï¼Œå°±å¯ä»¥è‡ªåŠ¨æŠŠåŒ…å«doctestçš„æ³¨é‡Šæå–å‡ºæ¥ã€‚ç”¨æˆ·çœ‹æ–‡æ¡£çš„æ—¶å€™ï¼ŒåŒæ—¶ä¹Ÿçœ‹åˆ°äº†doctestã€‚

Pythonå†…ç½®çš„â€œæ–‡æ¡£æµ‹è¯•â€ï¼ˆdoctestï¼‰æ¨¡å—å¯ä»¥ç›´æ¥æå–æ³¨é‡Šä¸­çš„ä»£ç å¹¶æ‰§è¡Œæµ‹è¯•.

```python
class Dict(dict):
    """"
      è¿™ä¸€æ®µå°±æ˜¯æ–‡æ¡£æµ‹è¯•
       Simple dict but also support access as x.y style.

       >>> d1 = Dict()
       >>> d1['x'] = 100
       >>> d1.x
       100
       >>> d1.y = 200
       >>> d1['y']
       200
       >>> d2 = Dict(a=1, b=2, c='3')
       >>> d2.c
       '3'
       >>> d2['empty']
       Traceback (most recent call last):
           ...
       KeyError: 'empty'
       >>> d2.empty
       Traceback (most recent call last):
           ...
       AttributeError: 'Dict' object has no attribute 'empty'
       """

    def __init__(self, **kw):
        super(Dict, self).__init__(**kw)

    def __getattr__(self, key):
        try:
            return self[key]
        except KeyError:
            raise AttributeError(r"'Dict' object has no attribute '%s'" % key)

    def __setattr__(self, key, value):
        self[key] = value

if __name__ == '__main__':
    import doctest
    doctest.testmod()
```

å°†å…¶ä¸­ä¸€ä¸ªå‡½æ•°æ³¨é‡Šï¼Œè¿è¡Œè®©å®ƒæŠ¥é”™

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211108110503-erlvnk1.png)

## IOç¼–ç¨‹

ç¨‹åºå’Œè¿è¡Œæ—¶çš„æ•°æ®åœ¨å†…å­˜ä¸­é©»ç•™

æ¶‰åŠåˆ°æ•°æ®äº¤æ¢çš„åœ°æ–¹ï¼Œé€šå¸¸æ˜¯ç£ç›˜ã€ç½‘ç»œç­‰ï¼Œå°±éœ€è¦IOæ¥å£

é€šå¸¸ï¼Œç¨‹åºå®ŒæˆIOæ“ä½œä¼šæœ‰Inputå’ŒOutputä¸¤ä¸ªæ•°æ®æµ

Streamï¼ˆæµï¼‰æ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„æ¦‚å¿µï¼Œå¯ä»¥æŠŠæµæƒ³è±¡æˆä¸€ä¸ªæ°´ç®¡ï¼Œæ•°æ®å°±æ˜¯æ°´ç®¡é‡Œçš„æ°´ï¼Œä½†æ˜¯åªèƒ½å•å‘æµåŠ¨ã€‚

åœ¨IOç¼–ç¨‹ä¸­ï¼Œå°±å­˜åœ¨**é€Ÿåº¦ä¸¥é‡ä¸åŒ¹é…çš„é—®é¢˜**ã€‚ä¸¾ä¸ªä¾‹å­æ¥è¯´ï¼Œæ¯”å¦‚è¦æŠŠ100Mçš„æ•°æ®å†™å…¥ç£ç›˜ï¼ŒCPUè¾“å‡º100Mçš„æ•°æ®åªéœ€è¦0.01ç§’ï¼Œå¯æ˜¯ç£ç›˜è¦æ¥æ”¶è¿™100Mæ•°æ®å¯èƒ½éœ€è¦10ç§’ï¼Œæ€ä¹ˆåŠå‘¢ï¼Ÿæœ‰ä¸¤ç§åŠæ³•ï¼š

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211108111749-yobbduz.png)

## åŒæ­¥IO

ç¬¬ä¸€ç§æ˜¯CPUç­‰ç€ï¼Œä¹Ÿå°±æ˜¯ç¨‹åºæš‚åœæ‰§è¡Œåç»­ä»£ç ï¼Œç­‰100Mçš„æ•°æ®åœ¨10ç§’åå†™å…¥ç£ç›˜ï¼Œå†æ¥ç€å¾€ä¸‹æ‰§è¡Œï¼Œè¿™ç§æ¨¡å¼ç§°ä¸ºåŒæ­¥IOï¼›

## å¼‚æ­¥IO

å¦ä¸€ç§æ–¹æ³•æ˜¯CPUä¸ç­‰å¾…ï¼Œåªæ˜¯å‘Šè¯‰ç£ç›˜ï¼Œâ€œæ‚¨è€æ…¢æ…¢å†™ï¼Œä¸ç€æ€¥ï¼Œæˆ‘æ¥ç€å¹²åˆ«çš„äº‹å»äº†â€ï¼Œäºæ˜¯ï¼Œåç»­ä»£ç å¯ä»¥ç«‹åˆ»æ¥ç€æ‰§è¡Œï¼Œè¿™ç§æ¨¡å¼ç§°ä¸ºå¼‚æ­¥IOã€‚

å¦‚æœæ˜¯æœåŠ¡å‘˜è·‘è¿‡æ¥æ‰¾åˆ°ä½ ï¼Œè¿™æ˜¯å›è°ƒæ¨¡å¼ï¼Œå¦‚æœæœåŠ¡å‘˜å‘çŸ­ä¿¡é€šçŸ¥ä½ ï¼Œä½ å°±å¾—ä¸åœåœ°æ£€æŸ¥æ‰‹æœºï¼Œè¿™æ˜¯è½®è¯¢æ¨¡å¼ã€‚æ€»ä¹‹ï¼Œå¼‚æ­¥IOçš„å¤æ‚åº¦è¿œè¿œé«˜äºåŒæ­¥IOã€‚

## æ–‡ä»¶è¯»å†™

### è¯»æ–‡ä»¶openï¼ˆï¼‰

ä¼ å…¥æ–‡ä»¶åï¼Œæ ‡ç¤ºç¬¦

å‚æ•°ï¼š'rb' äºŒè¿›åˆ¶

encoding='gbk'å­—ç¬¦ç¼–ç 

```python
f = open('/Users/michael/test.txt', 'r')
```

### read()ä¸€æ¬¡è¯»å–å…¨éƒ¨å†…å®¹

```python
 f.read()
'Hello, world!'
```

### f.closeï¼ˆï¼‰å…³é—­æ–‡ä»¶

ç®€åŒ–æ–¹æ³•

### with open('filepath', 'r') as f:    print(f.read())

Pythonå¼•å…¥äº† `with`è¯­å¥æ¥è‡ªåŠ¨å¸®æˆ‘ä»¬è°ƒç”¨ `close()`æ–¹æ³•ï¼Œå¹¶ä¸”ä¸å¿…è°ƒç”¨ `f.close()`æ–¹æ³•

```python
with open('/path/to/file', 'r') as f:
    print(f.read())
```

å¦‚æœæ–‡ä»¶å¾ˆå°ï¼Œ`read()`ä¸€æ¬¡æ€§è¯»å–æœ€æ–¹ä¾¿ï¼›

å¦‚æœä¸èƒ½ç¡®å®šæ–‡ä»¶å¤§å°ï¼Œåå¤è°ƒç”¨ `read(size)`æ¯”è¾ƒä¿é™©ï¼›

å¦‚æœæ˜¯é…ç½®æ–‡ä»¶ï¼Œè°ƒç”¨ `readlines()`æœ€æ–¹ä¾¿

```python
for line in f.readlines():
    print(line.strip()) # æŠŠæœ«å°¾çš„'\n'åˆ æ‰
```

fileå’Œç¼“å­˜æ—¶=æ˜¯file-like Objectå¯¹è±¡ï¼Œä¸è¦æ±‚ä»ç‰¹å®šç±»ç»§æ‰¿ï¼Œåªè¦å†™ä¸ª `read()`æ–¹æ³•å°±è¡Œ

### f.write()å†™æ–‡ä»¶

```python
f = open('/Users/michael/test.txt', 'w')
f.write('Hello, world!')
f.close()
```

æˆ–

```python
with open('/Users/michael/test.txt', 'w') as f:
    f.write('Hello, world!')
```

ä½¿ç”¨ `with`è¯­å¥æ“ä½œæ–‡ä»¶IOæ˜¯ä¸ªå¥½ä¹ æƒ¯

## StringIOå’ŒBytesIO

### StringIO

StringIOé¡¾åæ€ä¹‰å°±æ˜¯åœ¨å†…å­˜ä¸­è¯»å†™str

```python
 from io import StringIO
 f = StringIO()
f.write('hello')
```

`getvalue()`æ–¹æ³•ç”¨äºè·å¾—å†™å…¥åçš„str

```python
 from io import StringIO
>>> f = StringIO('Hello!\nHi!\nGoodbye!')
>>> while True:
...     s = f.readline()
...     if s == '':
...         break
...     print(s.strip())
```

### BytesIO

æ“ä½œäºŒè¿›åˆ¶æ•°æ®ï¼Œå°±éœ€è¦ä½¿ç”¨BytesIO

```python
>>> from io import BytesIO
>>> f = BytesIO()
>>> f.write('ä¸­æ–‡'.encode('utf-8'))
6
>>> print(f.getvalue())
b'\xe4\xb8\xad\xe6\x96\x87'
```

## osæ¨¡å—

### os.nameæ“ä½œç³»ç»Ÿç±»å‹

### os.uname()è¯¦ç»†ç³»ç»Ÿä¿¡æ¯

### os.encironç¯å¢ƒå˜é‡

è¦è·å–æŸä¸ªç¯å¢ƒå˜é‡çš„å€¼ï¼Œå¯ä»¥è°ƒç”¨ `os.environ.get('key')`

```python
# æŸ¥çœ‹å½“å‰ç›®å½•çš„ç»å¯¹è·¯å¾„:
>>> os.path.abspath('.')
'/Users/michael'
# åœ¨æŸä¸ªç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæ–°ç›®å½•ï¼Œé¦–å…ˆæŠŠæ–°ç›®å½•çš„å®Œæ•´è·¯å¾„è¡¨ç¤ºå‡ºæ¥:
>>> os.path.join('/Users/michael', 'testdir')
'/Users/michael/testdir'
# ç„¶ååˆ›å»ºä¸€ä¸ªç›®å½•:
>>> os.mkdir('/Users/michael/testdir')
# åˆ æ‰ä¸€ä¸ªç›®å½•:
>>> os.rmdir('/Users/michael/testdir')
```

é€šè¿‡ `os.path.join()`å‡½æ•°ï¼Œè¿™æ ·å¯ä»¥æ­£ç¡®å¤„ç†ä¸åŒæ“ä½œç³»ç»Ÿçš„è·¯å¾„åˆ†éš”ç¬¦

### `os.path.join(`)è¿æ¥è·¯å¾„

### `os.path.split()`æ‹†åˆ†è·¯å¾„

### `os.path.splitext()` æ–‡ä»¶æ‰©å±•å

```python
# å¯¹æ–‡ä»¶é‡å‘½å:
>>> os.rename('test.txt', 'test.py')
# åˆ æ‰æ–‡ä»¶:
>>> os.remove('test.py')
```

`shutil`æ¨¡å—æä¾›äº† `copyfile()`çš„å‡½æ•°ï¼Œå®ƒä»¬å¯ä»¥çœ‹åšæ˜¯ `os`æ¨¡å—çš„è¡¥å……

æœ€åçœ‹çœ‹å¦‚ä½•åˆ©ç”¨Pythonçš„ç‰¹æ€§æ¥è¿‡æ»¤æ–‡ä»¶ã€‚æ¯”å¦‚æˆ‘ä»¬è¦åˆ—å‡ºå½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰ç›®å½•ï¼Œåªéœ€è¦ä¸€è¡Œä»£ç ï¼š

```
>>> [x for x in os.listdir('.') if os.path.isdir(x)]
['.lein', '.local', '.m2', '.npm', '.ssh', '.Trash', '.vim', 'Applications', 'Desktop', ...]
```

è¦åˆ—å‡ºæ‰€æœ‰çš„ `.py`æ–‡ä»¶ï¼Œä¹Ÿåªéœ€ä¸€è¡Œä»£ç ï¼š

```
>>> [x for x in os.listdir('.') if os.path.isfile(x) and os.path.splitext(x)[1]=='.py']
['apis.py', 'config.py', 'models.py', 'pymonitor.py', 'test_db.py', 'urls.py', 'wsgiapp.py']
```

## åºåˆ—åŒ–pickleæ¨¡å—

å˜é‡ä»å†…å­˜ä¸­å˜æˆå¯å­˜å‚¨æˆ–ä¼ è¾“çš„è¿‡ç¨‹ç§°ä¹‹ä¸ºåºåˆ—åŒ–,Pythonä¸­å«pickling

å˜é‡å†…å®¹ä»åºåˆ—åŒ–çš„å¯¹è±¡é‡æ–°è¯»åˆ°å†…å­˜é‡Œç§°ä¹‹ä¸ºååºåˆ—åŒ–ï¼Œå³unpickling

### pickle.dumps()å¯¹è±¡-ã€‹å­—èŠ‚[åºåˆ—åŒ–]

`pickle.dumps()`æ–¹æ³•æŠŠä»»æ„å¯¹è±¡åºåˆ—åŒ–æˆä¸€ä¸ª `bytes`

`pickle.dumps()`æ–¹æ³•æŠŠä»»æ„å¯¹è±¡åºåˆ—åŒ–æˆä¸€ä¸ª `bytes`,å¹¶å†™å…¥æ–‡ä»¶ä¸­

```python
import pickle
d=dict(name='ruan',age=34,freand='woman')
# print(pickle.dumps(d))
f = open('timezone.txt', 'wb')
pickle.dump(d, f)
f.close()
```

### pickle.load()å­—èŠ‚-ã€‹å¯¹è±¡ã€ååºåˆ—åŒ–ã€‘

```python
import pickle
f=open(r'C:\Users\yangs\PycharmProjects\python_study\fun\timezone.txt','rb')
d=pickle.load(f)
f.close()
print(d)
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211108132946-rtt8k8p.png)

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211108133035-b8gyft4.png)

## jsonæ¨¡å—

`json`æ¨¡å—çš„ `dumps()`å’Œ `loads()`å‡½æ•°æ˜¯å®šä¹‰å¾—éå¸¸å¥½çš„æ¥å£çš„å…¸èŒƒã€‚

#### json.dumps(pythonå¯¹è±¡)pythonå¯¹è±¡-ã€‹jsonå¯¹è±¡

`dumps()`æ–¹æ³•è¿”å›ä¸€ä¸ª `str`ï¼Œå†…å®¹å°±æ˜¯æ ‡å‡†çš„JSON

#### json.loads(jsonå¯¹è±¡)jsonå¯¹è±¡-ã€‹pythonå¯¹è±¡

`json.``dump`(obj,Â fp,Â *,Â skipkeys=False,Â ensure_ascii=True,Â check_circular=True,Â allow_nan=True,Â cls=None,Â indent=None,Â separators=None,Â default=None,Â sort_keys=False,Â **kw**)**

### ç±»å˜ä¸ºå­—å…¸å¹¶åºåˆ—åŒ–

```python
json.dumps(s, default=lambda obj: obj.__dict__)
```

## è¿›ç¨‹å’Œçº¿ç¨‹

Pythonçš„æ ‡å‡†åº“æä¾›äº†ä¸¤ä¸ªæ¨¡å—ï¼š`_thread`å’Œ `threading`ï¼Œ`_thread`æ˜¯ä½çº§æ¨¡å—ï¼Œ`threading`æ˜¯é«˜çº§æ¨¡å—

**çº¿ç¨‹æ˜¯æœ€å°çš„æ‰§è¡Œå•å…ƒï¼Œè€Œè¿›ç¨‹ç”±è‡³å°‘ä¸€ä¸ªçº¿ç¨‹ç»„æˆ**

æ“ä½œç³»ç»Ÿè½®æµè®©å„ä¸ªä»»åŠ¡äº¤æ›¿æ‰§è¡Œ

çœŸæ­£çš„å¹¶è¡Œæ‰§è¡Œå¤šä»»åŠ¡åªèƒ½åœ¨å¤šæ ¸CPUä¸Šå®ç°

å¯¹äºæ“ä½œç³»ç»Ÿæ¥è¯´ï¼Œä¸€ä¸ªä»»åŠ¡å°±æ˜¯ä¸€ä¸ªè¿›ç¨‹ï¼ˆProcessï¼‰ï¼Œæ¯”å¦‚æ‰“å¼€ä¸€ä¸ªæµè§ˆå™¨å°±æ˜¯å¯åŠ¨ä¸€ä¸ªæµè§ˆå™¨è¿›ç¨‹

Wordï¼Œå®ƒå¯ä»¥åŒæ—¶è¿›è¡Œæ‰“å­—ã€æ‹¼å†™æ£€æŸ¥ã€æ‰“å°ç­‰äº‹æƒ…ã€‚åœ¨ä¸€ä¸ªè¿›ç¨‹å†…éƒ¨ï¼Œè¦åŒæ—¶å¹²å¤šä»¶äº‹ï¼Œå°±éœ€è¦åŒæ—¶è¿è¡Œå¤šä¸ªâ€œå­ä»»åŠ¡â€ï¼Œæˆ‘ä»¬æŠŠè¿›ç¨‹å†…çš„è¿™äº›â€œå­ä»»åŠ¡â€ç§°ä¸ºçº¿ç¨‹ï¼ˆThreadï¼‰

* å¤šè¿›ç¨‹æ¨¡å¼ï¼›
* å¤šçº¿ç¨‹æ¨¡å¼ï¼›
* å¤šè¿›ç¨‹+å¤šçº¿ç¨‹æ¨¡å¼ã€‚

## å¤šè¿›ç¨‹

Unix/Linuxæ“ä½œç³»ç»Ÿæä¾›äº†ä¸€ä¸ª `fork()`ç³»ç»Ÿè°ƒç”¨ï¼Œæ™®é€šçš„å‡½æ•°è°ƒç”¨ï¼Œè°ƒç”¨ä¸€æ¬¡ï¼Œè¿”å›ä¸€æ¬¡ï¼Œä½†æ˜¯ `fork()`è°ƒç”¨ä¸€æ¬¡ï¼Œè¿”å›ä¸¤æ¬¡ï¼Œå› ä¸ºæ“ä½œç³»ç»Ÿè‡ªåŠ¨æŠŠå½“å‰è¿›ç¨‹ï¼ˆç§°ä¸ºçˆ¶è¿›ç¨‹ï¼‰å¤åˆ¶äº†ä¸€ä»½ï¼ˆç§°ä¸ºå­è¿›ç¨‹ï¼‰ï¼Œç„¶åï¼Œåˆ†åˆ«åœ¨çˆ¶è¿›ç¨‹å’Œå­è¿›ç¨‹å†…è¿”å›ã€‚

åˆ›å»ºå­è¿›ç¨‹

```python
from multiprocessing import Process
import os
def run_pro(name):
    print('å¼€å§‹è¿è¡Œå­è¿›ç¨‹%sï¼Œ%s'%(name,os.getpid()))

if __name__ == '__main__':
    print('å¼€å§‹è¿è¡Œè¿›ç¨‹%s' % (os.getpid()))
    p=Process(target=run_pro,args=('test',))
    p.start()
    p.join()
    print('end')
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211111131512-zqm80if.png)

### å¯åŠ¨å¤§é‡å­è¿›ç¨‹pool

è¿›ç¨‹æ± 

```python
import time, threading

# æ–°çº¿ç¨‹æ‰§è¡Œçš„ä»£ç :
def loop():
    print('thread %s is running...' % threading.current_thread().name)
    n = 0
    while n < 5:
        n = n + 1
        print('thread %s >>> %s' % (threading.current_thread().name, n))
        time.sleep(1)
    print('thread %s ended.' % threading.current_thread().name)

print('thread %s is running...' % threading.current_thread().name)
t = threading.Thread(target=loop, name='LoopThread')
t.start()
t.join()
print('thread %s ended.' % threading.current_thread().name)
```

# æ¨¡å—æ€»ç»“

## doctestæ–‡æ¡£æµ‹è¯•

## os.pathæ–‡ä»¶è·¯å¾„

## pickleåºåˆ—åŒ–

## json

[ä½¿ç”¨dictå’Œset - å»–é›ªå³°çš„å®˜æ–¹ç½‘ç«™ (liaoxuefeng.com)](https://www.liaoxuefeng.com/wiki/1016959663602400/1017104324028448)

ç”¨äºå­¦ä¹ è®°å½•ï¼ŒåæœŸä¾¿äºå¤ä¹ ï¼Œå‚è€ƒé“¾æ¥

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009102447-hmq8gs8.png)

python file

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009102545-qqmxrgo.png)

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009102644-7ny4t2k.png)

è°ƒç”¨è„šæœ¬æ—¶ä¼šå…ˆè½½å…¥pyhtonè§£é‡Šå™¨ï¼Œç„¶åè¿è¡Œè„šæœ¬

rpmï¼šè½¯ä»¶ç®¡ç†åŒ…

æ“ä½œç¬¦ä¼˜å…ˆçº§ï¼š![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009104337-b66ot2k.png)

æ¡ä»¶åˆ¤æ–­ï¼š

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009104751-a27qfzb.png)

Pythonä¸ºæˆ‘ä»¬æä¾›äº†éå¸¸å®Œå–„çš„åŸºç¡€ä»£ç åº“ï¼Œè¦†ç›–äº†ç½‘ç»œã€æ–‡ä»¶ã€GUIã€æ•°æ®åº“ã€æ–‡æœ¬ç­‰å¤§é‡å†…å®¹ï¼Œè¢«å½¢è±¡åœ°ç§°ä½œâ€œå†…ç½®ç”µæ± ï¼ˆbatteries includedï¼‰â€ã€‚ç”¨Pythonå¼€å‘ï¼Œè®¸å¤šåŠŸèƒ½ä¸å¿…ä»é›¶ç¼–å†™ï¼Œç›´æ¥ä½¿ç”¨ç°æˆçš„å³å¯ã€‚

è¯­è¨€å®šä½ï¼š

Pythonçš„å®šä½æ˜¯â€œä¼˜é›…â€ã€â€œæ˜ç¡®â€ã€â€œç®€å•â€

Pythonæ˜¯è§£é‡Šå‹è¯­è¨€

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211011172523-7k51l6e.png)

# python

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009110719-7urayjl.png)

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009111236-gd1mcju.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009111303-l3bqira.png)

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009113303-w7qziw5.png)

## æ•°æ®ç±»å‹

### int æ•´å‹

long inté•¿æ•´å‹

int æ•´å‹

### float æµ®ç‚¹å‹

æµ®ç‚¹æ•°ä¹Ÿå°±æ˜¯å°æ•°ï¼Œä¹‹æ‰€ä»¥ç§°ä¸ºæµ®ç‚¹æ•°ï¼Œæ˜¯å› ä¸ºæŒ‰ç…§ç§‘å­¦è®°æ•°æ³•è¡¨ç¤ºæ—¶

åŒç²¾åº¦æµ®ç‚¹å‹ e

æµ®ç‚¹å‹

### String å­—ç¬¦ä¸²

å­—ç¬¦ä¸²æ˜¯ä»¥å•å¼•å· `'`æˆ–åŒå¼•å· `"`æ‹¬èµ·æ¥çš„ä»»æ„æ–‡æœ¬

å­—ç¬¦ä¸²æ˜¯ä»¥Unicodeç¼–ç 

å¯¹äºå•ä¸ªå­—ç¬¦çš„ç¼–ç ï¼ŒPythonæä¾›äº† `ord()`å‡½æ•°è·å–å­—ç¬¦çš„æ•´æ•°è¡¨ç¤ºï¼Œ`chr()`å‡½æ•°æŠŠç¼–ç è½¬æ¢ä¸ºå¯¹åº”çš„å­—ç¬¦ï¼š

### Boolå¸ƒå°”

True

Flase

### None ç©ºå€¼

Noneï¼Œ`None`ä¸èƒ½ç†è§£ä¸º `0`ï¼Œå› ä¸º `0`æ˜¯æœ‰æ„ä¹‰çš„,

Nullæ— æ„ä¹‰

.

<iframe src="http://127.0.0.1:6806/widgets/brython-editor" data-src="http://127.0.0.1:6806/widgets/brython-editor" data-subtype="widget" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="width: 1341px; height: 276px;"></iframe>

### å˜é‡

å˜é‡çš„æ¦‚å¿µåŸºæœ¬ä¸Šå’Œåˆä¸­ä»£æ•°çš„æ–¹ç¨‹å˜é‡æ˜¯ä¸€è‡´çš„ï¼Œ

å˜é‡ä¸ä»…å¯ä»¥æ˜¯æ•°å­—ï¼Œè¿˜å¯ä»¥æ˜¯ä»»æ„æ•°æ®ç±»å‹ã€‚

å˜é‡åå¿…é¡»æ˜¯å¤§å°å†™è‹±æ–‡ã€æ•°å­—å’Œ `_`çš„ç»„åˆï¼Œä¸”ä¸èƒ½ç”¨æ•°å­—å¼€å¤´ï¼Œå­—æ¯æˆ–ä¸‹åˆ’çº¿å¼€å¤´

```python
#å˜é‡ç±»å‹
a=1
b='æˆ‘æ˜¯å˜é‡'
c=True
d=12.2e3
print(a,b,c,d)
print(type(a),type(b),type(c),type(d))

```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009134601-1cuacaj.png)

int a=1 é™æ€è¯­è¨€ æ­¤æ—¶å·²ç»åˆ†é…çš„intåˆ†åŒºä¹‹åä¸èƒ½æ›´æ”¹å˜é‡ç±»å‹ã€ä¸æ”¯æŒï¼ŒJavaã€‘

a=3 åŠ¨æ€è¯­è¨€ï¼Œå¯ä»¥èµ‹å€¼æˆä»»æ„ç±»å‹

#### åŠ¨æ€å®šä¹‰

#### é™æ€å®šä¹‰

```python
a = 'ABC'
b = a
a = 'XYZ'
print(b)
```

æ‰§è¡Œ `a = 'ABC'`ï¼Œè§£é‡Šå™¨åˆ›å»ºäº†å­—ç¬¦ä¸² `'ABC'`å’Œå˜é‡ `a`ï¼Œå¹¶æŠŠ `a`æŒ‡å‘ `'ABC'`ï¼š

![py-var-code-1](https://www.liaoxuefeng.com/files/attachments/923791878255456/0)

æ‰§è¡Œ `b = a`ï¼Œè§£é‡Šå™¨åˆ›å»ºäº†å˜é‡ `b`ï¼Œå¹¶æŠŠ `b`æŒ‡å‘ `a`æŒ‡å‘çš„å­—ç¬¦ä¸² `'ABC'`ï¼š

![py-var-code-2](https://www.liaoxuefeng.com/files/attachments/923792058613440/0)

æ‰§è¡Œ `a = 'XYZ'`ï¼Œè§£é‡Šå™¨åˆ›å»ºäº†å­—ç¬¦ä¸²'XYZ'ï¼Œå¹¶æŠŠ `a`çš„æŒ‡å‘æ”¹ä¸º `'XYZ'`ï¼Œä½† `b`å¹¶æ²¡æœ‰æ›´æ”¹ï¼š

![py-var-code-3](https://www.liaoxuefeng.com/files/attachments/923792191637760/0)

### å¸¸é‡

æ‰€è°“å¸¸é‡å°±æ˜¯ä¸èƒ½å˜çš„å˜é‡ï¼Œé€šå¸¸ç”¨å…¨éƒ¨å¤§å†™çš„å˜é‡åè¡¨ç¤ºå¸¸é‡ï¼š

```python
PI = 3.14159265359
```

## liståˆ—è¡¨

listæ˜¯ä¸€ç§æœ‰åºçš„é›†åˆï¼Œå¯ä»¥éšæ—¶æ·»åŠ å’Œåˆ é™¤å…¶ä¸­çš„å…ƒç´ ã€‚

```python
list=['a','b','c']
print(list)
print(len(list))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009154856-r9s5yyu.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009154907-bofhvvd.png)

### åˆ‡åˆ†

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009155126-p31z8um.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009155139-cpsoatf.png)

### appendï¼ˆï¼‰è¿½åŠ 

str.append('a')

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009155556-qrj4a63.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009155606-dxihfwr.png)

### insertæ’å…¥æŒ‡å®šä½ç½®

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009162557-186v350.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009162609-u00z8m3.png)

### popï¼ˆï¼‰åˆ é™¤æœ«å°¾å…ƒç´ 

è¦åˆ é™¤æŒ‡å®šä½ç½®çš„å…ƒç´ ï¼Œç”¨ `pop(i)`æ–¹æ³•ï¼Œå…¶ä¸­ `i`æ˜¯ç´¢å¼•ä½ç½®

æ›¿æ¢å…ƒç´ ç›´æ¥èµ‹å€¼å³å¯

åˆ—è¡¨å¯ä»¥åµŒå¥—

```python
 s = ['python', 'java', ['asp', 'php'], 'scheme']
```

ç±»å‹å¯ä»¥ä¸åŒ

```python
L = ['Apple', 123, True]
```

### åˆ‡ç‰‡

list[:-1]ä¸åŒ…å«æœ€åä¸€ä¸ªå…ƒç´ 

list[:]å…¨éƒ¨åˆ—è¡¨

list[::]å…¨éƒ¨åˆ—è¡¨

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012161203-1e12zsd.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012161212-0lrqjsm.png)

å‰10ä¸ªæ•°ï¼Œæ¯ä¸¤ä¸ªå–ä¸€ä¸ª

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012161428-r6muafj.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012161441-eoc8y55.png)

#### åˆ—è¡¨ç”Ÿæˆ

listï¼ˆrangeï¼ˆ1ï¼Œ11ï¼‰ï¼‰ç”Ÿæˆ10ä¸ªæ•°1-10

```python
print([m+n for m in '123' for n in 'yza'])
```

```python
k=[1,1,23,45,56,[1,12,3,467,[2,4,4,3,22]]]
print([x for x in k if x==1 ])
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012190810-l1qtxiv.png)

## tupleå…ƒç»„

tupleä¸€æ—¦åˆå§‹åŒ–å°±ä¸èƒ½ä¿®æ”¹

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009163638-1vpldee.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009163652-xkas3o0.png)

ä½†å…ƒç»„åˆå§‹åŒ–åå°±ä¸èƒ½è¿›è¡Œæ›´æ”¹äº†

```python
b=(1)
#å®šä¹‰çš„ä¸æ˜¯tupleï¼Œæ˜¯1è¿™ä¸ªæ•°ï¼
# è¿™æ˜¯å› ä¸ºæ‹¬å·()æ—¢å¯ä»¥è¡¨ç¤ºtupleï¼Œåˆå¯ä»¥è¡¨ç¤ºæ•°å­¦å…¬å¼ä¸­çš„å°æ‹¬å·ï¼Œ
# è¿™å°±äº§ç”Ÿäº†æ­§ä¹‰ï¼Œå› æ­¤ï¼ŒPythonè§„å®šï¼Œ
# è¿™ç§æƒ…å†µä¸‹ï¼ŒæŒ‰å°æ‹¬å·è¿›è¡Œè®¡ç®—ï¼Œè®¡ç®—ç»“æœè‡ªç„¶æ˜¯1
print(b)
print(type(b))
c=(1,)
print(c)
print(type(c))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009164221-xl1husx.png)

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009164244-780v78f.png)

## dictå­—å…¸

å…¶ä»–è¯­è¨€å«mapï¼Œä½¿ç”¨é”®-å€¼ï¼ˆkey-valueï¼‰å­˜å‚¨ï¼Œå…·æœ‰æå¿«çš„æŸ¥æ‰¾é€Ÿåº¦ã€‚dictçš„keyå¿…é¡»æ˜¯**ä¸å¯å˜å¯¹è±¡**ã€‚keyè®¡ç®—ä½ç½®çš„ç®—æ³•ç§°ä¸ºå“ˆå¸Œç®—æ³•ï¼ˆHashï¼‰ã€‚

### å®šä¹‰

```python
d={'name':'ruanyifen','age':60,'happy':'write'}
d['add']='Im add'
d['name']='fix'
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012135019-kqmsrcg.png)

### å–value

#### dict['key']

#### 'key' in dict

#### dict.get('key')

```python
print(type(d))
print(d['name'])
print('name' in d)#æ–¹æ³•ä¸€åˆ¤æ–­æ˜¯å¦æœ‰è¿™ä¸ªä¸»é”®åœ¨å­—å…¸dä¸­
print(d.get('name'))#æ–¹æ³•äºŒ å–
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012135119-sniqpw0.png)

### dict.pop('key')åˆ é™¤ä¸€ä¸ªkey

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012135429-m36ygpu.png)

### dict.keysè¿”å›å­—å…¸ä¸­æ‰€æœ‰keyåˆ—è¡¨

### dict.update()å°†aå­—å…¸æ–°keyï¼Œvalueå†…å®¹åŠ å…¥bå­—å…¸ä¸­

```bash
dicta={"name":'ruan','age':20}
dictb={"name":'ruan2','age':40,'add':'w shi add'}
dictb.update(dicta)
print(dictb)
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211101115242-qazr588.png)

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211101115348-bb0l147.png)

#### å†…å»ºå‡½æ•°ä½¿ç”¨

typeï¼ˆï¼‰

cmpï¼ˆï¼‰

lenï¼ˆï¼‰

hashï¼ˆï¼‰

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211101114202-rdvz2pt.png)

å†…å»ºcmpï¼ˆï¼‰å‡½æ•°æ¯”è¾ƒä¸¤ä¸ªdictæ—¶ï¼Œå…ˆæ¯”è¾ƒé•¿åº¦ï¼Œåæ¯”å€¼ï¼Œè¾“å‡º1æˆ–-1

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211101114401-h4f1qop.png)

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211101114644-qffksiw.png)

### dictç‰¹ç‚¹

dictæœ‰ä»¥ä¸‹å‡ ä¸ªç‰¹ç‚¹ï¼š

1. æŸ¥æ‰¾å’Œæ’å…¥çš„é€Ÿåº¦æå¿«ï¼Œä¸ä¼šéšç€keyçš„å¢åŠ è€Œå˜æ…¢ï¼›
2. éœ€è¦å ç”¨å¤§é‡çš„å†…å­˜ï¼Œå†…å­˜æµªè´¹å¤šã€‚

è€Œlistç›¸åï¼š

1. æŸ¥æ‰¾å’Œæ’å…¥çš„æ—¶é—´éšç€å…ƒç´ çš„å¢åŠ è€Œå¢åŠ ï¼›
2. å ç”¨ç©ºé—´å°ï¼Œæµªè´¹å†…å­˜å¾ˆå°‘ã€‚
   ![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211101115427-fu3s2zu.png)
   ![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211101115451-utxi9ct.png)

## seté›†åˆ

ä¹Ÿæ˜¯ä¸€ç»„keyçš„é›†åˆï¼Œä½†ä¸å­˜å‚¨valueã€‚ç”±äºkeyä¸èƒ½é‡å¤ï¼Œæ‰€ä»¥ï¼Œåœ¨setä¸­ï¼Œæ²¡æœ‰é‡å¤çš„keyã€‚

é‡å¤å…ƒç´ åœ¨setä¸­è‡ªåŠ¨è¢«è¿‡æ»¤

### å®šä¹‰

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012135934-u0n1j77.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012135953-sqa88s1.png)

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140114-5azj1sa.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140127-ledkv1s.png)

### set.add('key')æ·»åŠ å…ƒç´ 

ä½†é‡å¤å…ƒç´ ä¸æ·»åŠ ï¼Œè‡ªåŠ¨å»é‡

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140336-dwf2vgw.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140344-dzsshz2.png)

### set.remove('key')åˆ é™¤å…ƒç´ 

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140511-5f9cwm4.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140517-f6iolow.png)

setå¯ä»¥çœ‹æˆæ•°å­¦æ„ä¹‰ä¸Šçš„æ— åºå’Œæ— é‡å¤å…ƒç´ çš„é›†åˆï¼Œ

å› æ­¤ï¼Œä¸¤ä¸ªsetå¯ä»¥åšæ•°å­¦æ„ä¹‰ä¸Šçš„äº¤é›†ã€å¹¶é›†ç­‰æ“ä½œï¼š

### & ä¸¤ä¸ªsetäº¤é›†

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140903-1l3we66.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140912-8itf6ek.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211022170721-h5hmgxr.png)

### |ä¸¤ä¸ªsetå¹¶é›†

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140922-5bjlj5g.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140933-edbys90.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211022171729-b4k8xhd.png)

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211101115701-3dt5x4j.png)

### map()çš„æ˜¾ç¤º

æ‰“å°mapå¯¹è±¡å¯ä»¥çœ‹åˆ°mapå¯¹è±¡è¿”å›çš„æ˜¯ä¸€ä¸ªåœ°å€ï¼Œä¸æ˜¯çœŸå®çš„æ•°æ®

```python
print(list(mapå¯¹è±¡))
print([it for it in mapå¯¹è±¡])
```

## æ•°æ®ç±»å‹è½¬æ¢

### intï¼ˆï¼‰

### floatï¼ˆï¼‰

### strï¼ˆï¼‰

### boolï¼ˆï¼‰

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012142636-iblnu9y.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012142645-gb2u1fg.png)

## æ¡ä»¶åˆ¤æ–­

### if

if else

```python
a=100
if a>=0:
    print(a)
else:
    print(-a)
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009165335-jr8xtfq.png)

if

```python
if True:
    print('True')
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009165309-ymhiihv.png)

if elif elif else

```python
name='zhangsan'
if name=='zhangsan':
    print('æˆ‘æ˜¯',name)
elif name=='lisi':
    print('æˆ‘æ˜¯', name)
elif name=='wangwu':
    print('æˆ‘æ˜¯', name)
else:
    print('æˆ‘è°çš„ä¸æ˜¯')
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009165511-spws02g.png)

## inputï¼ˆï¼‰è¾“å…¥è¾“å‡º

input()è¿”å›çš„æ•°æ®ç±»å‹æ˜¯str

printï¼ˆï¼‰

## å¾ªç¯ è¿­ä»£

listï¼Œtupleï¼Œdictéƒ½å¯å¾ªç¯

Pythonçš„ `for`å¾ªç¯æœ¬è´¨ä¸Šå°±æ˜¯é€šè¿‡ä¸æ–­è°ƒç”¨ `next()`å‡½æ•°å®ç°çš„,è®¡ç®—æ˜¯æƒ°æ€§çš„

dictå¾ªç¯æŒ‰ç…§valueæ—¶ï¼šfor value in dict.values

```python
for value in d.values():
    print(value)
```

### for in

```python
sum=0
for i in range(1,100):
    sum=sum+i
print(sum)
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009172805-wrb6kr2.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009172805-wrb6kr2.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009172821-rdyglwd.png)

### while

```python
sum2=0
k=0
while(k<100):
    sum2=sum2+k
    k=k+1
print(sum2)
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009172821-rdyglwd.png)

### break

å¦‚æœè¦æå‰ç»“æŸå¾ªç¯ï¼Œå¯ä»¥ç”¨ `break`è¯­å¥

### continue

é€šè¿‡ `continue`è¯­å¥ï¼Œè·³è¿‡å½“å‰çš„è¿™æ¬¡å¾ªç¯ï¼Œç›´æ¥å¼€å§‹ä¸‹ä¸€æ¬¡å¾ªç¯

## ç”Ÿæˆå™¨

åœ¨Pythonä¸­ï¼Œè¿™ç§ä¸€è¾¹å¾ªç¯ä¸€è¾¹è®¡ç®—çš„æœºåˆ¶ï¼Œç§°ä¸ºç”Ÿæˆå™¨ï¼šgeneratorã€‚

åŒ…æ‹¬ç”Ÿæˆå™¨å’Œå¸¦ `yield`çš„generator functionã€‚

```python
 g = (x * x for x in range(10))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012191035-5wbqtm5.png)

è®¿é—®å¤§æ–‡ä»¶

yield

## isinstanceï¼ˆï¼‰è¿­ä»£å™¨

ç›´æ¥ä½œç”¨äº `for`å¾ªç¯çš„å¯¹è±¡ç»Ÿç§°ä¸ºå¯è¿­ä»£å¯¹è±¡ï¼Œéƒ½æ˜¯è¿­ä»£å™¨ Iterable

`list`ã€`tuple`ã€`dict`ã€`set`ã€`str`

`list`ã€`dict`ã€`str`è™½ç„¶æ˜¯ `Iterable`ï¼Œå´ä¸æ˜¯ `Iterator`ã€‚

`list`ã€`dict`ã€`str`ç­‰ `Iterable`å˜æˆ `Iterator`å¯ä»¥ä½¿ç”¨**iter()**å‡½æ•°

ä»¥ç›´æ¥ä½œç”¨äº `for`å¾ªç¯çš„æ•°æ®ç±»å‹æœ‰ä»¥ä¸‹å‡ ç§ï¼š

ä¸€ç±»æ˜¯é›†åˆæ•°æ®ç±»å‹ï¼Œå¦‚ `list`ã€`tuple`ã€`dict`ã€`set`ã€`str`ç­‰ï¼›

ä¸€ç±»æ˜¯ `generator`ï¼ŒåŒ…æ‹¬ç”Ÿæˆå™¨å’Œå¸¦ `yield`çš„generator functionã€‚

å¯ä»¥ä½¿ç”¨**isinstance()**åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯ `Iterable`å¯¹è±¡__iter__ï¼š

è¿­ä»£å¯¹è±¡

åˆ¤æ–­æ˜¯ä¸æ˜¯å¯ä»¥è¿­ä»£ï¼Œç”¨Iterable

```python
from collections import Iterable
isinstance({}, Iterable) --> True
isinstance((), Iterable) --> True
isinstance(100, Iterable) --> False
```

åˆ¤æ–­æ˜¯ä¸æ˜¯è¿­ä»£å™¨ï¼Œç”¨Iterator

```python
from collections import Iterator
isinstance({}, Iterator)  --> False
isinstance((), Iterator) --> False
isinstance( (x for x in range(10)), Iterator)  --> True
```

Pythonä¸­ listï¼Œtrupleï¼Œstrï¼Œdictè¿™äº›éƒ½å¯ä»¥è¢«è¿­ä»£ï¼Œä½†ä»–ä»¬å¹¶ä¸æ˜¯è¿­ä»£å™¨ï¼Œä¸ºä»€ä¹ˆï¼šï¼šå› ä¸ºå’Œè¿­ä»£å™¨ç›¸æ¯”æœ‰ä¸€ä¸ªå¾ˆå¤§çš„ä¸åŒï¼Œlist/truple/map/dictè¿™äº›æ•°æ®çš„å¤§å°æ˜¯ç¡®å®šçš„ï¼Œä¹Ÿå°±æ˜¯è¯´æœ‰å¤šå°‘äº‹å¯çŸ¥çš„ã€‚ä½†è¿­ä»£å™¨ä¸æ˜¯ï¼Œè¿­ä»£å™¨ä¸çŸ¥é“è¦æ‰§è¡Œå¤šå°‘æ¬¡ï¼Œæ‰€ä»¥å¯ä»¥ç†è§£ä¸ºä¸çŸ¥é“æœ‰å¤šå°‘ä¸ªå…ƒç´ ï¼Œæ¯è°ƒç”¨ä¸€æ¬¡next()ï¼Œå°±ä¼šå¾€ä¸‹èµ°ä¸€æ­¥ï¼Œæ˜¯æƒ°æ€§çš„ã€‚

## å‡½æ•°

æŠ½è±¡

å°†å‡½æ•°æŠ½è±¡æˆä¸€ä¸ªå‡½æ•°åç§°ï¼Œä¸çœ‹å†…éƒ¨ç»“æ„ç›´æ¥è°ƒç”¨æ–¹æ³•

è¿”å›ç±»å‹ å‡½æ•°åï¼ˆè¾“å…¥å‚æ•°ï¼‰ï¼š

å‡½æ•°ä½“

### è°ƒç”¨å‡½æ•°

è¦è°ƒç”¨ä¸€ä¸ªå‡½æ•°ï¼Œéœ€è¦çŸ¥é“å‡½æ•°çš„åç§°å’Œå‚æ•°

ç»å¯¹å€¼abs

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012142010-d503sa9.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012142024-cscdoiu.png)

### å®šä¹‰å‡½æ•°

```python
def myabs(x):
    if x>0:
        return x
    if x<0:
        return -x
print(myabs(-100))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012144653-0ds9bc4.png)

### ç©ºå‡½æ•°

```python
def nufun():
    pass
```

`pass`å¯ä»¥ç”¨æ¥ä½œä¸ºå ä½ç¬¦

### å‡½æ•° å‚æ•°æ£€æŸ¥

```python
def my_init_abs(x):
    if not isinstance(x,(int,float)):
        raise TypeError('no no no')
    else:
        if x>0:
            print(x)
        if x<0:
            print(-x)
my_init_abs(-90)
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012144640-6xnfm9s.png)

### å¯è¿”å›å¤šä¸ªå€¼ï¼Œå‡½æ•°

```python
def return_much():
    a='è¿”å›'
    b='æˆ‘ä¹Ÿè¿”å›'
    c='æˆ‘ä¹Ÿè¦è¿”å›'
    return a,b,c
print(return_much())
print(type(return_much()))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012144955-kyvotx4.png)

### å‡½æ•°å‚æ•°

***argsæ˜¯å¯å˜å‚æ•°ï¼Œargsæ¥æ”¶çš„æ˜¯ä¸€ä¸ªtupleï¼›**

****kwæ˜¯å…³é”®å­—å‚æ•°ï¼Œkwæ¥æ”¶çš„æ˜¯ä¸€ä¸ªdict**ã€‚

`power(x)`å‡½æ•°ï¼Œå‚æ•° `x`å°±æ˜¯ä¸€ä¸ªä½ç½®å‚æ•°ï¼Œå¯å•ä¸ªå˜é‡ï¼Œlistï¼Œsetï¼Œtuple

`power(*x)`å‡½æ•°ï¼Œå¯ä¼ å…¥å•ä¸ªå˜é‡ï¼Œlistï¼Œsetï¼Œtupleï¼Œå¯ä»¥ä¼ å…¥ä»»æ„ä¸ªå‚æ•°æˆ–0ä¸ªå‚æ•°

`power(**kw)`å‡½æ•°,å­—å…¸dict

å¯å˜å‚æ•°å…è®¸ä½ ä¼ å…¥0ä¸ªæˆ–ä»»æ„ä¸ªå‚æ•°ï¼Œè¿™äº›å¯å˜å‚æ•°åœ¨å‡½æ•°è°ƒç”¨æ—¶è‡ªåŠ¨ç»„è£…ä¸ºä¸€ä¸ªtupleã€‚

è€Œå…³é”®å­—å‚æ•°å…è®¸ä½ ä¼ å…¥0ä¸ªæˆ–ä»»æ„ä¸ªå«å‚æ•°åçš„å‚æ•°ï¼Œè¿™äº›å…³é”®å­—å‚æ•°åœ¨å‡½æ•°å†…éƒ¨è‡ªåŠ¨ç»„è£…ä¸ºä¸€ä¸ª**dict**.

`power(x, n)`ï¼Œç”¨æ¥è®¡ç®—x^n^

`power(x, n)`å‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°ï¼š`x`å’Œ `n`

é»˜è®¤å‚æ•°ï¼Œæ­¤æ—¶ageå’Œcityä¸ºé»˜è®¤å‚æ•°ï¼Œå¯ä¼ å€¼æ”¹å˜ä¹Ÿå¯ä¸å˜ã€ä¸ç”¨ä¼ å€¼ã€‘

`power(L=None)`å‡½æ•°æœ‰Noneè¿™ä¸ªä¸å˜å¯¹è±¡ï¼Œå¯ç”¨list

```python
def enroll(name, gender, age=6, city='Beijing'):
    print('name:', name)
    print('gender:', gender)
    print('age:', age)
    print('city:', city)
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012151610-9n1rxhq.png)

#### å¿…é€‰å‚æ•°

```python
def a1(x):
    return x
print(a1(2))
print(a1(12.1))
print(a1('ruan'))
print(a1(True))
print(a1([1,2,3]))
print(a1({1,2,3}))
print(a1({"key":"vleaue",'name':'ruan','mun':23}))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012153014-r27ykfm.png)

#### =é»˜è®¤å‚æ•°

```python
def a2(x=9):
    return x
print(a2())
print(a2(2))
print(a2(12.1))
print(a2('ruan'))
print(a2(True))
print(a2([1,2,3]))
print(a2({1,2,3}))
print(a2({"key":"vleaue",'name':'ruan','mun':23}))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012153014-r27ykfm.png)

#### *å¯å˜å‚æ•°

```python
def a3(*x):
    return x
print(a3())
print(a3(2))
print(a3(12.1))
print(a3('ruan'))
print(a3(True))
print(a3([1,2,3]))
print(a3({1,2,3}))
print(a3({"key":"vleaue",'name':'ruan','mun':23}))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012154346-2eahz0b.png)

#### **å…³é”®å­—å‚æ•°

```python
def a3(**kw):
    return kw
print(a3())
print(a3(kw=2))
print(a3(kw=12.1))
print(a3(kw='ruan'))
print(a3(kw=True))
print(a3(kw=[1,2,3]))
print(type(a3(kw=[1,2,3])))
print(a3(kw={1,2,3}))
print(type(a3(kw={1,2,3})))
print(a3(kw={"key":"vleaue",'name':'ruan','mun':23}))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012154409-tp9u2z5.png)

### é€’å½’å‡½æ•°

åœ¨å‡½æ•°å†…éƒ¨ï¼Œå¯ä»¥è°ƒç”¨å…¶ä»–å‡½æ•°ã€‚

ä¸€ä¸ªå‡½æ•°åœ¨**å†…éƒ¨è°ƒç”¨è‡ªèº«æœ¬èº«**ï¼Œè¿™ä¸ªå‡½æ•°å°±æ˜¯**é€’å½’å‡½æ•°**ã€‚

ä½¿ç”¨é€’å½’å‡½æ•°éœ€è¦**æ³¨æ„é˜²æ­¢æ ˆæº¢å‡º**

```python
#é€’å½’å‡½æ•°
def funmyself(x):
    if x>1:
        return x+funmyself(x-1)
    elif x==1:
        return 1
print(funmyself(3))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012155139-884p9as.png)

è§£å†³æ ˆæº¢å‡ºæ–¹æ³•ï¼š

**å°¾é€’å½’**ä¼˜åŒ–ï¼Œäº‹å®ä¸Šå°¾é€’å½’å’Œå¾ªç¯çš„æ•ˆæœæ˜¯ä¸€æ ·çš„

å°¾é€’å½’æ˜¯æŒ‡ï¼Œåœ¨å‡½æ•°è¿”å›çš„æ—¶å€™ï¼Œ**è°ƒç”¨è‡ªèº«**æœ¬èº«ï¼Œå¹¶ä¸”ï¼Œ**returnè¯­å¥ä¸èƒ½åŒ…å«è¡¨è¾¾å¼**

```python
#å°¾é€’å½’
def funmyself2(n):
    return  funmyself2_it(n,1)

def  funmyself2_it(n,pro):
    if n==1:
        return pro
    else:
        return funmyself2(n-1)+n
print(funmyself2(100))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211012160333-tngb33o.png)

æ­¤æ—¶funmyself2æ˜¯å°¾é€’å½’å‡½æ•°

## è½¬ä¹‰å­—ç¬¦ `\`

è½¬ä¹‰å­—ç¬¦ `\`å¯ä»¥è½¬ä¹‰å¾ˆå¤šå­—ç¬¦ï¼Œæ¯”å¦‚

`\n`è¡¨ç¤ºæ¢è¡Œï¼Œ

`\t`è¡¨ç¤ºåˆ¶è¡¨ç¬¦ï¼Œ

å­—ç¬¦ `\`æœ¬èº«ä¹Ÿè¦è½¬ä¹‰ï¼Œæ‰€ä»¥ `\\`è¡¨ç¤ºçš„å­—ç¬¦å°±æ˜¯ `\`

Pythonè¿˜å…è®¸ç”¨ `r''`è¡¨ç¤º `''`å†…éƒ¨çš„å­—ç¬¦ä¸²é»˜è®¤ä¸è½¬ä¹‰

## è¿ç®—ç¬¦andã€orå’Œnot

è¿ç®—ä¼˜å…ˆçº§ï¼šnot>or>and

## é™¤æ³• / //

```python
print(10/3)
print(10//3)
```

#### é™¤æ³•ä¸€ / æµ®ç‚¹æ•°

#### é™¤æ³•äºŒ  //  åœ°æ¿é™¤ æ•´æ•°

`/`é™¤æ³•è®¡ç®—ç»“æœæ˜¯æµ®ç‚¹æ•°ï¼Œå³ä½¿æ˜¯ä¸¤ä¸ªæ•´æ•°æ°å¥½æ•´é™¤ï¼Œç»“æœä¹Ÿæ˜¯æµ®ç‚¹æ•°ï¼š

`//`ï¼Œç§°ä¸ºåœ°æ¿é™¤ï¼Œä¸¤ä¸ªæ•´æ•°çš„é™¤æ³•ä»ç„¶æ˜¯æ•´æ•°ï¼š

## å–ä½™ %

```python
print(10%1)
print(10%3)
print(4%7)
print(2%20)
#å¦‚æœa%b a>b åˆ™ç»“æœä¸ºa
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009141744-i2nxg58.png)

## å­—ç¬¦ç¼–ç 

`ASCII`ç¼–ç 

8ä¸ªæ¯”ç‰¹ï¼ˆbitï¼‰ä½œä¸ºä¸€ä¸ªå­—èŠ‚ï¼ˆbyteï¼‰

ä¸€ä¸ªå­—èŠ‚èƒ½è¡¨ç¤ºçš„æœ€å¤§çš„æ•´æ•°å°±æ˜¯255ï¼ˆäºŒè¿›åˆ¶11111111=åè¿›åˆ¶255ï¼‰

ä¸¤ä¸ªå­—èŠ‚å¯ä»¥è¡¨ç¤ºçš„æœ€å¤§æ•´æ•°æ˜¯ `65535`ï¼Œ4ä¸ªå­—èŠ‚å¯ä»¥è¡¨ç¤ºçš„æœ€å¤§æ•´æ•°æ˜¯ `4294967295`

å¤§å†™å­—æ¯ `A`çš„ç¼–ç æ˜¯ `65`ï¼ŒäºŒè¿›åˆ¶çš„ `01000001`ï¼Œå°å†™å­—æ¯ `z`çš„ç¼–ç æ˜¯ `122`

UnicodeæŠŠæ‰€æœ‰è¯­è¨€éƒ½ç»Ÿä¸€åˆ°ä¸€å¥—ç¼–ç é‡Œï¼Œè¿™æ ·å°±ä¸ä¼šå†æœ‰ä¹±ç é—®é¢˜

ASCIIç¼–ç æ˜¯1ä¸ªå­—èŠ‚ï¼Œè€ŒUnicodeç¼–ç é€šå¸¸æ˜¯2ä¸ªå­—èŠ‚

**ASCllå‡ºç°ä¹±ç é—®é¢˜å¼•å…¥Unicodeç¼–ç å­˜å‚¨ç©ºé—´å¤šäº†ä¸€å€å¼•å…¥UTF-8ç¼–ç **

utf-8ï¼šå°†**Unicodeå­—ç¬¦æ ¹æ®ä¸åŒçš„æ•°å­—å¤§å°ç¼–ç æˆ1-6ä¸ªå­—èŠ‚ï¼Œå¸¸ç”¨çš„è‹±æ–‡å­—æ¯è¢«ç¼–ç æˆ1ä¸ªå­—èŠ‚ï¼Œæ±‰å­—é€šå¸¸æ˜¯3ä¸ªå­—èŠ‚ï¼Œ**

| å­—ç¬¦ | ASCII    | Unicode           | UTF-8                      |
| ---- | -------- | ----------------- | -------------------------- |
| A    | 01000001 | 00000000 01000001 | 01000001                   |
| ä¸­   | x        | 01001110 00101101 | 11100100 10111000 10101101 |

åœ¨è®¡ç®—æœºå†…å­˜ä¸­ï¼Œç»Ÿä¸€ä½¿ç”¨Unicodeç¼–ç ï¼Œå½“éœ€è¦ä¿å­˜åˆ°ç¡¬ç›˜æˆ–è€…éœ€è¦ä¼ è¾“çš„æ—¶å€™ï¼Œå°±è½¬æ¢ä¸ºUTF-8ç¼–ç ã€‚

ç”¨è®°äº‹æœ¬ç¼–è¾‘çš„æ—¶å€™ï¼Œä»æ–‡ä»¶è¯»å–çš„UTF-8å­—ç¬¦è¢«è½¬æ¢ä¸ºUnicodeå­—ç¬¦åˆ°å†…å­˜é‡Œï¼Œç¼–è¾‘å®Œæˆåï¼Œä¿å­˜çš„æ—¶å€™å†æŠŠUnicodeè½¬æ¢ä¸ºUTF-8ä¿å­˜åˆ°æ–‡ä»¶

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009142650-uopgqob.png)

æµè§ˆç½‘é¡µçš„æ—¶å€™ï¼ŒæœåŠ¡å™¨ä¼šæŠŠåŠ¨æ€ç”Ÿæˆçš„Unicodeå†…å®¹è½¬æ¢ä¸ºUTF-8å†ä¼ è¾“åˆ°æµè§ˆå™¨ï¼š

![web-utf-8](https://www.liaoxuefeng.com/files/attachments/923923759189600/0)

#### compile() å­—ç¬¦ä¸²ç¼–è¯‘ä¸ºå­—èŠ‚ä»£ç 

#### ç¼–ç è½¬åŒ–

#### ord('A') å­—æ¯è½¬å­—ç¬¦

#### chr(65) å­—ç¬¦è½¬å­—æ¯

```python
a=ord('A')
b=chr(65)
print(a,b)
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009144810-rm45nsz.png)

#### b'str'è½¬ä¸ºå­—èŠ‚ç±»å‹bytes

`bytes`ç±»å‹çš„æ•°æ®ç”¨å¸¦ `b`å‰ç¼€çš„å•å¼•å·æˆ–åŒå¼•å·è¡¨ç¤º

```python
x = b'ABC'
```

è¦æ³¨æ„åŒºåˆ† `'ABC'`å’Œ `b'ABC'`ï¼Œå‰è€…æ˜¯ `str`ï¼Œåè€…è™½ç„¶å†…å®¹æ˜¾ç¤ºå¾—å’Œå‰è€…ä¸€æ ·ï¼Œä½† `bytes`çš„æ¯ä¸ªå­—ç¬¦éƒ½åªå ç”¨ä¸€ä¸ªå­—èŠ‚ã€‚

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009145112-3dmegln.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009150224-kn57ioe.png)

#### str.encode('ascii') `str` å˜ä¸º `bytes `

`ASCII`

`UTF-8`

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009150118-wy36xea.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009150204-81jvyjd.png)

#### str.decode('utf-8')`bytes`å˜ä¸º `str`

```python
print(type(b'abc'))
print(b'abc'.decode('utf-8'))
print(type(b'abc'.decode('utf-8')))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009150844-zvt6jkv.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009150746-31uq63m.png)

lenï¼ˆstrï¼‰è®¡ç®—å­—ç¬¦æ•°

å‡½æ•°è®¡ç®—çš„æ˜¯ `str`çš„å­—ç¬¦æ•°ï¼Œå¦‚æœæ¢æˆ `bytes`ï¼Œ`len()`å‡½æ•°å°±è®¡ç®—å­—èŠ‚æ•°

```python
print(len('abc'))
print(len(b'abc'))
print(len('ä¸­'))
print(len('ä¸­'.encode('utf-8')))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009151234-rhao6fv.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009151321-6k73tn8.png)

## ç‰¹æ®Šæ³¨é‡Š

```python
#!/usr/bin/env python3
# -*- coding: utf-8 -*-
```

ç¬¬ä¸€è¡Œæ³¨é‡Šæ˜¯ä¸ºäº†å‘Šè¯‰Linux/OS Xç³»ç»Ÿï¼Œè¿™æ˜¯ä¸€ä¸ªPythonå¯æ‰§è¡Œç¨‹åºï¼Œ**Windowsç³»ç»Ÿä¼šå¿½ç•¥è¿™ä¸ªæ³¨é‡Š**ï¼›

ç¬¬äºŒè¡Œæ³¨é‡Šæ˜¯ä¸ºäº†å‘Šè¯‰Pythonè§£é‡Šå™¨ï¼Œ**æŒ‰ç…§UTF-8ç¼–ç è¯»å–æºä»£ç **ï¼Œå¦åˆ™ï¼Œä½ åœ¨æºä»£ç ä¸­å†™çš„ä¸­æ–‡è¾“å‡ºå¯èƒ½ä¼šæœ‰ä¹±ç ã€‚

## å ä½ç¬¦ æ ¼å¼åŒ–

### å ä½ç¬¦%s %d %f

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009152324-rmac8lz.png)

æ ¼å¼åŒ–æ–¹å¼å’ŒCè¯­è¨€æ˜¯ä¸€è‡´

` %`è¿ç®—ç¬¦å°±æ˜¯ç”¨æ¥æ ¼å¼åŒ–å­—ç¬¦ä¸²çš„ã€‚

åœ¨å­—ç¬¦ä¸²å†…éƒ¨ï¼Œ

`%s`è¡¨ç¤ºç”¨å­—ç¬¦ä¸²æ›¿æ¢ï¼Œ

`%d`è¡¨ç¤ºç”¨æ•´æ•°æ›¿æ¢ï¼Œ

æœ‰å‡ ä¸ª `%?`å ä½ç¬¦ï¼Œåé¢å°±è·Ÿå‡ ä¸ªå˜é‡æˆ–è€…å€¼ï¼Œé¡ºåºè¦å¯¹åº”å¥½ã€‚å¦‚æœåªæœ‰ä¸€ä¸ª `%?`ï¼Œæ‹¬å·å¯ä»¥çœç•¥

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009152708-zy7vi8x.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009152722-wq5flos.png)

| å ä½ç¬¦ | æ›¿æ¢å†…å®¹     |
| ------ | ------------ |
| %d     | æ•´æ•°         |
| %f     | æµ®ç‚¹æ•°       |
| %s     | å­—ç¬¦ä¸²       |
| %x     | åå…­è¿›åˆ¶æ•´æ•° |

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009153422-r1s8f5z.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009153433-1uhb1w3.png)

è½¬ä¹‰ï¼š`%%`æ¥è¡¨ç¤ºä¸€ä¸ª `%`

### formatï¼ˆï¼‰æ ¼å¼åŒ–å­—ç¬¦ä¸²

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009154141-a3v7tnj.png)

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009154153-o6u9yd7.png)

### f-string æ ¼å¼åŒ–å­—ç¬¦ä¸²

`{r}`è¢«å˜é‡ `r`çš„å€¼æ›¿æ¢ï¼Œ`{s:.2f}`è¢«å˜é‡ `s`çš„å€¼æ›¿æ¢ï¼Œå¹¶ä¸” `:`åé¢çš„ `.2f`æŒ‡å®šäº†æ ¼å¼åŒ–å‚æ•°ï¼ˆå³ä¿ç•™ä¸¤ä½å°æ•°ï¼‰ï¼Œå› æ­¤ï¼Œ`{s:.2f}`çš„æ›¿æ¢ç»“æœæ˜¯ `19.62`

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009154406-qahm3f7.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211009154432-m2z0xx5.png)

## å‡½æ•°å¼ç¼–ç¨‹

å‡½æ•°æ˜¯Pythonå†…å»ºæ”¯æŒçš„ä¸€ç§å°è£…ï¼Œé€šè¿‡å±‚å±‚å‡½æ•°è¿›è¡Œè°ƒç”¨

#é¢å‘è¿‡ç¨‹çš„ç¨‹åºè®¾è®¡#ï¼šæŠŠå¤æ‚ä»»åŠ¡åˆ†è§£æˆç®€å•çš„ä»»åŠ¡ï¼Œè¿™ç§åˆ†è§£å¯ä»¥ç§°ä¹‹ä¸ºé¢å‘è¿‡ç¨‹çš„ç¨‹åºè®¾è®¡

å‡½æ•°å¼å’Œå‡½æ•°çš„åŒºåˆ«ï¼š

å¯¹æ¯”ä¾‹å­ï¼šè®¡ç®—å’Œè®¡ç®—å™¨çš„åŒºåˆ«

ç¼–ç¨‹è¯­è¨€ï¼Œå°±æ˜¯è¶Šä½çº§çš„è¯­è¨€ï¼Œè¶Šè´´è¿‘è®¡ç®—æœºï¼ŒæŠ½è±¡ç¨‹åº¦ä½ï¼Œæ‰§è¡Œæ•ˆç‡é«˜ï¼Œæ¯”å¦‚Cè¯­è¨€ï¼›è¶Šé«˜çº§çš„è¯­è¨€ï¼Œè¶Šè´´è¿‘è®¡ç®—ï¼ŒæŠ½è±¡ç¨‹åº¦é«˜ï¼Œæ‰§è¡Œæ•ˆç‡ä½ï¼Œæ¯”å¦‚Lispè¯­è¨€

Pythonä¸æ˜¯çº¯å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€

å‡½æ•°å¼ç¼–ç¨‹å°±æ˜¯ä¸€ç§æŠ½è±¡ç¨‹åº¦å¾ˆé«˜çš„ç¼–ç¨‹èŒƒå¼ï¼Œ

çº¯ç²¹çš„å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€ç¼–å†™çš„**å‡½æ•°æ²¡æœ‰å˜é‡**ï¼Œå› æ­¤ï¼Œä»»æ„ä¸€ä¸ªå‡½æ•°ï¼Œ**åªè¦è¾“å…¥æ˜¯ç¡®å®šçš„ï¼Œè¾“å‡ºå°±æ˜¯ç¡®å®šçš„**

### å‡½æ•°å¼ç¼–ç¨‹ç‰¹ç‚¹ï¼š

1. çº¯å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€å‡½æ•°æ²¡æœ‰å˜é‡ï¼Œè¾“å…¥è¾“å‡ºç¡®å®š
2. å…è®¸æœ¬èº«ä½œä¸ºå‚æ•°ä¼ å…¥å¦ä¸€ä¸ªå‡½æ•°ï¼Œå…è®¸è¿”å›ä¸€ä¸ªå‡½æ•°

## é«˜é˜¶å‡½æ•°

å‚æ•°ä¸­æœ‰å‡½æ•°

é«˜é˜¶å‡½æ•°é™¤äº†å¯ä»¥æ¥å—å‡½æ•°ä½œä¸ºå‚æ•°å¤–ï¼Œè¿˜å¯ä»¥æŠŠå‡½æ•°ä½œä¸ºç»“æœå€¼è¿”å›

### å˜é‡å¯ä»¥æŒ‡å‘å‡½æ•°

a=å‡½æ•°

æ±‚ç»å¯¹å€¼çš„å‡½æ•° `abs()`ä¸ºä¾‹

```python
print(abs(-10))
print(abs)
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211019114343-h6egecv.png)

absï¼ˆ-10ï¼‰æ˜¯å‡½æ•°è°ƒç”¨ï¼Œabsæ˜¯å‡½æ•°æœ¬èº«

```python
k=abs(-20)
print(k)
#å‡½æ•°æœ¬èº«ä¹Ÿå¯ä»¥èµ‹å€¼ç»™å˜é‡
h=abs
print(h)
print(h(-100))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211019114757-z778j3c.png)

ç»“è®ºï¼šå‡½æ•°æœ¬èº«ä¹Ÿå¯ä»¥èµ‹å€¼ç»™å˜é‡ï¼Œå³ï¼š#å˜é‡å¯ä»¥æŒ‡å‘å‡½æ•°ã€‚#

### å‡½æ•°åä¹Ÿæ˜¯å˜é‡

#å‡½æ•°å#ï¼š**å…¶å®å°±æ˜¯æŒ‡å‘å‡½æ•°çš„å˜é‡**

a()ä¸­aæ˜¯æŒ‡å‘å‡½æ•°aï¼ˆï¼‰çš„å˜é‡

### ä¼ å…¥å‡½æ•°

æ—¢ç„¶å˜é‡å¯ä»¥æŒ‡å‘å‡½æ•°ï¼Œå‡½æ•°çš„å‚æ•°èƒ½æ¥æ”¶å˜é‡ï¼Œé‚£ä¹ˆä¸€ä¸ªå‡½æ•°å°±å¯ä»¥æ¥æ”¶å¦ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¿™ç§å‡½æ•°å°±ç§°ä¹‹ä¸ºé«˜é˜¶å‡½æ•°ã€‚

#é«˜é˜¶å‡½æ•°#ï¼š**ä¸€ä¸ªå‡½æ•°å°±å¯ä»¥æ¥æ”¶å¦ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°**

b()

a(b)

x=a

```python
def f(x):
    return abs(int(x))
def a(a,b,f):
    return f(a)+f(b)
if __name__ == '__main__':
    a1=input('a')
    a2=input('b')
    print(a(a1,a2,f))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211019115835-q2esytb.png)

æ­¤æ—¶å‡½æ•°aä¸ºé«˜é˜¶å‡½æ•°ï¼Œéœ€è¦è°ƒç”¨få‡½æ•°ä½œä¸ºå‚æ•°

## map/reduce å†…å»ºå‡½æ•°

å†…å»ºäº† `map()`å’Œ `reduce()`å‡½æ•° é«˜é˜¶å‡½æ•°

### mapï¼ˆï¼‰å‡½æ•°å¤„ç†ç”Ÿæˆæ–°Iteratorè¿­ä»£å™¨

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211019131933-ut47b16.png)ä¸¤ä¸ªå‚æ•°ï¼Œå‡½æ•°åã€å‡½æ•°æœ¬èº«ã€‘ï¼Œéœ€è¦å¤„ç†çš„ç¼–ç¨‹å¼iterator

`<br />`åˆ›å»ºä¸€ä¸ªè¿­ä»£å™¨ï¼Œä½¿ç”¨æ¯ä¸ªè¿­ä»£å™¨ä¸­çš„å‚æ•°è®¡ç®—å‡½æ•°ã€‚å½“æœ€çŸ­è¿­ä»£ç”¨å°½æ—¶åœæ­¢ã€‚

```python
 map(func, *iterables) --> map object
```

```python
def f(x):
    return x*x
r=map(f,[1,2,3,4,4,4,4,4,4,4,4])
print(r)
print(type(r))
print(list(r))
print(type(list(r)))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211019133740-kxaifya.png)

è¿ç®—è§„åˆ™æŠ½è±¡

### reduceï¼ˆï¼‰å‡½æ•°ä½œç”¨åœ¨åºåˆ—ä¸Š

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211019142951-sxqvxp4.png)

ä¸¤ä¸ªå‚æ•°ï¼Œå‡½æ•°åã€å‡½æ•°æœ¬èº«ã€‘ï¼Œéœ€è¦å¤„ç†çš„#åºåˆ—#ï¼š sequence(åºåˆ—)æ˜¯ä¸€ç»„æœ‰é¡ºåºçš„å…ƒç´ çš„é›†åˆ

åºåˆ—åŸºæœ¬æ ·å¼[ä¸‹é™:ä¸Šé™:æ­¥é•¿]

`reduce`æŠŠç»“æœç»§ç»­å’Œåºåˆ—çš„ä¸‹ä¸€ä¸ªå…ƒç´ åšç´¯ç§¯è®¡ç®—

```python
reduce(f, [x1, x2, x3, x4]) = f(f(f(x1, x2), x3), x4)
```

```python
from functools import reduce
>>> def fn(x, y):
...     return x * 10 + y
...
>>> reduce(fn, [1, 3, 5, 7, 9])
13579
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211019142820-4tlrn7x.png)

## filter()è¿‡æ»¤åºåˆ—

å‚æ•°å’Œmapï¼ˆï¼‰ç›¸ä¼¼

`filter()`ä¹Ÿæ¥æ”¶ä¸€ä¸ªå‡½æ•°å’Œä¸€ä¸ªåºåˆ—

## sortedï¼ˆï¼‰æ’åº

é«˜é˜¶å‡½æ•°![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211020184319-dzvm55o.png)

å‚æ•°ï¼šæ’åºå¯¹è±¡ï¼Œkey=å‡½æ•°

```bash
sorted([36, 5, -12, 9, -21], key=abs)
```

æ’åºçš„æ ¸å¿ƒæ˜¯æ¯”è¾ƒä¸¤ä¸ªå…ƒç´ çš„å¤§å°

```bash
print(sorted([1,2,353,6,3,234,43,435]))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211020184421-43dcfax.png)

keyæŒ‡å®šç»å¯¹å€¼å¤§å°æ’åº

```bash
print(sorted([1,2,353,6,3,234,43,435,-242,-34,34,35],key=abs))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211020184629-q7j7zxx.png)

## è¿”å›å‡½æ•°

### å‡½æ•°ä½œä¸ºè¿”å›å€¼

é«˜é˜¶å‡½æ•°é™¤äº†å¯ä»¥æ¥å—å‡½æ•°ä½œä¸ºå‚æ•°å¤–ï¼Œè¿˜å¯ä»¥æŠŠå‡½æ•°ä½œä¸ºç»“æœå€¼è¿”å›

```bash
# å¦‚æœä¸éœ€è¦ç«‹åˆ»æ±‚å’Œï¼Œè€Œæ˜¯åœ¨åé¢çš„ä»£ç ä¸­ï¼Œ
# æ ¹æ®éœ€è¦å†è®¡ç®—æ€ä¹ˆåŠï¼Ÿå¯ä»¥ä¸è¿”å›æ±‚å’Œçš„ç»“æœï¼Œè€Œæ˜¯è¿”å›æ±‚å’Œçš„å‡½æ•°ï¼š
def zary_sum(a):
    def sum():
        sum1=0
        for i in a:
            sum1=sum1+i
        return sum1
    return sum
print(type(zary_sum([1,2,3,4])))
f=zary_sum([1,2,3,4])
print(f())
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211021100621-oot0dd6.png)

è°ƒç”¨è¿”å›å‡½æ•°æ—¶ï¼Œæ¯æ¬¡è°ƒç”¨éƒ½ä¼šæ–°ç”Ÿæˆä¸€ä¸ªå‡½æ•°

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211021100747-ho01xzp.png)

## é—­åŒ…

å½“ä¸€ä¸ªå‡½æ•°çš„è¿”å›å€¼æ˜¯å¦å¤–ä¸€ä¸ªå‡½æ•°ï¼Œ

è€Œè¿”å›çš„é‚£ä¸ªå‡½æ•°å¦‚æœè°ƒç”¨äº†å…¶çˆ¶å‡½æ•°å†…éƒ¨çš„å…¶å®ƒå˜é‡ï¼Œå¦‚æœ **è¿”å›çš„è¿™ä¸ªå‡½æ•°åœ¨å¤–éƒ¨è¢«æ‰§è¡Œï¼Œå°±äº§ç”Ÿäº†é—­åŒ…** ã€‚

**è¿”å›å‡½æ•°ä¸­ï¼Œè¿”å›çš„å‡½æ•°è°ƒç”¨çˆ¶å‡½æ•°çš„å†…éƒ¨å˜é‡**

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211021100950-gl5liu8.png)

```bash
#è¿”å›å‡½æ•°
def count():
    fs=[]
    for i in range(1,4):
        def f():
            return i*i
        fs.append(f)
    return fs
f1,f2,f3=count()
print(f1(),f2(),f3())
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211021103727-wtd0kdc.png)

è¿”å›ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œç‰¢è®°è¯¥å‡½æ•°å¹¶æœªæ‰§è¡Œï¼Œè¿”å›å‡½æ•°ä¸­ä¸è¦å¼•ç”¨ä»»ä½•å¯èƒ½ä¼šå˜åŒ–çš„å˜é‡ã€‚

## lambdaï¼ˆï¼‰åŒ¿åå‡½æ•°

lambdaå…³é”®å­— å‡½æ•°å‚æ•°ï¼šå‡½æ•°è¡¨è¾¾å¼

ä¼ å…¥å‡½æ•°æ—¶ï¼Œæœ‰äº›æ—¶å€™ï¼Œä¸éœ€è¦æ˜¾å¼åœ°å®šä¹‰å‡½æ•°

Pythonå¯¹åŒ¿åå‡½æ•°çš„æ”¯æŒæœ‰é™ï¼Œåªæœ‰ä¸€äº›ç®€å•çš„æƒ…å†µä¸‹å¯ä»¥ä½¿ç”¨åŒ¿åå‡½æ•°ã€‚

```bash
lambda x:x*x
#ç­‰ä»·äº
def f(x):
   return x*x
```

å…³é”®å­— `lambda`è¡¨ç¤ºåŒ¿åå‡½æ•°ï¼Œå†’å·å‰é¢çš„ `x`è¡¨ç¤ºå‡½æ•°å‚æ•°ï¼Œåªèƒ½ä¸€ä¸ªè¡¨è¾¾å¼

ä¸ç”¨å†™ `return`ï¼Œè¿”å›å€¼å°±æ˜¯è¯¥è¡¨è¾¾å¼çš„ç»“æœã€‚

åŒ¿åå‡½æ•°ä¹Ÿæ˜¯ä¸€ä¸ªå‡½æ•°å¯¹è±¡

```bash
f=lamdba x:x*x
```

åˆ¤æ–­å¥‡æ•°å‡½æ•°

åŸå‡½æ•°ï¼š

```bash
def is_odd(n):
    return n % 2 == 1

L = list(filter(is_odd, range(1, 20)))
```

é‡‡ç”¨åŒ¿åå‡½æ•°ä¿®æ”¹

```bash
l=list(filter(lambda x:x%2==1,range(1,20)))
print(l)
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211021143505-wbqh836.png)

## è£…é¥°å™¨ Decorator

### æœ¬è´¨ä¸Šï¼Œè£…é¥°å™¨å°±æ˜¯ä¸€ä¸ªè¿”å›å‡½æ•°çš„é«˜é˜¶å‡½æ•°

@log ç­‰ä»·äº

```bash
now = log(now)
```

ç”±äºå‡½æ•°ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œä¸”å‡½æ•°å¯¹è±¡å¯ä»¥è¢«èµ‹å€¼ç»™å˜é‡ï¼Œ

æ‰€ä»¥ï¼Œé€šè¿‡å˜é‡ä¹Ÿèƒ½è°ƒç”¨è¯¥å‡½æ•°

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211022101101-ncgju0i.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211022101111-tgdwt0q.png)

```bash
def log(func):
    def wrapper(*args,**kwargs):
        print('call %s'% func.__name__)
        return func(*args,**kwargs)
    return wrapper()
#funcä¸ºå‚æ•°æ‰€ä»¥æ˜¯é«˜é˜¶å‡½æ•°
#return å‡½æ•°æ‰€ä»¥æ˜¯è¿”å›å‡½æ•°ï¼Œ
#æ²¡æœ‰è°ƒç”¨çˆ¶å‡½æ•°ä¸­å‚æ•°ï¼Œæ‰€ä»¥ä¸æ˜¯é—­åŒ…
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211022110733-h27x1zh.png)![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211022110058-zyo7xpn.png)

åœºæ™¯æ³¨æ„ï¼š

æ— @è£…é¥°å™¨æ—¶å‡½æ•°ä¸è°ƒç”¨ï¼Œéœ€è¦å‚æ•°æ‰è°ƒç”¨

å½“@æ—¶ä¼šç›´æ¥è°ƒç”¨è£…é¥°å™¨å®šä¹‰å‡½æ•°ç„¶åæ‰§è¡Œå‡½æ•°ï¼Œä¸ç”¨è°ƒç”¨å‡½æ•°

ä¸‰å±‚æ—¶ï¼Œä¼ å…¥å‚æ•°

```bash
def log1(text):
    def decorator(func):
        def wapper(*args,**kw):
            print('%s %s'%(text,func.__name__))
            return func(*args,**kw)
        return wapper
    return decorator
@log1('ruan')
def now3():
    print("hhh")
now3()
```

ç›¸å½“äºåœ¨è¿”å›é«˜é˜¶å‡½æ•°ä¸Šè¿˜æœ‰ä¸€ä¸ªå‡½æ•°ï¼Œæ‰€ä»¥è¿”å›æ—¶åº”è¯¥è¿˜è¦è°ƒç”¨ä¸€æ¬¡

## @wraps å¸¸ç”¨è£…é¥°å™¨

å½“è£…é¥°å™¨æ˜¯ä¸ªé—­åŒ…æ—¶ï¼Œè£…é¥°å™¨è°ƒç”¨å˜é‡ä¼šæ”¹å˜å¢åŠ @wrapsåè£…é¥°å™¨å†…çš„å˜é‡ä¸å˜

è£…é¥°å™¨åœ¨è£…é¥°ä¸€ä¸ªå‡½æ•°æ—¶,ï¼ŒåŸå‡½æ•°å°±æˆäº†ä¸€ä¸ªæ–°çš„å‡½æ•°,ä¹Ÿ

å°±æ˜¯è¯´å…¶å±æ€§ä¼šå‘ç”Ÿå˜åŒ–,æ‰€ä»¥ä¸ºäº† **ä¸æ”¹å˜åŸå‡½æ•°çš„å±æ€§** ,

æˆ‘ä»¬ä¼šè°ƒç”¨functoolsä¸­çš„wrapsè£…é¥°å™¨æ¥ä¿è¯åŸå‡½æ•°çš„å±æ€§ä¸å˜

#### ä¸åŠ wrapsæ—¶

```bash
  @wraps(func)
```

```bash
from functools import wraps
def wrap(func):
   
    def b():
        'b'
        print('decorator:',b.__name__)
        print('funname',func.__name__)
        func()
    return b
@wrap
def a():
    'a'
    print('name',a.__name__)
a()
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211022115935-kgsz7b2.png)

åŠ è£…é¥°å™¨wrapsæ—¶

```bash
from functools import wraps
def wrap(func):
    @wraps(func)
    def b():
        'b'
        print('decorator:',b.__name__)
        print('funname',func.__name__)
        func()
    return b
@wrap
def a():
    'a'
    print('name',a.__name__)
a()
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211022115950-2j3i7ht.png)

é—­åŒ…çš„æ¦‚å¿µï¼šè°ƒç”¨çˆ¶å‡½æ•°ä¸­çš„å˜é‡çš„å‡½æ•°ï¼Œä¸ºäº†ä¿è¯æ•°æ®å®‰å…¨ã€‚å˜é‡ä½œç”¨åŸŸåªåœ¨å‡½æ•°å†…éƒ¨ï¼Œå¯åœ¨é—­åŒ…ä¸­æ“ä½œæ•°æ®ã€‚

è£…é¥°å™¨è¿”å›ä¸ºä»€ä¹ˆæ˜¯å‡½æ•°åï¼ˆå‡½æ•°å†…å­˜åœ°å€ï¼‰è€Œä¸ç›´æ¥æ‰§è¡Œå‡½æ•°?

å½“æœ‰å‚æ•°ä¼ å…¥æ—¶ï¼Œå¯ç›´æ¥ä¸è°ƒç”¨çš„å‡½æ•°ä¸­çš„å€¼ä¼ å…¥å‚æ•°æ‰§è¡Œã€‚

ï¼ˆï¼‰æ˜¯è¿ç®—ç¬¦f()ä¸f.__call__()ç­‰ä»·ï¼šå°†få¯¹è±¡å˜æˆå˜æˆå¯è°ƒç”¨çš„å¯¹è±¡

## åå‡½æ•°ï¼ˆfunctoolsæ¨¡å—ï¼‰

å±äºfunctoolsæ¨¡å—

### ä½œç”¨ï¼š

é€šè¿‡è®¾å®šå‚æ•°çš„é»˜è®¤å€¼ï¼Œé™ä½å‡½æ•°è°ƒç”¨çš„å‚æ•°

`int()`å‡½æ•°é»˜è®¤æŒ‰åè¿›åˆ¶è½¬æ¢

print(int('100',base=8))

ç»å¸¸è°ƒç”¨äºæ˜¯é‡å†™ä¸€ä¸ªå‡½æ•°int2

```bash
def int2(x, base=8):
    print(int(x, base))
    return int(x, base)
print(int2('2334'))
```

é‡‡ç”¨åå‡½æ•°

```bash
import functools
int3=functools.partial(int,base=8)
print(int3('46'))
print(int())
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211028103219-mdbldp6.png)

functools.partialçš„ä½œç”¨æ˜¯å°†å‡½æ•°çš„ç‰¹å®šå‚æ•°å›ºå®šä½ï¼ˆè®¾å®šä¸ºé»˜è®¤å€¼ï¼‰

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211028103645-7po81oc.png)

åˆ›å»ºåå‡½æ•°çš„æ—¶å€™ä¹Ÿå¯ä»¥æ¥æ”¶ï¼Œå‡½æ•°å¯¹è±¡ï¼Œ*argsï¼Œ**kw

## æ¨¡å—

pythonåŒ…ï¼šä½œç”¨åŒºåˆ†ç›¸åŒåç§°çš„æ¨¡å—

æ¨¡å—ç›¸å½“äºä¸€ä¸ªpyæ–‡ä»¶

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211028105055-2xv0z2i.png)

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211028105133-tkzgcka.png)

## ä½œç”¨åŸŸ

ä»…ä»…åœ¨æ¨¡å—å†…éƒ¨ä½¿ç”¨ã€‚åœ¨Pythonä¸­ï¼Œæ˜¯é€šè¿‡ `_`å‰ç¼€æ¥å®ç°çš„ã€‚

### pubilcå…¬å¼€

æ­£å¸¸çš„å‡½æ•°å’Œå˜é‡åæ˜¯å…¬å¼€çš„ï¼ˆpublicï¼‰

### privateéå…¬å¼€_,__

_xxxå’Œ__xxxè¿™æ ·çš„å‡½æ•°æˆ–å˜é‡å°±æ˜¯éå…¬å¼€çš„ï¼ˆprivateï¼‰

## å®‰è£…ç¬¬ä¸‰æ–¹æ¨¡å—pip

pip install æ¨¡å—å

### æ¨¡å—æœç´¢è·¯å¾„

```bash
import sys
print(sys.path)
```

ä¸¤ç§æ–¹å¼ï¼š

1. æ·»åŠ æœç´¢è·¯å¾„
   ```bash
    import sys
   sys.path.append('/Users/michael/my_py_scripts')
   ```
2. è®¾ç½®ç¯å¢ƒå˜é‡

ç¬¬äºŒç§æ–¹æ³•æ˜¯è®¾ç½®ç¯å¢ƒå˜é‡ `PYTHONPATH`

## é¢å‘å¯¹è±¡ç¼–ç¨‹

é¢å‘å¯¹è±¡ç¼–ç¨‹â€”â€”Object Oriented Programmingï¼Œç®€ç§°OOPï¼Œæ˜¯ä¸€ç§ç¨‹åºè®¾è®¡æ€æƒ³

å¯¹è±¡ä½œä¸ºç¨‹åºçš„åŸºæœ¬å•å…ƒï¼Œ

ä¸€ä¸ªå¯¹è±¡åŒ…å«äº†æ•°æ®å’Œæ“ä½œæ•°æ®çš„å‡½æ•°

æ•°æ®å°è£…ã€ç»§æ‰¿å’Œå¤šæ€æ˜¯é¢å‘å¯¹è±¡çš„ä¸‰å¤§ç‰¹ç‚¹

## ç±»å’Œå®ä¾‹

é¢å‘å¯¹è±¡æœ€é‡è¦çš„æ¦‚å¿µå°±æ˜¯ç±»ï¼ˆClassï¼‰å’Œå®ä¾‹ï¼ˆInstanceï¼‰

ç±»æ˜¯æŠ½è±¡å‡ºæ¥çš„æ¨¡æ¿

å®ä¾‹æ˜¯æ ¹æ®ç±»åˆ›å»ºå‡ºçš„å¯¹è±¡ï¼Œæ¯ä¸ªå¯¹è±¡å¯èƒ½æœ‰å±æ€§å’Œæ–¹æ³•

å®šä¹‰ç±»æ˜¯é€šè¿‡ `class`å…³é”®å­—ï¼Œç±»åé€šå¸¸æ˜¯å¤§å†™å¼€å¤´çš„å•è¯

```bash
class Student(object):
    pass
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211028113324-1nch2o5.png)

ï¼ï¼ï¼åœ¨ç±»ä¸­å®šä¹‰å‡½æ•°æœ‰ä¸€ç‚¹ä¸åŒï¼Œå®šä¹‰ä½›å¦‚æ–¹æ³•ç¬¬ä¸€ä¸ªå‚æ•°æ°¸è¿œæ˜¯å®ä¾‹å˜é‡æœ¬èº«self

ä»ç„¶å¯ä»¥ç”¨é»˜è®¤å‚æ•°ã€å¯å˜å‚æ•°ã€å…³é”®å­—å‚æ•°å’Œå‘½åå…³é”®å­—å‚æ•°

## æ•°æ®å°è£…

```bash
class Student(object):
    def __init__(self, name, score):
        self.name = name
        self.score = score

    def get_grade(self):
        if self.score >= 90:
            return 'A'
        elif self.score >= 60:
            return 'B'
        else:
            return 'C'
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211028113713-vhhvowi.png)

## è®¿é—®é™åˆ¶

### ä½œç”¨ï¼š

**ç¡®ä¿äº†å¤–éƒ¨ä»£ç ä¸èƒ½éšæ„ä¿®æ”¹å¯¹è±¡å†…éƒ¨çš„çŠ¶æ€**

å®ä¾‹çš„å˜é‡åå¦‚æœä»¥ `__`å¼€å¤´ï¼Œå°±å˜æˆäº†ä¸€ä¸ªç§æœ‰å˜é‡ï¼ˆprivateï¼‰

å¤–éƒ¨æ— æ³•è®¿é—®_name

```bash
class Student(object):
    def __init__(self,name,age):
        self._name=name
        self.age=age
    def print_name(self):
        print(self._name)
        return self.age,self._name
a=Student('ruan',23)
h=a.print_name()
print(h)
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211028114732-awu2k2m.png)

è‹¥æ˜¯è¦è·å–ï¼Œä¿®æ”¹å˜é‡å¢åŠ getï¼Œsetæ–¹å¼å³å¯

```bash
class Student(object):
    def __init__(self,name,age):
        self._name=name
        self.age=age 
    def get_name(self):
        return self.name
    def set_name(self,name):
        self._name=name
```

Pythonæœ¬èº«æ²¡æœ‰ä»»ä½•æœºåˆ¶é˜»æ­¢ä½ å¹²åäº‹ï¼Œä¸€åˆ‡å…¨é è‡ªè§‰ã€‚

ç±»å¤–éƒ¨æ— æ³•è®¿é—®

## ç»§æ‰¿å’Œå¤šæ€

### ç»§æ‰¿

#### å¤šæ€

åœ¨ç»§æ‰¿å…³ç³»ä¸­ï¼Œå¦‚æœä¸€ä¸ªå®ä¾‹çš„æ•°æ®ç±»å‹æ˜¯æŸä¸ªå­ç±»ï¼Œé‚£å®ƒçš„æ•°æ®ç±»å‹ä¹Ÿå¯ä»¥è¢«çœ‹åšæ˜¯çˆ¶ç±»ã€‚

æ¯”å¦‚ï¼šåŠ¨ç‰©æ˜¯çˆ¶ç±»ï¼Œç‹—å’Œé±¼æ˜¯å­ç±»ï¼›é±¼æ˜¯é±¼ç±»ï¼Œé±¼æ˜¯åŠ¨ç‰©éƒ½æˆç«‹ã€‚

åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯å¦æ˜¯æŸä¸ªç±»å‹å¯ä»¥ç”¨ `isinstance()`åˆ¤æ–­

### é¸­å­ç±»å‹

å¹¶ä¸è¦æ±‚ä¸¥æ ¼çš„ç»§æ‰¿ä½“ï¼Œä¸€ä¸ªå¯¹è±¡åªè¦â€œçœ‹èµ·æ¥åƒé¸­å­ï¼Œèµ°èµ·è·¯æ¥åƒé¸­å­â€ï¼Œé‚£å®ƒå°±å¯ä»¥è¢«çœ‹åšæ˜¯é¸­å­ã€‚

## è·å–å¯¹è±¡ä¿¡æ¯

### typeï¼ˆï¼‰åˆ¤æ–­å¯¹è±¡ç±»å‹

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211102183643-gwgjuho.png)

### isinstance()å¯¹äºç»§æ‰¿å…³ç³»ï¼Œåˆ¤æ–­classçš„ç±»å‹

### dirï¼ˆï¼‰è·å–å¯¹è±¡çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•

#### lenï¼ˆï¼‰å¯¹è±¡é•¿åº¦

#### lowerï¼ˆï¼‰è¿”å›å°å†™çš„å­—ç¬¦ä¸²

#### getattrï¼ˆï¼‰è·å–å±æ€§a

#### setattrï¼ˆï¼‰è®¾ç½®å±æ€§a

#### hasattrï¼ˆobj,'a'ï¼‰åˆ¤æ–­æ˜¯å¦æœ‰å±æ€§a

```bash
getattr(obj, 'z', 404) # è·å–å±æ€§'z'ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œè¿”å›é»˜è®¤å€¼404
404
```

## å®ä¾‹å±æ€§å’Œç±»å±æ€§

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211102184822-83nvy25.png)

```bash
 class Student(object):
    name='ruan'
   
h=Student()
h.name='hhh'

```

ç±»ä¸­çš„nameæ˜¯ç±»å±æ€§ï¼Œ

åˆ›å»ºhç±»å¯¹è±¡å³å®ä¾‹åèµ‹å€¼çš„æ˜¯å®ä¾‹å±æ€§nameï¼Œä½†ç”±äºå®ä¾‹å¯¹è±¡çš„ä¼˜å…ˆçº§æ¯”ç±»å±æ€§é«˜ï¼Œä¼šå±è”½ç±»ä¸­çš„nameå±æ€§ï¼Œå³h.nameçš„å€¼ä¸ºhhh

### æ€»ç»“ï¼š

1. å®ä¾‹å±æ€§å±äºå„ä¸ªå®ä¾‹æ‰€æœ‰ï¼Œäº’ä¸å¹²æ‰°ï¼›
2. ç±»å±æ€§å±äºç±»æ‰€æœ‰ï¼Œæ‰€æœ‰å®ä¾‹å…±äº«ä¸€ä¸ªå±æ€§ï¼›
3. ä¸è¦å¯¹å®ä¾‹å±æ€§å’Œç±»å±æ€§ä½¿ç”¨ç›¸åŒçš„åå­—ï¼Œå¦åˆ™å°†äº§ç”Ÿéš¾ä»¥å‘ç°çš„é”™è¯¯

# é¢å‘å¯¹è±¡é«˜çº§ç¼–ç¨‹

æ•°æ®å°è£…ã€ç»§æ‰¿å’Œå¤šæ€åªæ˜¯é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ä¸­æœ€åŸºç¡€çš„3ä¸ªæ¦‚å¿µ

å¤šé‡ç»§æ‰¿ã€å®šåˆ¶ç±»ã€å…ƒç±»

# _slots_ä½¿ç”¨

å¯ä»¥ç»™åˆ›å»ºçš„å®ä¾‹ç»‘å®šå±æ€§å’Œæ–¹æ³•

ç»™ä¸€ä¸ªå®ä¾‹ç»‘å®šçš„æ–¹æ³•å¯¹å¦å¤–ä¸€ä¸ªå®ä¾‹å¯¹è±¡æ˜¯ä¸èµ·ä½œç”¨çš„

```bash
class A:
    def run(self):
        print("i im ferther runing....")
sun1=A()
#ç»™å®ä¾‹sun1è®¾ç½®nameå±æ€§
sun1.name='i im name'
#åˆ›å»ºå®ä¾‹å¯¹è±¡2
sun2=A()
#å®ä¾‹å¯¹è±¡sun1çš„å±æ€§å’Œsun2æ— å…³ï¼Œå³sun2æ²¡æœ‰nameå±æ€§
#ç»™å®ä¾‹sun1ç»‘å®šæ–¹æ³•ï¼Œæ–¹æ³•å’Œå±æ€§åŒç†
#å®šä¹‰æ–¹æ³•
def setAll(self,num):
    print(num)
sun1.newfun=MethodType(setAll, sun1)
sun1.newfun(37)
#è‹¥æ‰€æœ‰å®ä¾‹éƒ½éœ€è¦ç»‘å®šæ–¹æ³•åˆ™ç»™ç±»ç»‘å®šæ–¹æ³•
A.setAll=setAll
#ç»™ç±»ç»‘å®šæ–¹æ³•åï¼Œæ‰€æœ‰åˆ›å»ºçš„å®ä¾‹çš„å‡å¯è°ƒç”¨
```

```
def set_age(self, age): # å®šä¹‰ä¸€ä¸ªå‡½æ•°ä½œä¸ºå®ä¾‹æ–¹æ³•
...     self.age = age
...
>>> from types import MethodType
>>> s.set_age = MethodType(set_age, s) # ç»™å®ä¾‹ç»‘å®šä¸€ä¸ªæ–¹æ³•
>>> s.set_age(25) # è°ƒç”¨å®ä¾‹æ–¹æ³•
```

## é™åˆ¶å®ä¾‹å±æ€§ï¼Œå®šä¹‰ä¸€ä¸ªç‰¹æ®Šçš„ `__slots__`å˜é‡

```python
class Student(object):
    __slots__ = ('name', 'age') # ç”¨tupleå®šä¹‰å…è®¸ç»‘å®šçš„å±æ€§åç§°
s=Student()
s.name='ruan'
s.firstname='i im firstname'
#è¾“å‡ºçš„æ—¶å€™firstnameçš„å±æ€§ä¼šæŠ¥é”™ï¼Œ
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
AttributeError: 'Student' object has no attribute 'firstaname'
```

### æ³¨æ„ï¼š

_slots_ä½¿ç”¨æ—¶è¦æ³¨æ„ï¼Œå®šä¹‰çš„å±æ€§åªåœ¨å½“å‰çš„ç±»çš„å®ä¾‹ä¸­ï¼Œå¯¹äºç»§æ‰¿çš„å­ç±»æ˜¯ä¸èµ·ä½œç”¨çš„

```python
class People(object):
    __slots__ = ('name','age')
    def run(self):
        print('i im run people......')

class Teacher(People):
    def say(self):
        print('i im teacher....')
t=Teacher()
t.tall='shouhua'
print(t.tall)
p=People()
p.tall('shouhuap')
print(p.tall)
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211103140608-7ezqmvs.png)

åªé™åˆ¶çˆ¶ç±»Peopleçš„å±æ€§ï¼Œè€Œå­ç±»Teacherä¸­ä¸é™åˆ¶

## @property

åœ¨ç»‘å®šå±æ€§æ—¶ï¼Œå¦‚æœæˆ‘ä»¬ç›´æ¥æŠŠå±æ€§æš´éœ²å‡ºå»,å¯¼è‡´å¯ä»¥éšæ„æ›´æ”¹.é€šè¿‡getï¼Œsetæ¥è·å–æ›´æ”¹å±æ€§å€¼ã€‚

åœ¨pythonä¸­ç›´æ¥è°ƒç”¨è£…é¥°å™¨å°†ä¸€ä¸ªæ–¹æ³•å˜æˆå±æ€§è°ƒç”¨

```python
class Student(object):
    @property
    #ä½¿ç”¨getæ–¹æ³•æ˜¯è°ƒç”¨è£…é¥°å™¨@peopertyï¼Œ
    # åŒæ—¶è‡ªåŠ¨åˆ›å»ºäº†å¦ä¸€ä¸ªè£…é¥°å™¨@å±æ€§.setter
    def score(self):
        return self.score
    @score.setter
    def score(self,value):
        self._score=value
```

## æ€»ç»“ï¼š

-æƒé™é™åˆ¶åªå¯¹ç±»å¯¹è±¡å®é™…èµ·ä½œç”¨ï¼Œæƒ³è¦è¾¾åˆ°æ–¹æ³•å’Œå±æ€§å¼ºåˆ¶è®¿é—®æƒé™ï¼Œéœ€è¦ä½¿ç”¨@propertyè£…é¥°å™¨è¿›è¡Œgetï¼Œsetæ–¹æ³•

å±æ€§åä¸æ–¹æ³•åä¸€å®šè¦åŒºåˆ†å¼€ï¼Œä¸ç„¶ä¼šè¿›å…¥æ­»å¾ªç¯ï¼ˆself._ageï¼Œdef age()ï¼‰
å®ä¾‹åŒ–çš„å¯¹è±¡ä½¿ç”¨å±æ€§æ—¶ï¼Œä¸æ˜¯è°ƒç”¨å±æ€§ï¼ˆmeizi._ageï¼‰ï¼Œè€Œæ˜¯ç”¨çš„æ–¹æ³•åï¼ˆmeizi.ageï¼‰
@propertyå…¶å®å°±æ˜¯å®ç°äº†getteråŠŸèƒ½ï¼› @xxx.setterå®ç°çš„æ˜¯setteråŠŸèƒ½ï¼›è¿˜æœ‰ä¸€ä¸ª @xxx.deleterå®ç°åˆ é™¤åŠŸèƒ½
å®šä¹‰æ–¹æ³•çš„æ—¶å€™ @propertyå¿…é¡»åœ¨ @xxx.setterä¹‹å‰ï¼Œä¸”äºŒè€…ä¿®é¥°çš„æ–¹æ³•åç›¸åŒï¼ˆage()ï¼‰
å¦‚æœåªå®ç°äº† @propertyï¼ˆè€Œæ²¡æœ‰å®ç°@xxx.setterï¼‰ï¼Œé‚£ä¹ˆè¯¥å±æ€§ä¸º åªè¯»å±æ€§

```python
#è¯·åˆ©ç”¨@propertyç»™ä¸€ä¸ªScreenå¯¹è±¡åŠ ä¸Šwidthå’Œheightå±æ€§ï¼Œ
# ä»¥åŠä¸€ä¸ªåªè¯»å±æ€§resolutionï¼š
class Screen(object):
    __slots__ = ('_width','_height','_resolution')

    @property
    def width(self):
        return self._width

    # æ–¹æ³•åç§°å’Œå®ä¾‹å˜é‡å‡ä¸ºwidth:
    @width.setter
    def width(self,widthValue):
        self._width=widthValue

    @property
    def height(self):
        return self._height

    @width.setter
    def height(self, height):
        self._height = height

    @property
    def resolution(self):
        return self._width * self._height
s=Screen()
s.width=23
s.height=12

print(s.resolution)
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211103150647-dge6za2.png)

```python
s.score = 60 # OKï¼Œå®é™…è½¬åŒ–ä¸ºs.set_score(60)
s.score # OKï¼Œå®é™…è½¬åŒ–ä¸ºs.get_score()
```

è¦ç‰¹åˆ«æ³¨æ„ï¼šå±æ€§çš„æ–¹æ³•åä¸è¦å’Œå®ä¾‹å˜é‡é‡åã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹çš„ä»£ç æ˜¯é”™è¯¯çš„ï¼š

```
class Student(object):

    # æ–¹æ³•åç§°å’Œå®ä¾‹å˜é‡å‡ä¸ºbirth:
    @property
    def birth(self):
        return self.birth
```

å‡ºç°é€’å½’è°ƒç”¨é”™è¯¯

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211103151046-5z499ew.png)

ä¹‹å‰çš„ä¾‹å­ä¸­widthå’Œ_widthä¸åŒæ‰€ä»¥å¯ä»¥è¿è¡Œ

## å¤šé‡ç»§æ‰¿

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211103151750-dvwa7qb.png)

pythonå¯ä»¥æ”¯æŒå¤šç»§æ‰¿ï¼Œå³ä¸€ä¸ªå­ç±»å¯ä»¥ç»§æ‰¿å¤šä¸ªçˆ¶ç±»ï¼›ä½†javaæ˜¯å•ç»§æ‰¿ï¼Œåªèƒ½æœ‰ä¸€ä¸ªçˆ¶ç±»

Tercherï¼ˆNameï¼Œstudyï¼Œteachï¼‰å³Teacherå¯ä»¥ç»§æ‰¿å¤šä¸ªçˆ¶ç±»

### MixIn

åœ¨è®¾è®¡ç±»çš„ç»§æ‰¿å…³ç³»æ—¶ï¼Œé€šå¸¸ï¼Œä¸»çº¿éƒ½æ˜¯å•ä¸€ç»§æ‰¿ä¸‹æ¥çš„ï¼Œä¾‹å¦‚ï¼Œ`Teacher`ç»§æ‰¿è‡ªNameã€‚ä½†æ˜¯ï¼Œå¦‚æœéœ€è¦â€œæ··å…¥â€é¢å¤–çš„åŠŸèƒ½ï¼Œé€šè¿‡å¤šé‡ç»§æ‰¿å°±å¯ä»¥å®ç°ï¼Œæ¯”å¦‚Teacheré™¤äº†ç»§æ‰¿è‡ª `Name`å¤–ï¼Œå†åŒæ—¶ç»§æ‰¿ `Teach`ã€‚è¿™ç§è®¾è®¡é€šå¸¸ç§°ä¹‹ä¸ºMixIn

Pythonè‡ªå¸¦äº† `TCPServer`å’Œ `UDPServer`è¿™ä¸¤ç±»ç½‘ç»œæœåŠ¡ï¼Œè€Œè¦åŒæ—¶æœåŠ¡å¤šä¸ªç”¨æˆ·å°±å¿…é¡»ä½¿ç”¨å¤šè¿›ç¨‹æˆ–å¤šçº¿ç¨‹æ¨¡å‹ï¼Œè¿™ä¸¤ç§æ¨¡å‹ç”± `ForkingMixIn`å’Œ `ThreadingMixIn`æä¾›ã€‚

### å¤šç»§æ‰¿

å¤šé‡ç»§æ‰¿è¿™ä¸ªåè¯ä¸€èˆ¬ç”¨æ¥å½¢å®¹ç»§æ‰¿é“¾æ¡å¯ä»¥å¾ˆé•¿ï¼Œå¤šä¸ªå±‚æ¬¡ã€‚

### å¤šé‡ç»§æ‰¿

**å¤šç»§æ‰¿åˆ™æŒ‡ä¸€ä¸ªç±»å¯ä»¥æœ‰å¤šä¸ªåŸºç±»ï¼Œç›¸ååˆ™æ˜¯å•ç»§æ‰¿**ã€‚ä»»ä½•é¢å‘å¯¹è±¡ç¼–ç¨‹è¯­è¨€éƒ½æ”¯æŒå¤šé‡ç»§æ‰¿ï¼Œä½†åƒjavaè¿™ç§åªèƒ½é€šè¿‡æ¥å£å®ç°æœ‰é™ç¨‹åº¦çš„å¤šç»§æ‰¿

é—®ï¼šå¤šç»§æ‰¿ å¦‚æœå¤šä¸ªç±»æœ‰å…±åŒå¾—æ–¹æ³•å æ€ä¹ˆåŒºåˆ†æ˜¯è°ƒå¾—å“ªä¸ªç±»ğŸ¤¡

ç­”ï¼šè°ƒç”¨è¯¥æ–¹æ³•çš„æ—¶å€™ï¼Œä¼šè°ƒç”¨ç¬¬ä¸€é¡ºä½ç»§æ‰¿çˆ¶ç±»çš„æ–¹æ³•

### æ€»ç»“ï¼š

1. Pythonå…è®¸ä½¿ç”¨å¤šé‡ç»§æ‰¿ï¼Œå› æ­¤ï¼ŒMixInå°±æ˜¯ä¸€ç§å¸¸è§çš„è®¾è®¡
2. åªå…è®¸å•ä¸€ç»§æ‰¿çš„è¯­è¨€ï¼ˆå¦‚Javaï¼‰ä¸èƒ½ä½¿ç”¨MixInçš„è®¾è®¡

## å®šåˆ¶ç±»

Pythonçš„classä¸­è¿˜æœ‰__xxx__æœ‰ç‰¹æ®Šç”¨é€”çš„å‡½æ•°ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬å®šåˆ¶ç±»

### __str__()å›ç”¨æˆ·çœ‹åˆ°çš„å­—ç¬¦ä¸²

å°†å¯¹è±¡ `<__main__.Student object at 0x109afb190>`å˜æˆæ˜“è¯»çš„æ•°æ®

åªåœ¨è°ƒç”¨printæ—¶ä¼šè°ƒç”¨__str__ï¼Œäº¤äº’ç•Œé¢æ—¶è¿˜æ˜¯ç°å®ä¸Šæ–¹ä¸æ˜“è¯»çš„å¯¹è±¡å†…å®¹ï¼Œæ­¤æ—¶ç”¨

### __repr__()è¿”å›ç¨‹åºå¼€å‘è€…çœ‹åˆ°çš„å­—ç¬¦ä¸²

`__str__()`è¿”å›ç”¨æˆ·çœ‹åˆ°çš„å­—ç¬¦ä¸²ï¼Œè€Œ `__repr__()`è¿”å›ç¨‹åºå¼€å‘è€…çœ‹åˆ°çš„å­—ç¬¦ä¸²ï¼Œ

ä¹Ÿå°±æ˜¯è¯´ï¼Œ`__repr__()`æ˜¯ä¸ºè°ƒè¯•æœåŠ¡çš„

ç®€å†™

```python
def __str__(self):
        return 'xxx object (name=%s)' % self.name
__repr__ = __str__
```

### ___iter__()è¿”å›ä¸€ä¸ªè¿­ä»£å¯¹è±¡

éœ€è¦ç”¨åˆ°for inè¿­ä»£ï¼Œéœ€è¦è½¬åŒ–ä¸ºè¿­ä»£å¯¹è±¡

è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªè¿­ä»£å¯¹è±¡ï¼Œç„¶åï¼ŒPythonçš„forå¾ªç¯å°±ä¼šä¸æ–­è°ƒç”¨è¯¥è¿­ä»£å¯¹è±¡çš„ `__next__()`æ–¹æ³•æ‹¿åˆ°å¾ªç¯çš„ä¸‹ä¸€ä¸ªå€¼ï¼Œç›´åˆ°é‡åˆ° `StopIteration`é”™è¯¯æ—¶é€€å‡ºå¾ªç¯

ä¾‹å­ï¼š

```python
class Fib(object):
    def __init__(self):
        self.a,self.b=0,1
    def __iter__(self):
        return self
    def __next__(self):
        self.a,self.b=self.b,self.a+self.b
        if self.a>1000:
            raise  StopIteration
        return self.a
a=Fib()
for i in a:
    print(i)
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211103155046-1xs33i9.png)

### __**getitem**__()è¡¨ç°å¾—åƒlisté‚£æ ·æŒ‰ç…§ä¸‹æ ‡å–å‡ºå…ƒç´ 

```python
class Fib(object):
    def __init__(self):
        self.a,self.b=0,1
    def __iter__(self):
        return self
    def __next__(self):
        self.a,self.b=self.b,self.a+self.b
        if self.a>1000:
            raise  StopIteration
        return self.a
    def __getitem__(self, item):
        a,b=1,1
        for i in range(item):
            a,b=b,a+b
        return a
a=Fib()
print(a[3])

```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211103155122-fo5pjxz.png)

ä»¥ä¸Šæ˜¯ä¼ å…¥intï¼Œåˆ‡ç‰‡åŠŸèƒ½å®ç°ï¼Œisinstanceåˆ¤æ–­ç±»å‹

```python
class Fib(object):
    def __init__(self):
        self.a,self.b=0,1
    def __iter__(self):
        return self
    def __next__(self):
        self.a,self.b=self.b,self.a+self.b
        if self.a>1000:
            raise  StopIteration
        return self.a
    def __getitem__(self, item):
        if isinstance(item,int):
            a, b = 1, 1
            for i in range(item):
                a, b = b, a + b
            return a
        if isinstance(item,slice):
            start=item.start
            stop=item.stop
            if start is None:
                start=0
            a,b=1,1
            L=[]
            for x in range(stop):
                L.append(a)
                a,b=b,a+b
        return L

a=Fib()
print(a[3:12])
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211103155838-wdwjies.png)

### __getattr__()åŠ¨æ€è¿”å›ä¸€ä¸ªå±æ€§

è°ƒç”¨ç±»å±æ€§æˆ–æ–¹æ³•æ—¶ï¼Œå…ˆåœ¨__init__()è·å–åï¼Œå†ä»__getattr__()è·å–ï¼Œè·å–ä¸åˆ°æ‰æŠ¥é”™

### __call__()ç›´æ¥è°ƒç”¨å®ä¾‹æœ¬èº«

ä¸ç›´æ¥è°ƒç”¨è¿™ä¸ªå‡½æ•°ä¸€æ ·

```python
class People(object):
    def __init__(self,name):
        self.name=name
    def __call__(self, *args, **kwargs):
        print('i im call %s'% self.name)

p=People('ruan')
p()
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211104150832-d8wkn0m.png)

## ä½¿ç”¨æšä¸¾ç±»

æšä¸¾ç±»ï¼šåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä¸€ä¸ªç±»çš„ å®ä¾‹å¯¹è±¡ çš„**æ•°é‡**æ˜¯ **æœ‰é™ä¸”å›ºå®š** çš„ï¼Œå¦‚å­£èŠ‚ç±»ï¼Œå®ƒçš„å®ä¾‹å¯¹è±¡åªæœ‰æ˜¥ã€å¤ã€ç§‹ã€å†¬ã€‚ åœ¨Javaä¸­åƒè¿™ç§å¯¹è±¡å®ä¾‹æœ‰é™ä¸”å›ºå®šçš„ç±»è¢«ç§°ä¸ºæšä¸¾ç±»ï¼›è¿™æ ·çš„æšä¸¾ç±»å‹å®šä¹‰ä¸€ä¸ªclassç±»å‹ï¼Œç„¶åï¼Œæ¯ä¸ªå¸¸é‡éƒ½æ˜¯classçš„ä¸€ä¸ªå”¯ä¸€å®ä¾‹ã€‚Pythonæä¾›äº† `Enum`ç±»æ¥å®ç°è¿™ä¸ªåŠŸèƒ½ã€‚

```python
from enum import Enum
M=Enum('a',('sun1','sun2','sun3','sun4'))
print(M.sun1)
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211104151622-x7yqw9j.png)

è‡ªå®šä¹‰æšä¸¾ç±»

```python
from enum import Enum,unique
@unique
class Week(Enum):
    sun1=1
    sun2=2
    sun3=3
day2=Week.sun2
print(day2)
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211104152125-y6nm9vn.png)

```python
from enum import Enum,unique
@unique
class Gender(Enum):
    Male=0
    Female=1
class Student(object):
    def __init__(self,name,gender):
        self.name=name
        self.gender=gender

# æµ‹è¯•:
bart = Student('Bart', Gender.Male)
if bart.gender == Gender.Male:
    print('æµ‹è¯•é€šè¿‡!')
else:
    print('æµ‹è¯•å¤±è´¥!')
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211104152731-wmdziil.png)

## ä½¿ç”¨å…ƒç±»[åˆ›å»ºç±»]

å®ä¾‹å¯¹è±¡æ˜¯ç±»åˆ›å»º

ç±»æ˜¯å…ƒç±»åˆ›å»º

åˆ›å»ºç±»çš„æ–¹å¼

### æ–¹å¼ä¸€ï¼štypeï¼ˆï¼‰

`type()`å‡½æ•°æ—¢å¯ä»¥è¿”å›ä¸€ä¸ªå¯¹è±¡çš„ç±»å‹ï¼Œåˆå¯ä»¥åˆ›å»ºå‡ºæ–°çš„ç±»å‹ï¼Œæ¯”å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ `type()`å‡½æ•°åˆ›å»ºå‡º `Hello`ç±»

```python
from class1104 import *
h=Hello()
print(type(h))
print(type(Hello))
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211104153538-6iulybe.png)

```python
 Hello = type('Hello', (object,), dict(hello=fn))
```

è¦åˆ›å»ºä¸€ä¸ªclasså¯¹è±¡ï¼Œ`type()`å‡½æ•°ä¾æ¬¡ä¼ å…¥3ä¸ªå‚æ•°ï¼š

1. classçš„åç§°ï¼›
2. ç»§æ‰¿çš„çˆ¶ç±»é›†åˆï¼Œæ³¨æ„Pythonæ”¯æŒå¤šé‡ç»§æ‰¿ï¼Œå¦‚æœåªæœ‰ä¸€ä¸ªçˆ¶ç±»ï¼Œåˆ«å¿˜äº†tupleçš„å•å…ƒç´ å†™æ³•ï¼›
3. classçš„æ–¹æ³•åç§°ä¸å‡½æ•°ç»‘å®šï¼Œè¿™é‡Œæˆ‘ä»¬æŠŠå‡½æ•° `fn`ç»‘å®šåˆ°æ–¹æ³•å `hello`ä¸Š

### æ–¹å¼äºŒï¼šå…ƒç±»metaclass

å…ˆå®šä¹‰metaclassï¼Œç„¶ååˆ›å»ºç±»ã€‚

å…ˆå®šä¹‰ç±»ï¼Œç„¶ååˆ›å»ºå®ä¾‹ã€‚

~~metaclassæ˜¯Pythoné¢å‘å¯¹è±¡é‡Œæœ€éš¾ç†è§£ï¼Œä¹Ÿæ˜¯æœ€éš¾ä½¿ç”¨çš„é­”æœ¯ä»£ç ã€‚~~

æŒ‰ç…§é»˜è®¤ä¹ æƒ¯ï¼Œmetaclassçš„ç±»åæ€»æ˜¯ä»¥Metaclassç»“å°¾ï¼Œä»¥ä¾¿æ¸…æ¥šåœ°è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªmetaclass

```python
# metaclassé‡‡ç”¨typeåˆ›å»ºç±» ï¼Œmetaclassæ˜¯ç±»çš„æ¨¡æ¿ï¼Œæ‰€ä»¥å¿…é¡»ä»`type`ç±»å‹æ´¾ç”Ÿ
class ListMetaclass(type):
    def __new__(cls, name,bases,attrs):
        attrs['add']=lambda self, value:self.append(value)
        return type.__new__(cls,name,bases,attrs)

class MyList(list,metaclass=ListMetaclass):
    pass
mylist=MyList()
mylist.add(1)
print(mylist)
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211104155010-cbldtfp.png)

`__new__()`æ–¹æ³•æ¥æ”¶åˆ°çš„å‚æ•°ä¾æ¬¡æ˜¯ï¼š

1. å½“å‰å‡†å¤‡åˆ›å»ºçš„ç±»çš„å¯¹è±¡ï¼›
2. ç±»çš„åå­—ï¼›
3. ç±»ç»§æ‰¿çš„çˆ¶ç±»é›†åˆï¼›
4. ç±»çš„æ–¹æ³•é›†åˆ

### åº”ç”¨åœºæ™¯

ORMå…¨ç§°â€œObject Relational Mappingâ€ï¼Œå³å¯¹è±¡-å…³ç³»æ˜ å°„ï¼Œå°±æ˜¯æŠŠå…³ç³»æ•°æ®åº“çš„ä¸€è¡Œæ˜ å°„ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªç±»å¯¹åº”ä¸€ä¸ªè¡¨ï¼Œè¿™æ ·ï¼Œå†™ä»£ç æ›´ç®€å•ï¼Œä¸ç”¨ç›´æ¥æ“ä½œSQLè¯­å¥ã€‚

è¦ç¼–å†™ä¸€ä¸ªORMæ¡†æ¶ï¼Œæ‰€æœ‰çš„ç±»éƒ½åªèƒ½åŠ¨æ€å®šä¹‰ï¼Œå› ä¸ºåªæœ‰ä½¿ç”¨è€…æ‰èƒ½æ ¹æ®è¡¨çš„ç»“æ„å®šä¹‰å‡ºå¯¹åº”çš„ç±»æ¥ã€‚

## é”™è¯¯å¤„ç†try

```python
try:
    print('try...')
    r = 10 / 0
    print('result:', r)
except ValueError as e:
    print('ValueError:', e)
except ZeroDivisionError as e:
    print('ZeroDivisionError:', e)e)
finally:
    print('finally...')
print('END')
```

Pythonçš„é”™è¯¯å…¶å®ä¹Ÿæ˜¯classï¼Œæ‰€æœ‰çš„é”™è¯¯ç±»å‹éƒ½ç»§æ‰¿è‡ª `BaseException`

`UnicodeError`æ˜¯ `ValueError`çš„å­ç±»ğŸ¤¡

[Built-in Exceptions â€” Python 3.10.0 documentation](https://docs.python.org/3/library/exceptions.html#exception-hierarchy)

## è°ƒç”¨æ ˆ

è®©Pythonè§£é‡Šå™¨æ¥æ‰“å°å‡ºé”™è¯¯å †æ ˆ

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211104162726-fird23x.png)

## è®°å½•é”™è¯¯logging

å¯å°†loggingç”Ÿæˆä¸€ä¸ªtxtæ–¹ä¾¿æŸ¥çœ‹

```python
 try:
        xxx
    except Exception as e:
        logging.exception(e)
```

### æŠ›å‡ºé”™è¯¯raise

```python
 except ValueError as e:
        print('ValueError!')
        raise
```

åœ¨ `bar()`å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬æ˜æ˜å·²ç»æ•è·äº†é”™è¯¯ï¼Œä½†æ˜¯ï¼Œæ‰“å°ä¸€ä¸ª `ValueError!`åï¼ŒåˆæŠŠé”™è¯¯é€šè¿‡ `raise`è¯­å¥æŠ›å‡ºå»äº†ï¼Œè¿™ä¸æœ‰ç—…ä¹ˆï¼Ÿ

å…¶å®è¿™ç§é”™è¯¯å¤„ç†æ–¹å¼ä¸ä½†æ²¡ç—…ï¼Œè€Œä¸”ç›¸å½“å¸¸è§ã€‚æ•è·é”™è¯¯ç›®çš„åªæ˜¯è®°å½•ä¸€ä¸‹ï¼Œä¾¿äºåç»­è¿½è¸ªã€‚ä½†æ˜¯ï¼Œç”±äºå½“å‰å‡½æ•°ä¸çŸ¥é“åº”è¯¥æ€ä¹ˆå¤„ç†è¯¥é”™è¯¯ï¼Œæ‰€ä»¥ï¼Œæœ€æ°å½“çš„æ–¹å¼æ˜¯ç»§ç»­å¾€ä¸ŠæŠ›ï¼Œè®©é¡¶å±‚è°ƒç”¨è€…å»å¤„ç†ã€‚

## è°ƒè¯•æ–¹æ³•

### 1. printï¼ˆï¼‰

### 2. æ–­è¨€assert

```python
 assert n != 0, 'n is zero!'
```

`assert`çš„æ„æ€æ˜¯ï¼Œè¡¨è¾¾å¼ `n != 0`åº”è¯¥æ˜¯ `True`ï¼Œå¦åˆ™ï¼Œæ ¹æ®ç¨‹åºè¿è¡Œçš„é€»è¾‘ï¼Œåé¢çš„ä»£ç è‚¯å®šä¼šå‡ºé”™ã€‚

é‡‡ç”¨æ–­è¨€çš„å¥½å¤„ï¼š

å¯åŠ¨Pythonè§£é‡Šå™¨æ—¶å¯ä»¥ç”¨ `-O`å‚æ•°æ¥å…³é—­ `assert`ï¼š

```python
$ python -O err.py
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211104164034-js5sidi.png)

å…³é—­åï¼Œä½ å¯ä»¥æŠŠæ‰€æœ‰çš„ `assert`è¯­å¥å½“æˆ `pass`æ¥çœ‹

### 3. logging

```python
import logging
s = '0'
n = int(s)
logging.info('n = %d' % n)
print(10 / n)
```

### 4.pbdå•æ­¥æ‰§è¡Œ

å¯åŠ¨Pythonçš„è°ƒè¯•å™¨pdbï¼Œè®©ç¨‹åºä»¥å•æ­¥æ–¹å¼è¿è¡Œï¼Œå¯ä»¥éšæ—¶æŸ¥çœ‹è¿è¡ŒçŠ¶æ€ã€‚

```python
python -m pdb xxx.py
(Pbd) 1#æŸ¥çœ‹ç¬¬ä¸€è¡Œä»£ç ï¼Œå•æ­¥æ‰§è¡Œç¬¬ä¸€è¡Œä»£ç 
```

### 5. pdb.set_trace()

è¿™ä¸ªæ–¹æ³•ä¹Ÿæ˜¯ç”¨pdbï¼Œä½†æ˜¯ä¸éœ€è¦å•æ­¥æ‰§è¡Œï¼Œæˆ‘ä»¬åªéœ€è¦ `import pdb`ï¼Œç„¶åï¼Œåœ¨å¯èƒ½å‡ºé”™çš„åœ°æ–¹æ”¾ä¸€ä¸ª `pdb.set_trace()`ï¼Œå°±å¯ä»¥è®¾ç½®ä¸€ä¸ªæ–­ç‚¹ï¼š

```python
import pdb

s = '0'
n = int(s)
pdb.set_trace() # è¿è¡Œåˆ°è¿™é‡Œä¼šè‡ªåŠ¨æš‚åœ
print(10 / n)
```

å¯ä»¥ç”¨å‘½ä»¤ `p`æŸ¥çœ‹å˜é‡ï¼Œæˆ–è€…ç”¨å‘½ä»¤ `c`ç»§ç»­è¿è¡Œï¼š

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211104164634-anjnpuu.png)

### 6.IDEå·¥å…·

vscode,pycharm....

## å•å…ƒæµ‹è¯•

å•å…ƒæµ‹è¯•æ˜¯ç”¨æ¥å¯¹ä¸€ä¸ªæ¨¡å—ã€ä¸€ä¸ªå‡½æ•°æˆ–è€…ä¸€ä¸ªç±»æ¥è¿›è¡Œæ­£ç¡®æ€§æ£€éªŒçš„æµ‹è¯•å·¥ä½œã€‚

## æ–‡æ¡£æµ‹è¯•

doctestéå¸¸æœ‰ç”¨ï¼Œä¸ä½†å¯ä»¥ç”¨æ¥æµ‹è¯•ï¼Œè¿˜å¯ä»¥ç›´æ¥ä½œä¸ºç¤ºä¾‹ä»£ç ã€‚é€šè¿‡æŸäº›æ–‡æ¡£ç”Ÿæˆå·¥å…·ï¼Œå°±å¯ä»¥è‡ªåŠ¨æŠŠåŒ…å«doctestçš„æ³¨é‡Šæå–å‡ºæ¥ã€‚ç”¨æˆ·çœ‹æ–‡æ¡£çš„æ—¶å€™ï¼ŒåŒæ—¶ä¹Ÿçœ‹åˆ°äº†doctestã€‚

Pythonå†…ç½®çš„â€œæ–‡æ¡£æµ‹è¯•â€ï¼ˆdoctestï¼‰æ¨¡å—å¯ä»¥ç›´æ¥æå–æ³¨é‡Šä¸­çš„ä»£ç å¹¶æ‰§è¡Œæµ‹è¯•.

```python
class Dict(dict):
    """"
      è¿™ä¸€æ®µå°±æ˜¯æ–‡æ¡£æµ‹è¯•
       Simple dict but also support access as x.y style.

       >>> d1 = Dict()
       >>> d1['x'] = 100
       >>> d1.x
       100
       >>> d1.y = 200
       >>> d1['y']
       200
       >>> d2 = Dict(a=1, b=2, c='3')
       >>> d2.c
       '3'
       >>> d2['empty']
       Traceback (most recent call last):
           ...
       KeyError: 'empty'
       >>> d2.empty
       Traceback (most recent call last):
           ...
       AttributeError: 'Dict' object has no attribute 'empty'
       """

    def __init__(self, **kw):
        super(Dict, self).__init__(**kw)

    def __getattr__(self, key):
        try:
            return self[key]
        except KeyError:
            raise AttributeError(r"'Dict' object has no attribute '%s'" % key)

    def __setattr__(self, key, value):
        self[key] = value

if __name__ == '__main__':
    import doctest
    doctest.testmod()
```

å°†å…¶ä¸­ä¸€ä¸ªå‡½æ•°æ³¨é‡Šï¼Œè¿è¡Œè®©å®ƒæŠ¥é”™

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211108110503-erlvnk1.png)

## IOç¼–ç¨‹

ç¨‹åºå’Œè¿è¡Œæ—¶çš„æ•°æ®åœ¨å†…å­˜ä¸­é©»ç•™

æ¶‰åŠåˆ°æ•°æ®äº¤æ¢çš„åœ°æ–¹ï¼Œé€šå¸¸æ˜¯ç£ç›˜ã€ç½‘ç»œç­‰ï¼Œå°±éœ€è¦IOæ¥å£

é€šå¸¸ï¼Œç¨‹åºå®ŒæˆIOæ“ä½œä¼šæœ‰Inputå’ŒOutputä¸¤ä¸ªæ•°æ®æµ

Streamï¼ˆæµï¼‰æ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„æ¦‚å¿µï¼Œå¯ä»¥æŠŠæµæƒ³è±¡æˆä¸€ä¸ªæ°´ç®¡ï¼Œæ•°æ®å°±æ˜¯æ°´ç®¡é‡Œçš„æ°´ï¼Œä½†æ˜¯åªèƒ½å•å‘æµåŠ¨ã€‚

åœ¨IOç¼–ç¨‹ä¸­ï¼Œå°±å­˜åœ¨**é€Ÿåº¦ä¸¥é‡ä¸åŒ¹é…çš„é—®é¢˜**ã€‚ä¸¾ä¸ªä¾‹å­æ¥è¯´ï¼Œæ¯”å¦‚è¦æŠŠ100Mçš„æ•°æ®å†™å…¥ç£ç›˜ï¼ŒCPUè¾“å‡º100Mçš„æ•°æ®åªéœ€è¦0.01ç§’ï¼Œå¯æ˜¯ç£ç›˜è¦æ¥æ”¶è¿™100Mæ•°æ®å¯èƒ½éœ€è¦10ç§’ï¼Œæ€ä¹ˆåŠå‘¢ï¼Ÿæœ‰ä¸¤ç§åŠæ³•ï¼š

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211108111749-yobbduz.png)

## åŒæ­¥IO

ç¬¬ä¸€ç§æ˜¯CPUç­‰ç€ï¼Œä¹Ÿå°±æ˜¯ç¨‹åºæš‚åœæ‰§è¡Œåç»­ä»£ç ï¼Œç­‰100Mçš„æ•°æ®åœ¨10ç§’åå†™å…¥ç£ç›˜ï¼Œå†æ¥ç€å¾€ä¸‹æ‰§è¡Œï¼Œè¿™ç§æ¨¡å¼ç§°ä¸ºåŒæ­¥IOï¼›

## å¼‚æ­¥IO

å¦ä¸€ç§æ–¹æ³•æ˜¯CPUä¸ç­‰å¾…ï¼Œåªæ˜¯å‘Šè¯‰ç£ç›˜ï¼Œâ€œæ‚¨è€æ…¢æ…¢å†™ï¼Œä¸ç€æ€¥ï¼Œæˆ‘æ¥ç€å¹²åˆ«çš„äº‹å»äº†â€ï¼Œäºæ˜¯ï¼Œåç»­ä»£ç å¯ä»¥ç«‹åˆ»æ¥ç€æ‰§è¡Œï¼Œè¿™ç§æ¨¡å¼ç§°ä¸ºå¼‚æ­¥IOã€‚

å¦‚æœæ˜¯æœåŠ¡å‘˜è·‘è¿‡æ¥æ‰¾åˆ°ä½ ï¼Œè¿™æ˜¯å›è°ƒæ¨¡å¼ï¼Œå¦‚æœæœåŠ¡å‘˜å‘çŸ­ä¿¡é€šçŸ¥ä½ ï¼Œä½ å°±å¾—ä¸åœåœ°æ£€æŸ¥æ‰‹æœºï¼Œè¿™æ˜¯è½®è¯¢æ¨¡å¼ã€‚æ€»ä¹‹ï¼Œå¼‚æ­¥IOçš„å¤æ‚åº¦è¿œè¿œé«˜äºåŒæ­¥IOã€‚

## æ–‡ä»¶è¯»å†™

### è¯»æ–‡ä»¶openï¼ˆï¼‰

ä¼ å…¥æ–‡ä»¶åï¼Œæ ‡ç¤ºç¬¦

å‚æ•°ï¼š'rb' äºŒè¿›åˆ¶

encoding='gbk'å­—ç¬¦ç¼–ç 

```python
f = open('/Users/michael/test.txt', 'r')
```

### read()ä¸€æ¬¡è¯»å–å…¨éƒ¨å†…å®¹

```python
 f.read()
'Hello, world!'
```

### f.closeï¼ˆï¼‰å…³é—­æ–‡ä»¶

ç®€åŒ–æ–¹æ³•

### with open('filepath', 'r') as f:    print(f.read())

Pythonå¼•å…¥äº† `with`è¯­å¥æ¥è‡ªåŠ¨å¸®æˆ‘ä»¬è°ƒç”¨ `close()`æ–¹æ³•ï¼Œå¹¶ä¸”ä¸å¿…è°ƒç”¨ `f.close()`æ–¹æ³•

```python
with open('/path/to/file', 'r') as f:
    print(f.read())
```

å¦‚æœæ–‡ä»¶å¾ˆå°ï¼Œ`read()`ä¸€æ¬¡æ€§è¯»å–æœ€æ–¹ä¾¿ï¼›

å¦‚æœä¸èƒ½ç¡®å®šæ–‡ä»¶å¤§å°ï¼Œåå¤è°ƒç”¨ `read(size)`æ¯”è¾ƒä¿é™©ï¼›

å¦‚æœæ˜¯é…ç½®æ–‡ä»¶ï¼Œè°ƒç”¨ `readlines()`æœ€æ–¹ä¾¿

```python
for line in f.readlines():
    print(line.strip()) # æŠŠæœ«å°¾çš„'\n'åˆ æ‰
```

fileå’Œç¼“å­˜æ—¶=æ˜¯file-like Objectå¯¹è±¡ï¼Œä¸è¦æ±‚ä»ç‰¹å®šç±»ç»§æ‰¿ï¼Œåªè¦å†™ä¸ª `read()`æ–¹æ³•å°±è¡Œ

### f.write()å†™æ–‡ä»¶

```python
f = open('/Users/michael/test.txt', 'w')
f.write('Hello, world!')
f.close()
```

æˆ–

```python
with open('/Users/michael/test.txt', 'w') as f:
    f.write('Hello, world!')
```

ä½¿ç”¨ `with`è¯­å¥æ“ä½œæ–‡ä»¶IOæ˜¯ä¸ªå¥½ä¹ æƒ¯

## StringIOå’ŒBytesIO

### StringIO

StringIOé¡¾åæ€ä¹‰å°±æ˜¯åœ¨å†…å­˜ä¸­è¯»å†™str

```python
 from io import StringIO
 f = StringIO()
f.write('hello')
```

`getvalue()`æ–¹æ³•ç”¨äºè·å¾—å†™å…¥åçš„str

```python
 from io import StringIO
>>> f = StringIO('Hello!\nHi!\nGoodbye!')
>>> while True:
...     s = f.readline()
...     if s == '':
...         break
...     print(s.strip())
```

### BytesIO

æ“ä½œäºŒè¿›åˆ¶æ•°æ®ï¼Œå°±éœ€è¦ä½¿ç”¨BytesIO

```python
>>> from io import BytesIO
>>> f = BytesIO()
>>> f.write('ä¸­æ–‡'.encode('utf-8'))
6
>>> print(f.getvalue())
b'\xe4\xb8\xad\xe6\x96\x87'
```

## osæ¨¡å—

### os.nameæ“ä½œç³»ç»Ÿç±»å‹

### os.uname()è¯¦ç»†ç³»ç»Ÿä¿¡æ¯

### os.encironç¯å¢ƒå˜é‡

è¦è·å–æŸä¸ªç¯å¢ƒå˜é‡çš„å€¼ï¼Œå¯ä»¥è°ƒç”¨ `os.environ.get('key')`

```python
# æŸ¥çœ‹å½“å‰ç›®å½•çš„ç»å¯¹è·¯å¾„:
>>> os.path.abspath('.')
'/Users/michael'
# åœ¨æŸä¸ªç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæ–°ç›®å½•ï¼Œé¦–å…ˆæŠŠæ–°ç›®å½•çš„å®Œæ•´è·¯å¾„è¡¨ç¤ºå‡ºæ¥:
>>> os.path.join('/Users/michael', 'testdir')
'/Users/michael/testdir'
# ç„¶ååˆ›å»ºä¸€ä¸ªç›®å½•:
>>> os.mkdir('/Users/michael/testdir')
# åˆ æ‰ä¸€ä¸ªç›®å½•:
>>> os.rmdir('/Users/michael/testdir')
```

é€šè¿‡ `os.path.join()`å‡½æ•°ï¼Œè¿™æ ·å¯ä»¥æ­£ç¡®å¤„ç†ä¸åŒæ“ä½œç³»ç»Ÿçš„è·¯å¾„åˆ†éš”ç¬¦

### `os.path.join(`)è¿æ¥è·¯å¾„

### `os.path.split()`æ‹†åˆ†è·¯å¾„

### `os.path.splitext()` æ–‡ä»¶æ‰©å±•å

```python
# å¯¹æ–‡ä»¶é‡å‘½å:
>>> os.rename('test.txt', 'test.py')
# åˆ æ‰æ–‡ä»¶:
>>> os.remove('test.py')
```

`shutil`æ¨¡å—æä¾›äº† `copyfile()`çš„å‡½æ•°ï¼Œå®ƒä»¬å¯ä»¥çœ‹åšæ˜¯ `os`æ¨¡å—çš„è¡¥å……

æœ€åçœ‹çœ‹å¦‚ä½•åˆ©ç”¨Pythonçš„ç‰¹æ€§æ¥è¿‡æ»¤æ–‡ä»¶ã€‚æ¯”å¦‚æˆ‘ä»¬è¦åˆ—å‡ºå½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰ç›®å½•ï¼Œåªéœ€è¦ä¸€è¡Œä»£ç ï¼š

```
>>> [x for x in os.listdir('.') if os.path.isdir(x)]
['.lein', '.local', '.m2', '.npm', '.ssh', '.Trash', '.vim', 'Applications', 'Desktop', ...]
```

è¦åˆ—å‡ºæ‰€æœ‰çš„ `.py`æ–‡ä»¶ï¼Œä¹Ÿåªéœ€ä¸€è¡Œä»£ç ï¼š

```
>>> [x for x in os.listdir('.') if os.path.isfile(x) and os.path.splitext(x)[1]=='.py']
['apis.py', 'config.py', 'models.py', 'pymonitor.py', 'test_db.py', 'urls.py', 'wsgiapp.py']
```

## åºåˆ—åŒ–pickleæ¨¡å—

å˜é‡ä»å†…å­˜ä¸­å˜æˆå¯å­˜å‚¨æˆ–ä¼ è¾“çš„è¿‡ç¨‹ç§°ä¹‹ä¸ºåºåˆ—åŒ–,Pythonä¸­å«pickling

å˜é‡å†…å®¹ä»åºåˆ—åŒ–çš„å¯¹è±¡é‡æ–°è¯»åˆ°å†…å­˜é‡Œç§°ä¹‹ä¸ºååºåˆ—åŒ–ï¼Œå³unpickling

### pickle.dumps()å¯¹è±¡-ã€‹å­—èŠ‚[åºåˆ—åŒ–]

`pickle.dumps()`æ–¹æ³•æŠŠä»»æ„å¯¹è±¡åºåˆ—åŒ–æˆä¸€ä¸ª `bytes`

`pickle.dumps()`æ–¹æ³•æŠŠä»»æ„å¯¹è±¡åºåˆ—åŒ–æˆä¸€ä¸ª `bytes`,å¹¶å†™å…¥æ–‡ä»¶ä¸­

```python
import pickle
d=dict(name='ruan',age=34,freand='woman')
# print(pickle.dumps(d))
f = open('timezone.txt', 'wb')
pickle.dump(d, f)
f.close()
```

### pickle.load()å­—èŠ‚-ã€‹å¯¹è±¡ã€ååºåˆ—åŒ–ã€‘

```python
import pickle
f=open(r'C:\Users\yangs\PycharmProjects\python_study\fun\timezone.txt','rb')
d=pickle.load(f)
f.close()
print(d)
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211108132946-rtt8k8p.png)

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211108133035-b8gyft4.png)

## jsonæ¨¡å—

`json`æ¨¡å—çš„ `dumps()`å’Œ `loads()`å‡½æ•°æ˜¯å®šä¹‰å¾—éå¸¸å¥½çš„æ¥å£çš„å…¸èŒƒã€‚

#### json.dumps(pythonå¯¹è±¡)pythonå¯¹è±¡-ã€‹jsonå¯¹è±¡

`dumps()`æ–¹æ³•è¿”å›ä¸€ä¸ª `str`ï¼Œå†…å®¹å°±æ˜¯æ ‡å‡†çš„JSON

#### json.loads(jsonå¯¹è±¡)jsonå¯¹è±¡-ã€‹pythonå¯¹è±¡

`json.``dump`(obj,Â fp,Â *,Â skipkeys=False,Â ensure_ascii=True,Â check_circular=True,Â allow_nan=True,Â cls=None,Â indent=None,Â separators=None,Â default=None,Â sort_keys=False,Â **kw**)**

### ç±»å˜ä¸ºå­—å…¸å¹¶åºåˆ—åŒ–

```python
json.dumps(s, default=lambda obj: obj.__dict__)
```

## è¿›ç¨‹å’Œçº¿ç¨‹

Pythonçš„æ ‡å‡†åº“æä¾›äº†ä¸¤ä¸ªæ¨¡å—ï¼š`_thread`å’Œ `threading`ï¼Œ`_thread`æ˜¯ä½çº§æ¨¡å—ï¼Œ`threading`æ˜¯é«˜çº§æ¨¡å—

**çº¿ç¨‹æ˜¯æœ€å°çš„æ‰§è¡Œå•å…ƒï¼Œè€Œè¿›ç¨‹ç”±è‡³å°‘ä¸€ä¸ªçº¿ç¨‹ç»„æˆ**

æ“ä½œç³»ç»Ÿè½®æµè®©å„ä¸ªä»»åŠ¡äº¤æ›¿æ‰§è¡Œ

çœŸæ­£çš„å¹¶è¡Œæ‰§è¡Œå¤šä»»åŠ¡åªèƒ½åœ¨å¤šæ ¸CPUä¸Šå®ç°

å¯¹äºæ“ä½œç³»ç»Ÿæ¥è¯´ï¼Œä¸€ä¸ªä»»åŠ¡å°±æ˜¯ä¸€ä¸ªè¿›ç¨‹ï¼ˆProcessï¼‰ï¼Œæ¯”å¦‚æ‰“å¼€ä¸€ä¸ªæµè§ˆå™¨å°±æ˜¯å¯åŠ¨ä¸€ä¸ªæµè§ˆå™¨è¿›ç¨‹

Wordï¼Œå®ƒå¯ä»¥åŒæ—¶è¿›è¡Œæ‰“å­—ã€æ‹¼å†™æ£€æŸ¥ã€æ‰“å°ç­‰äº‹æƒ…ã€‚åœ¨ä¸€ä¸ªè¿›ç¨‹å†…éƒ¨ï¼Œè¦åŒæ—¶å¹²å¤šä»¶äº‹ï¼Œå°±éœ€è¦åŒæ—¶è¿è¡Œå¤šä¸ªâ€œå­ä»»åŠ¡â€ï¼Œæˆ‘ä»¬æŠŠè¿›ç¨‹å†…çš„è¿™äº›â€œå­ä»»åŠ¡â€ç§°ä¸ºçº¿ç¨‹ï¼ˆThreadï¼‰

* å¤šè¿›ç¨‹æ¨¡å¼ï¼›
* å¤šçº¿ç¨‹æ¨¡å¼ï¼›
* å¤šè¿›ç¨‹+å¤šçº¿ç¨‹æ¨¡å¼ã€‚

## å¤šè¿›ç¨‹

Unix/Linuxæ“ä½œç³»ç»Ÿæä¾›äº†ä¸€ä¸ª `fork()`ç³»ç»Ÿè°ƒç”¨ï¼Œæ™®é€šçš„å‡½æ•°è°ƒç”¨ï¼Œè°ƒç”¨ä¸€æ¬¡ï¼Œè¿”å›ä¸€æ¬¡ï¼Œä½†æ˜¯ `fork()`è°ƒç”¨ä¸€æ¬¡ï¼Œè¿”å›ä¸¤æ¬¡ï¼Œå› ä¸ºæ“ä½œç³»ç»Ÿè‡ªåŠ¨æŠŠå½“å‰è¿›ç¨‹ï¼ˆç§°ä¸ºçˆ¶è¿›ç¨‹ï¼‰å¤åˆ¶äº†ä¸€ä»½ï¼ˆç§°ä¸ºå­è¿›ç¨‹ï¼‰ï¼Œç„¶åï¼Œåˆ†åˆ«åœ¨çˆ¶è¿›ç¨‹å’Œå­è¿›ç¨‹å†…è¿”å›ã€‚

åˆ›å»ºå­è¿›ç¨‹

```python
from multiprocessing import Process
import os
def run_pro(name):
    print('å¼€å§‹è¿è¡Œå­è¿›ç¨‹%sï¼Œ%s'%(name,os.getpid()))

if __name__ == '__main__':
    print('å¼€å§‹è¿è¡Œè¿›ç¨‹%s' % (os.getpid()))
    p=Process(target=run_pro,args=('test',))
    p.start()
    p.join()
    print('end')
```

![image.png](https://b3logfile.com/siyuan/1629903953048/assets/image-20211111131512-zqm80if.png)

### å¯åŠ¨å¤§é‡å­è¿›ç¨‹pool

è¿›ç¨‹æ± 

```python
import time, threading

# æ–°çº¿ç¨‹æ‰§è¡Œçš„ä»£ç :
def loop():
    print('thread %s is running...' % threading.current_thread().name)
    n = 0
    while n < 5:
        n = n + 1
        print('thread %s >>> %s' % (threading.current_thread().name, n))
        time.sleep(1)
    print('thread %s ended.' % threading.current_thread().name)

print('thread %s is running...' % threading.current_thread().name)
t = threading.Thread(target=loop, name='LoopThread')
t.start()
t.join()
print('thread %s ended.' % threading.current_thread().name)
```

# æ¨¡å—æ€»ç»“

## doctestæ–‡æ¡£æµ‹è¯•

## os.pathæ–‡ä»¶è·¯å¾„

## pickleåºåˆ—åŒ–

## json
