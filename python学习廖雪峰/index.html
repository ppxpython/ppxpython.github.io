<!-- build time:Fri Dec 08 2023 14:39:34 GMT+0800 (中国标准时间) --><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="SUM" href="https://ppxpython.github.io/rss.xml"><link rel="alternate" type="application/atom+xml" title="SUM" href="https://ppxpython.github.io/atom.xml"><link rel="alternate" type="application/json" title="SUM" href="https://ppxpython.github.io/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><link rel="canonical" href="https://ppxpython.github.io/python%E5%AD%A6%E4%B9%A0%E5%BB%96%E9%9B%AA%E5%B3%B0/"><title>python学习廖雪峰 | sumya = SUM = 会者定离，一期一祈， 感谢在这与你相遇</title><meta name="generator" content="Hexo 5.2.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">python学习廖雪峰</h1><div class="meta"><span class="item" title="创建时间：2022-01-05 11:47:31"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2022-01-05T11:47:31+08:00">2022-01-05</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>79k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>1:12</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">sumya</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://tva4.sinaimg.cn/large/6833939bly1gipesrnqv3j20zk0m8ava.jpg"></li><li class="item" data-background-image="https://tva4.sinaimg.cn/large/6833939bly1gicmnywqgpj20zk0m8dwx.jpg"></li><li class="item" data-background-image="https://tva4.sinaimg.cn/large/6833939bly1giciusoyjnj219g0u0x56.jpg"></li><li class="item" data-background-image="https://tva4.sinaimg.cn/large/6833939bly1gipeuv80yoj20zk0m8kjl.jpg"></li><li class="item" data-background-image="https://tva4.sinaimg.cn/large/6833939bly1gipex2cdtbj20zk0m8x6p.jpg"></li><li class="item" data-background-image="https://tva4.sinaimg.cn/large/6833939bly1giclxxcb6rj20zk0m8b29.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://ppxpython.github.io/python%E5%AD%A6%E4%B9%A0%E5%BB%96%E9%9B%AA%E5%B3%B0/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="Yang shuping"><meta itemprop="description" content="会者定离，一期一祈， 感谢在这与你相遇, "></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="SUM"></span><div class="body md" itemprop="articleBody"><p><span class="exturl" data-url="aHR0cHM6Ly93d3cubGlhb3h1ZWZlbmcuY29tL3dpa2kvMTAxNjk1OTY2MzYwMjQwMC8xMDE3MTA0MzI0MDI4NDQ4">使用 dict 和 set - 廖雪峰的官方网站 (liaoxuefeng.com)</span></p><p>用于学习记录，后期便于复习，参考链接</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009102447-hmq8gs8.png" alt="image.png"></p><p>python file</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009102545-qqmxrgo.png" alt="image.png"></p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009102644-7ny4t2k.png" alt="image.png"></p><p>调用脚本时会先载入 pyhton 解释器，然后运行脚本</p><p>rpm：软件管理包</p><p>操作符优先级：<img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009104337-b66ot2k.png" alt="image.png"></p><p>条件判断：</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009104751-a27qfzb.png" alt="image.png"></p><p>Python 为我们提供了非常完善的基础代码库，覆盖了网络、文件、GUI、数据库、文本等大量内容，被形象地称作 “内置电池（batteries included）”。用 Python 开发，许多功能不必从零编写，直接使用现成的即可。</p><p>语言定位：</p><p>Python 的定位是 “优雅”、“明确”、“简单”</p><p>Python 是解释型语言</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211011172523-7k51l6e.png" alt="image.png"></p><h1 id="python"><a class="anchor" href="#python">#</a> python</h1><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009110719-7urayjl.png" alt="image.png"></p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009111236-gd1mcju.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009111303-l3bqira.png" alt="image.png"></p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009113303-w7qziw5.png" alt="image.png"></p><h2 id="数据类型"><a class="anchor" href="#数据类型">#</a> 数据类型</h2><h3 id="int-整型"><a class="anchor" href="#int-整型">#</a> int 整型</h3><p>long int 长整型</p><p>int 整型</p><h3 id="float-浮点型"><a class="anchor" href="#float-浮点型">#</a> float 浮点型</h3><p>浮点数也就是小数，之所以称为浮点数，是因为按照科学记数法表示时</p><p>双精度浮点型 e</p><p>浮点型</p><h3 id="string-字符串"><a class="anchor" href="#string-字符串">#</a> String 字符串</h3><p>字符串是以单引号 <code>'</code> 或双引号 <code>"</code> 括起来的任意文本</p><p>字符串是以 Unicode 编码</p><p>对于单个字符的编码，Python 提供了 <code>ord()</code> 函数获取字符的整数表示， <code>chr()</code> 函数把编码转换为对应的字符：</p><h3 id="bool布尔"><a class="anchor" href="#bool布尔">#</a> Bool 布尔</h3><p>True</p><p>Flase</p><h3 id="none-空值"><a class="anchor" href="#none-空值">#</a> None 空值</h3><p>None， <code>None</code> 不能理解为 <code>0</code> ，因为 <code>0</code> 是有意义的，</p><p>Null 无意义</p><p>.</p><p>&lt;iframe src="<span class="exturl" data-url="aHR0cDovLzEyNy4wLjAuMTo2ODA2L3dpZGdldHMvYnJ5dGhvbi1lZGl0b3I=">http://127.0.0.1:6806/widgets/brython-editor</span>" data-src="<span class="exturl" data-url="aHR0cDovLzEyNy4wLjAuMTo2ODA2L3dpZGdldHMvYnJ5dGhvbi1lZGl0b3I=">http://127.0.0.1:6806/widgets/brython-editor</span>" data-subtype="widget" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="width: 1341px; height: 276px;"&gt;&lt;/iframe&gt;</p><h3 id="变量"><a class="anchor" href="#变量">#</a> 变量</h3><p>变量的概念基本上和初中代数的方程变量是一致的，</p><p>变量不仅可以是数字，还可以是任意数据类型。</p><p>变量名必须是大小写英文、数字和 <code>_</code> 的组合，且不能用数字开头，字母或下划线开头</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token comment">#变量类型</span></pre></td></tr><tr><td data-num="2"></td><td><pre>a<span class="token operator">=</span><span class="token number">1</span></pre></td></tr><tr><td data-num="3"></td><td><pre>b<span class="token operator">=</span><span class="token string">'我是变量'</span></pre></td></tr><tr><td data-num="4"></td><td><pre>c<span class="token operator">=</span><span class="token boolean">True</span></pre></td></tr><tr><td data-num="5"></td><td><pre>d<span class="token operator">=</span><span class="token number">12.2e3</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">,</span>d<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token builtin">type</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token builtin">type</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token builtin">type</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009134601-1cuacaj.png" alt="image.png"></p><p>int a=1 静态语言 此时已经分配的 int 分区之后不能更改变量类型【不支持，Java】</p><p>a=3 动态语言，可以赋值成任意类型</p><h4 id="动态定义"><a class="anchor" href="#动态定义">#</a> 动态定义</h4><h4 id="静态定义"><a class="anchor" href="#静态定义">#</a> 静态定义</h4><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>a <span class="token operator">=</span> <span class="token string">'ABC'</span></pre></td></tr><tr><td data-num="2"></td><td><pre>b <span class="token operator">=</span> a</pre></td></tr><tr><td data-num="3"></td><td><pre>a <span class="token operator">=</span> <span class="token string">'XYZ'</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p>执行 <code>a = 'ABC'</code> ，解释器创建了字符串 <code>'ABC'</code> 和变量 <code>a</code> ，并把 <code>a</code> 指向 <code>'ABC'</code> ：</p><p><img data-src="https://www.liaoxuefeng.com/files/attachments/923791878255456/0" alt="py-var-code-1"></p><p>执行 <code>b = a</code> ，解释器创建了变量 <code>b</code> ，并把 <code>b</code> 指向 <code>a</code> 指向的字符串 <code>'ABC'</code> ：</p><p><img data-src="https://www.liaoxuefeng.com/files/attachments/923792058613440/0" alt="py-var-code-2"></p><p>执行 <code>a = 'XYZ'</code> ，解释器创建了字符串 'XYZ'，并把 <code>a</code> 的指向改为 <code>'XYZ'</code> ，但 <code>b</code> 并没有更改：</p><p><img data-src="https://www.liaoxuefeng.com/files/attachments/923792191637760/0" alt="py-var-code-3"></p><h3 id="常量"><a class="anchor" href="#常量">#</a> 常量</h3><p>所谓常量就是不能变的变量，通常用全部大写的变量名表示常量：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>PI <span class="token operator">=</span> <span class="token number">3.14159265359</span></pre></td></tr></tbody></table></figure><h2 id="list列表"><a class="anchor" href="#list列表">#</a> list 列表</h2><p>list 是一种有序的集合，可以随时添加和删除其中的元素。</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token builtin">list</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'b'</span><span class="token punctuation">,</span><span class="token string">'c'</span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009154856-r9s5yyu.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009154907-bofhvvd.png" alt="image.png"></p><h3 id="切分"><a class="anchor" href="#切分">#</a> 切分</h3><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009155126-p31z8um.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009155139-cpsoatf.png" alt="image.png"></p><h3 id="append追加"><a class="anchor" href="#append追加">#</a> append（）追加</h3><p>str.append('a')</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009155556-qrj4a63.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009155606-dxihfwr.png" alt="image.png"></p><h3 id="insert插入指定位置"><a class="anchor" href="#insert插入指定位置">#</a> insert 插入指定位置</h3><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009162557-186v350.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009162609-u00z8m3.png" alt="image.png"></p><h3 id="pop删除末尾元素"><a class="anchor" href="#pop删除末尾元素">#</a> pop（）删除末尾元素</h3><p>要删除指定位置的元素，用 <code>pop(i)</code> 方法，其中 <code>i</code> 是索引位置</p><p>替换元素直接赋值即可</p><p>列表可以嵌套</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>s <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'python'</span><span class="token punctuation">,</span> <span class="token string">'java'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'asp'</span><span class="token punctuation">,</span> <span class="token string">'php'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'scheme'</span><span class="token punctuation">]</span></pre></td></tr></tbody></table></figure><p>类型可以不同</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>L <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Apple'</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">]</span></pre></td></tr></tbody></table></figure><h3 id="切片"><a class="anchor" href="#切片">#</a> 切片</h3><p>list [:-1] 不包含最后一个元素</p><p>list [:] 全部列表</p><p>list [::] 全部列表</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012161203-1e12zsd.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012161212-0lrqjsm.png" alt="image.png"></p><p>前 10 个数，每两个取一个</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012161428-r6muafj.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012161441-eoc8y55.png" alt="image.png"></p><h4 id="列表生成"><a class="anchor" href="#列表生成">#</a> 列表生成</h4><p>list（range（1，11））生成 10 个数 1-10</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">[</span>m<span class="token operator">+</span>n <span class="token keyword">for</span> m <span class="token keyword">in</span> <span class="token string">'123'</span> <span class="token keyword">for</span> n <span class="token keyword">in</span> <span class="token string">'yza'</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>k<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">23</span><span class="token punctuation">,</span><span class="token number">45</span><span class="token punctuation">,</span><span class="token number">56</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">467</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">[</span>x <span class="token keyword">for</span> x <span class="token keyword">in</span> k <span class="token keyword">if</span> x<span class="token operator">==</span><span class="token number">1</span> <span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012190810-l1qtxiv.png" alt="image.png"></p><h2 id="tuple元组"><a class="anchor" href="#tuple元组">#</a> tuple 元组</h2><p>tuple 一旦初始化就不能修改</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009163638-1vpldee.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009163652-xkas3o0.png" alt="image.png"></p><p>但元组初始化后就不能进行更改了</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>b<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">#定义的不是 tuple，是 1 这个数！</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment"># 这是因为括号 () 既可以表示 tuple，又可以表示数学公式中的小括号，</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment"># 这就产生了歧义，因此，Python 规定，</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment"># 这种情况下，按小括号进行计算，计算结果自然是 1</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre>c<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009164221-xl1husx.png" alt="image.png"></p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009164244-780v78f.png" alt="image.png"></p><h2 id="dict字典"><a class="anchor" href="#dict字典">#</a> dict 字典</h2><p>其他语言叫 map，使用键 - 值（key-value）存储，具有极快的查找速度。dict 的 key 必须是<strong>不可变对象</strong>。key 计算位置的算法称为哈希算法（Hash）。</p><h3 id="定义"><a class="anchor" href="#定义">#</a> 定义</h3><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>d<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span><span class="token string">'ruanyifen'</span><span class="token punctuation">,</span><span class="token string">'age'</span><span class="token punctuation">:</span><span class="token number">60</span><span class="token punctuation">,</span><span class="token string">'happy'</span><span class="token punctuation">:</span><span class="token string">'write'</span><span class="token punctuation">}</span></pre></td></tr><tr><td data-num="2"></td><td><pre>d<span class="token punctuation">[</span><span class="token string">'add'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">'Im add'</span></pre></td></tr><tr><td data-num="3"></td><td><pre>d<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">'fix'</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012135019-kqmsrcg.png" alt="image.png"></p><h3 id="取value"><a class="anchor" href="#取value">#</a> 取 value</h3><h4 id="dictkey"><a class="anchor" href="#dictkey">#</a> dict['key']</h4><h4 id="key-in-dict"><a class="anchor" href="#key-in-dict">#</a> 'key' in dict</h4><h4 id="dictgetkey"><a class="anchor" href="#dictgetkey">#</a> dict.get('key')</h4><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>d<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'name'</span> <span class="token keyword">in</span> d<span class="token punctuation">)</span><span class="token comment">#方法一判断是否有这个主键在字典 d 中</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">#方法二 取</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012135119-sniqpw0.png" alt="image.png"></p><h3 id="dictpopkey删除一个key"><a class="anchor" href="#dictpopkey删除一个key">#</a> dict.pop ('key') 删除一个 key</h3><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012135429-m36ygpu.png" alt="image.png"></p><h3 id="dictkeys返回字典中所有key列表"><a class="anchor" href="#dictkeys返回字典中所有key列表">#</a> dict.keys 返回字典中所有 key 列表</h3><h3 id="dictupdate将a字典新keyvalue内容加入b字典中"><a class="anchor" href="#dictupdate将a字典新keyvalue内容加入b字典中">#</a> dict.update () 将 a 字典新 key，value 内容加入 b 字典中</h3><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token assign-left variable">dicta</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">"name"</span><span class="token builtin class-name">:</span><span class="token string">'ruan'</span>,<span class="token string">'age'</span>:20<span class="token punctuation">}</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token assign-left variable">dictb</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">"name"</span><span class="token builtin class-name">:</span><span class="token string">'ruan2'</span>,<span class="token string">'age'</span>:40,<span class="token string">'add'</span><span class="token builtin class-name">:</span><span class="token string">'w shi add'</span><span class="token punctuation">}</span></pre></td></tr><tr><td data-num="3"></td><td><pre>dictb.update<span class="token punctuation">(</span>dicta<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre>print<span class="token punctuation">(</span>dictb<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211101115242-qazr588.png" alt="image.png"></p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211101115348-bb0l147.png" alt="image.png"></p><h4 id="内建函数使用"><a class="anchor" href="#内建函数使用">#</a> 内建函数使用</h4><p>type（）</p><p>cmp（）</p><p>len（）</p><p>hash（）</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211101114202-rdvz2pt.png" alt="image.png"></p><p>内建 cmp（）函数比较两个 dict 时，先比较长度，后比值，输出 1 或 - 1</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211101114401-h4f1qop.png" alt="image.png"></p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211101114644-qffksiw.png" alt="image.png"></p><h3 id="dict特点"><a class="anchor" href="#dict特点">#</a> dict 特点</h3><p>dict 有以下几个特点：</p><ol><li>查找和插入的速度极快，不会随着 key 的增加而变慢；</li><li>需要占用大量的内存，内存浪费多。</li></ol><p>而 list 相反：</p><ol><li>查找和插入的时间随着元素的增加而增加；</li><li>占用空间小，浪费内存很少。<br><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211101115427-fu3s2zu.png" alt="image.png"><br><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211101115451-utxi9ct.png" alt="image.png"></li></ol><h2 id="set集合"><a class="anchor" href="#set集合">#</a> set 集合</h2><p>也是一组 key 的集合，但不存储 value。由于 key 不能重复，所以，在 set 中，没有重复的 key。</p><p>重复元素在 set 中自动被过滤</p><h3 id="定义-2"><a class="anchor" href="#定义-2">#</a> 定义</h3><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012135934-u0n1j77.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012135953-sqa88s1.png" alt="image.png"></p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140114-5azj1sa.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140127-ledkv1s.png" alt="image.png"></p><h3 id="setaddkey添加元素"><a class="anchor" href="#setaddkey添加元素">#</a> set.add ('key') 添加元素</h3><p>但重复元素不添加，自动去重</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140336-dwf2vgw.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140344-dzsshz2.png" alt="image.png"></p><h3 id="setremovekey删除元素"><a class="anchor" href="#setremovekey删除元素">#</a> set.remove ('key') 删除元素</h3><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140511-5f9cwm4.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140517-f6iolow.png" alt="image.png"></p><p>set 可以看成数学意义上的无序和无重复元素的集合，</p><p>因此，两个 set 可以做数学意义上的交集、并集等操作：</p><h3 id="两个set交集"><a class="anchor" href="#两个set交集">#</a> &amp; 两个 set 交集</h3><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140903-1l3we66.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140912-8itf6ek.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211022170721-h5hmgxr.png" alt="image.png"></p><h3 id="两个set并集"><a class="anchor" href="#两个set并集">#</a> | 两个 set 并集</h3><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140922-5bjlj5g.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140933-edbys90.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211022171729-b4k8xhd.png" alt="image.png"></p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211101115701-3dt5x4j.png" alt="image.png"></p><h3 id="map的显示"><a class="anchor" href="#map的显示">#</a> map () 的显示</h3><p>打印 map 对象可以看到 map 对象返回的是一个地址，不是真实的数据</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">map</span>对象<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">[</span>it <span class="token keyword">for</span> it <span class="token keyword">in</span> <span class="token builtin">map</span>对象<span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><h2 id="数据类型转换"><a class="anchor" href="#数据类型转换">#</a> 数据类型转换</h2><h3 id="int"><a class="anchor" href="#int">#</a> int（）</h3><h3 id="float"><a class="anchor" href="#float">#</a> float（）</h3><h3 id="str"><a class="anchor" href="#str">#</a> str（）</h3><h3 id="bool"><a class="anchor" href="#bool">#</a> bool（）</h3><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012142636-iblnu9y.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012142645-gb2u1fg.png" alt="image.png"></p><h2 id="条件判断"><a class="anchor" href="#条件判断">#</a> 条件判断</h2><h3 id="if"><a class="anchor" href="#if">#</a> if</h3><p>if else</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>a<span class="token operator">=</span><span class="token number">100</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">if</span> a<span class="token operator">&gt;=</span><span class="token number">0</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">else</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token operator">-</span>a<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009165335-jr8xtfq.png" alt="image.png"></p><p>if</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">if</span> <span class="token boolean">True</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'True'</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009165309-ymhiihv.png" alt="image.png"></p><p>if elif elif else</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>name<span class="token operator">=</span><span class="token string">'zhangsan'</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">if</span> name<span class="token operator">==</span><span class="token string">'zhangsan'</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'我是'</span><span class="token punctuation">,</span>name<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">elif</span> name<span class="token operator">==</span><span class="token string">'lisi'</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'我是'</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">elif</span> name<span class="token operator">==</span><span class="token string">'wangwu'</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'我是'</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">else</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'我谁的不是'</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009165511-spws02g.png" alt="image.png"></p><h2 id="input输入输出"><a class="anchor" href="#input输入输出">#</a> input（）输入输出</h2><p>input () 返回的数据类型是 str</p><p>print（）</p><h2 id="循环-迭代"><a class="anchor" href="#循环-迭代">#</a> 循环 迭代</h2><p>list，tuple，dict 都可循环</p><p>Python 的 <code>for</code> 循环本质上就是通过不断调用 <code>next()</code> 函数实现的，计算是惰性的</p><p>dict 循环按照 value 时：for value in dict.values</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">for</span> value <span class="token keyword">in</span> d<span class="token punctuation">.</span>values<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><h3 id="for-in"><a class="anchor" href="#for-in">#</a> for in</h3><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token builtin">sum</span><span class="token operator">=</span><span class="token number">0</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token builtin">sum</span><span class="token operator">=</span><span class="token builtin">sum</span><span class="token operator">+</span>i</pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">sum</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009172805-wrb6kr2.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009172805-wrb6kr2.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009172821-rdyglwd.png" alt="image.png"></p><h3 id="while"><a class="anchor" href="#while">#</a> while</h3><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>sum2<span class="token operator">=</span><span class="token number">0</span></pre></td></tr><tr><td data-num="2"></td><td><pre>k<span class="token operator">=</span><span class="token number">0</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">while</span><span class="token punctuation">(</span>k<span class="token operator">&lt;</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    sum2<span class="token operator">=</span>sum2<span class="token operator">+</span>k</pre></td></tr><tr><td data-num="5"></td><td><pre>    k<span class="token operator">=</span>k<span class="token operator">+</span><span class="token number">1</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>sum2<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009172821-rdyglwd.png" alt="image.png"></p><h3 id="break"><a class="anchor" href="#break">#</a> break</h3><p>如果要提前结束循环，可以用 <code>break</code> 语句</p><h3 id="continue"><a class="anchor" href="#continue">#</a> continue</h3><p>通过 <code>continue</code> 语句，跳过当前的这次循环，直接开始下一次循环</p><h2 id="生成器"><a class="anchor" href="#生成器">#</a> 生成器</h2><p>在 Python 中，这种一边循环一边计算的机制，称为生成器：generator。</p><p>包括生成器和带 <code>yield</code> 的 generator function。</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>g <span class="token operator">=</span> <span class="token punctuation">(</span>x <span class="token operator">*</span> x <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012191035-5wbqtm5.png" alt="image.png"></p><p>访问大文件</p><p>yield</p><h2 id="isinstance迭代器"><a class="anchor" href="#isinstance迭代器">#</a> isinstance（）迭代器</h2><p>直接作用于 <code>for</code> 循环的对象统称为可迭代对象，都是迭代器 Iterable</p><p><code>list</code> 、 <code>tuple</code> 、 <code>dict</code> 、 <code>set</code> 、 <code>str</code></p><p><code>list</code> 、 <code>dict</code> 、 <code>str</code> 虽然是 <code>Iterable</code> ，却不是 <code>Iterator</code> 。</p><p><code>list</code> 、 <code>dict</code> 、 <code>str</code> 等 <code>Iterable</code> 变成 <code>Iterator</code> 可以使用 **iter ()** 函数</p><p>以直接作用于 <code>for</code> 循环的数据类型有以下几种：</p><p>一类是集合数据类型，如 <code>list</code> 、 <code>tuple</code> 、 <code>dict</code> 、 <code>set</code> 、 <code>str</code> 等；</p><p>一类是 <code>generator</code> ，包括生成器和带 <code>yield</code> 的 generator function。</p><p>可以使用 **isinstance ()** 判断一个对象是否是 <code>Iterable</code> 对象__iter__：</p><p>迭代对象</p><p>判断是不是可以迭代，用 Iterable</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">from</span> collections <span class="token keyword">import</span> Iterable</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token builtin">isinstance</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> Iterable<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">True</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token builtin">isinstance</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Iterable<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">True</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token builtin">isinstance</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> Iterable<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">False</span></pre></td></tr></tbody></table></figure><p>判断是不是迭代器，用 Iterator</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">from</span> collections <span class="token keyword">import</span> Iterator</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token builtin">isinstance</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> Iterator<span class="token punctuation">)</span>  <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">False</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token builtin">isinstance</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Iterator<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">False</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token builtin">isinstance</span><span class="token punctuation">(</span> <span class="token punctuation">(</span>x <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Iterator<span class="token punctuation">)</span>  <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">True</span></pre></td></tr></tbody></table></figure><p>Python 中 list，truple，str，dict 这些都可以被迭代，但他们并不是迭代器，为什么：：因为和迭代器相比有一个很大的不同，list/truple/map/dict 这些数据的大小是确定的，也就是说有多少事可知的。但迭代器不是，迭代器不知道要执行多少次，所以可以理解为不知道有多少个元素，每调用一次 next ()，就会往下走一步，是惰性的。</p><h2 id="函数"><a class="anchor" href="#函数">#</a> 函数</h2><p>抽象</p><p>将函数抽象成一个函数名称，不看内部结构直接调用方法</p><p>返回类型 函数名（输入参数）：</p><p>函数体</p><h3 id="调用函数"><a class="anchor" href="#调用函数">#</a> 调用函数</h3><p>要调用一个函数，需要知道函数的名称和参数</p><p>绝对值 abs</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012142010-d503sa9.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012142024-cscdoiu.png" alt="image.png"></p><h3 id="定义函数"><a class="anchor" href="#定义函数">#</a> 定义函数</h3><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">myabs</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">if</span> x<span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        <span class="token keyword">return</span> x</pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">if</span> x<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token keyword">return</span> <span class="token operator">-</span>x</pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>myabs<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012144653-0ds9bc4.png" alt="image.png"></p><h3 id="空函数"><a class="anchor" href="#空函数">#</a> 空函数</h3><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">nufun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">pass</span></pre></td></tr></tbody></table></figure><p><code>pass</code> 可以用来作为占位符</p><h3 id="函数-参数检查"><a class="anchor" href="#函数-参数检查">#</a> 函数 参数检查</h3><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">my_init_abs</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">if</span> <span class="token keyword">not</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">,</span><span class="token builtin">float</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        <span class="token keyword">raise</span> TypeError<span class="token punctuation">(</span><span class="token string">'no no no'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">else</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token keyword">if</span> x<span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="6"></td><td><pre>            <span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token keyword">if</span> x<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="8"></td><td><pre>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token operator">-</span>x<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre>my_init_abs<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">90</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012144640-6xnfm9s.png" alt="image.png"></p><h3 id="可返回多个值函数"><a class="anchor" href="#可返回多个值函数">#</a> 可返回多个值，函数</h3><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">return_much</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    a<span class="token operator">=</span><span class="token string">'返回'</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    b<span class="token operator">=</span><span class="token string">'我也返回'</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    c<span class="token operator">=</span><span class="token string">'我也要返回'</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">return</span> a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c</pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>return_much<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>return_much<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012144955-kyvotx4.png" alt="image.png"></p><h3 id="函数参数"><a class="anchor" href="#函数参数">#</a> 函数参数</h3><p>*<strong>args 是可变参数，args 接收的是一个 tuple；</strong></p><p>**<strong>kw 是关键字参数，kw 接收的是一个 dict</strong>。</p><p><code>power(x)</code> 函数，参数 <code>x</code> 就是一个位置参数，可单个变量，list，set，tuple</p><p><code>power(*x)</code> 函数，可传入单个变量，list，set，tuple，可以传入任意个参数或 0 个参数</p><p><code>power(**kw)</code> 函数，字典 dict</p><p>可变参数允许你传入 0 个或任意个参数，这些可变参数在函数调用时自动组装为一个 tuple。</p><p>而关键字参数允许你传入 0 个或任意个含参数名的参数，这些关键字参数在函数内部自动组装为一个<strong> dict</strong>.</p><p><code>power(x, n)</code> ，用来计算 x<sup>n</sup></p><p><code>power(x, n)</code> 函数有两个参数： <code>x</code> 和 <code>n</code></p><p>默认参数，此时 age 和 city 为默认参数，可传值改变也可不变【不用传值】</p><p><code>power(L=None)</code> 函数有 None 这个不变对象，可用 list</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">enroll</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> gender<span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">,</span> city<span class="token operator">=</span><span class="token string">'Beijing'</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'name:'</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'gender:'</span><span class="token punctuation">,</span> gender<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'age:'</span><span class="token punctuation">,</span> age<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'city:'</span><span class="token punctuation">,</span> city<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012151610-9n1rxhq.png" alt="image.png"></p><h4 id="必选参数"><a class="anchor" href="#必选参数">#</a> 必选参数</h4><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">a1</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">return</span> x</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">(</span><span class="token number">12.1</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">(</span><span class="token string">'ruan'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">"key"</span><span class="token punctuation">:</span><span class="token string">"vleaue"</span><span class="token punctuation">,</span><span class="token string">'name'</span><span class="token punctuation">:</span><span class="token string">'ruan'</span><span class="token punctuation">,</span><span class="token string">'mun'</span><span class="token punctuation">:</span><span class="token number">23</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012153014-r27ykfm.png" alt="image.png"></p><h4 id="默认参数"><a class="anchor" href="#默认参数">#</a> = 默认参数</h4><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">a2</span><span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">return</span> x</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">(</span><span class="token number">12.1</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">(</span><span class="token string">'ruan'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">"key"</span><span class="token punctuation">:</span><span class="token string">"vleaue"</span><span class="token punctuation">,</span><span class="token string">'name'</span><span class="token punctuation">:</span><span class="token string">'ruan'</span><span class="token punctuation">,</span><span class="token string">'mun'</span><span class="token punctuation">:</span><span class="token number">23</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012153014-r27ykfm.png" alt="image.png"></p><h4 id="可变参数"><a class="anchor" href="#可变参数">#</a> * 可变参数</h4><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">a3</span><span class="token punctuation">(</span><span class="token operator">*</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">return</span> x</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">(</span><span class="token number">12.1</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">(</span><span class="token string">'ruan'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">"key"</span><span class="token punctuation">:</span><span class="token string">"vleaue"</span><span class="token punctuation">,</span><span class="token string">'name'</span><span class="token punctuation">:</span><span class="token string">'ruan'</span><span class="token punctuation">,</span><span class="token string">'mun'</span><span class="token punctuation">:</span><span class="token number">23</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012154346-2eahz0b.png" alt="image.png"></p><h4 id="关键字参数"><a class="anchor" href="#关键字参数">#</a> ** 关键字参数</h4><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">a3</span><span class="token punctuation">(</span><span class="token operator">**</span>kw<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">return</span> kw</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">(</span>kw<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">(</span>kw<span class="token operator">=</span><span class="token number">12.1</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">(</span>kw<span class="token operator">=</span><span class="token string">'ruan'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">(</span>kw<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">(</span>kw<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>a3<span class="token punctuation">(</span>kw<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">(</span>kw<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>a3<span class="token punctuation">(</span>kw<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">(</span>kw<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">"key"</span><span class="token punctuation">:</span><span class="token string">"vleaue"</span><span class="token punctuation">,</span><span class="token string">'name'</span><span class="token punctuation">:</span><span class="token string">'ruan'</span><span class="token punctuation">,</span><span class="token string">'mun'</span><span class="token punctuation">:</span><span class="token number">23</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012154409-tp9u2z5.png" alt="image.png"></p><h3 id="递归函数"><a class="anchor" href="#递归函数">#</a> 递归函数</h3><p>在函数内部，可以调用其他函数。</p><p>一个函数在<strong>内部调用自身本身</strong>，这个函数就是<strong>递归函数</strong>。</p><p>使用递归函数需要<strong>注意防止栈溢出</strong></p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token comment">#递归函数</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">def</span> <span class="token function">funmyself</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">if</span> x<span class="token operator">&gt;</span><span class="token number">1</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>        <span class="token keyword">return</span> x<span class="token operator">+</span>funmyself<span class="token punctuation">(</span>x<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">elif</span> x<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        <span class="token keyword">return</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>funmyself<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012155139-884p9as.png" alt="image.png"></p><p>解决栈溢出方法：</p><p><strong>尾递归</strong>优化，事实上尾递归和循环的效果是一样的</p><p>尾递归是指，在函数返回的时候，<strong>调用自身</strong>本身，并且，<strong>return 语句不能包含表达式</strong></p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token comment">#尾递归</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">def</span> <span class="token function">funmyself2</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">return</span>  funmyself2_it<span class="token punctuation">(</span>n<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">def</span>  <span class="token function">funmyself2_it</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span>pro<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">if</span> n<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token keyword">return</span> pro</pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">else</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="9"></td><td><pre>        <span class="token keyword">return</span> funmyself2<span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">+</span>n</pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>funmyself2<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012160333-tngb33o.png" alt="image.png"></p><p>此时 funmyself2 是尾递归函数</p><h2 id="转义字符"><a class="anchor" href="#转义字符">#</a> 转义字符 <code>\</code></h2><p>转义字符 <code>\</code> 可以转义很多字符，比如</p><p><code>\n</code> 表示换行，</p><p><code>\t</code> 表示制表符，</p><p>字符 <code>\</code> 本身也要转义，所以 <code>\\</code> 表示的字符就是 <code>\</code></p><p>Python 还允许用 <code>r''</code> 表示 <code>''</code> 内部的字符串默认不转义</p><h2 id="运算符and-or和not"><a class="anchor" href="#运算符and-or和not">#</a> 运算符 and、or 和 not</h2><p>运算优先级：not&gt;or&gt;and</p><h2 id="除法"><a class="anchor" href="#除法">#</a> 除法 ///</h2><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token operator">/</span><span class="token number">3</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token operator">//</span><span class="token number">3</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><h4 id="除法一-浮点数"><a class="anchor" href="#除法一-浮点数">#</a> 除法一 / 浮点数</h4><h4 id="除法二-地板除-整数"><a class="anchor" href="#除法二-地板除-整数">#</a> 除法二 // 地板除 整数</h4><p><code>/</code> 除法计算结果是浮点数，即使是两个整数恰好整除，结果也是浮点数：</p><p><code>//</code> ，称为地板除，两个整数的除法仍然是整数：</p><h2 id="取余"><a class="anchor" href="#取余">#</a> 取余 %</h2><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token operator">%</span><span class="token number">1</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token operator">%</span><span class="token number">3</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token operator">%</span><span class="token number">7</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">%</span><span class="token number">20</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">#如果 a% b a&gt;b 则结果为 a</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009141744-i2nxg58.png" alt="image.png"></p><h2 id="字符编码"><a class="anchor" href="#字符编码">#</a> 字符编码</h2><p><code>ASCII</code> 编码</p><p>8 个比特（bit）作为一个字节（byte）</p><p>一个字节能表示的最大的整数就是 255（二进制 11111111 = 十进制 255）</p><p>两个字节可以表示的最大整数是 <code>65535</code> ，4 个字节可以表示的最大整数是 <code>4294967295</code></p><p>大写字母 <code>A</code> 的编码是 <code>65</code> ，二进制的 <code>01000001</code> ，小写字母 <code>z</code> 的编码是 <code>122</code></p><p>Unicode 把所有语言都统一到一套编码里，这样就不会再有乱码问题</p><p>ASCII 编码是 1 个字节，而 Unicode 编码通常是 2 个字节</p><p><strong>ASCll 出现乱码问题引入 Unicode 编码存储空间多了一倍引入 UTF-8 编码</strong></p><p>utf-8：将<strong> Unicode 字符根据不同的数字大小编码成 1-6 个字节，常用的英文字母被编码成 1 个字节，汉字通常是 3 个字节，</strong></p><table><thead><tr><th>字符</th><th>ASCII</th><th>Unicode</th><th>UTF-8</th></tr></thead><tbody><tr><td>A</td><td>01000001</td><td>00000000 01000001</td><td>01000001</td></tr><tr><td>中</td><td>x</td><td>01001110 00101101</td><td>11100100 10111000 10101101</td></tr></tbody></table><p>在计算机内存中，统一使用 Unicode 编码，当需要保存到硬盘或者需要传输的时候，就转换为 UTF-8 编码。</p><p>用记事本编辑的时候，从文件读取的 UTF-8 字符被转换为 Unicode 字符到内存里，编辑完成后，保存的时候再把 Unicode 转换为 UTF-8 保存到文件</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009142650-uopgqob.png" alt="image.png"></p><p>浏览网页的时候，服务器会把动态生成的 Unicode 内容转换为 UTF-8 再传输到浏览器：</p><p><img data-src="https://www.liaoxuefeng.com/files/attachments/923923759189600/0" alt="web-utf-8"></p><h4 id="compile-字符串编译为字节代码"><a class="anchor" href="#compile-字符串编译为字节代码">#</a> compile () 字符串编译为字节代码</h4><h4 id="编码转化"><a class="anchor" href="#编码转化">#</a> 编码转化</h4><h4 id="orda-字母转字符"><a class="anchor" href="#orda-字母转字符">#</a> ord ('A') 字母转字符</h4><h4 id="chr65-字符转字母"><a class="anchor" href="#chr65-字符转字母">#</a> chr (65) 字符转字母</h4><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>a<span class="token operator">=</span><span class="token builtin">ord</span><span class="token punctuation">(</span><span class="token string">'A'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre>b<span class="token operator">=</span><span class="token builtin">chr</span><span class="token punctuation">(</span><span class="token number">65</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009144810-rm45nsz.png" alt="image.png"></p><h4 id="bstr转为字节类型bytes"><a class="anchor" href="#bstr转为字节类型bytes">#</a> b'str' 转为字节类型 bytes</h4><p><code>bytes</code> 类型的数据用带 <code>b</code> 前缀的单引号或双引号表示</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>x <span class="token operator">=</span> <span class="token string">b'ABC'</span></pre></td></tr></tbody></table></figure><p>要注意区分 <code>'ABC'</code> 和 <code>b'ABC'</code> ，前者是 <code>str</code> ，后者虽然内容显示得和前者一样，但 <code>bytes</code> 的每个字符都只占用一个字节。</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009145112-3dmegln.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009150224-kn57ioe.png" alt="image.png"></p><h4 id="strencodeascii-str-变为-bytes"><a class="anchor" href="#strencodeascii-str-变为-bytes">#</a> str.encode('ascii') <code>str</code> 变为 <code>bytes</code></h4><p><code>ASCII</code></p><p><code>UTF-8</code></p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009150118-wy36xea.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009150204-81jvyjd.png" alt="image.png"></p><h4 id="strdecodeutf-8bytes变为-str"><a class="anchor" href="#strdecodeutf-8bytes变为-str">#</a> str.decode('utf-8') <code>bytes</code> 变为 <code>str</code></h4><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span><span class="token string">b'abc'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">b'abc'</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span><span class="token string">b'abc'</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009150844-zvt6jkv.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009150746-31uq63m.png" alt="image.png"></p><p>len（str）计算字符数</p><p>函数计算的是 <code>str</code> 的字符数，如果换成 <code>bytes</code> ， <code>len()</code> 函数就计算字节数</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span><span class="token string">'abc'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span><span class="token string">b'abc'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span><span class="token string">'中'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span><span class="token string">'中'</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009151234-rhao6fv.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009151321-6k73tn8.png" alt="image.png"></p><h2 id="特殊注释"><a class="anchor" href="#特殊注释">#</a> 特殊注释</h2><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token comment">#!/usr/bin/env python3</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment"># -*- coding: utf-8 -*-</span></pre></td></tr></tbody></table></figure><p>第一行注释是为了告诉 Linux/OS X 系统，这是一个 Python 可执行程序，<strong>Windows 系统会忽略这个注释</strong>；</p><p>第二行注释是为了告诉 Python 解释器，<strong>按照 UTF-8 编码读取源代码</strong>，否则，你在源代码中写的中文输出可能会有乱码。</p><h2 id="占位符-格式化"><a class="anchor" href="#占位符-格式化">#</a> 占位符 格式化</h2><h3 id="占位符s-d-f"><a class="anchor" href="#占位符s-d-f">#</a> 占位符 % s % d % f</h3><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009152324-rmac8lz.png" alt="image.png"></p><p>格式化方式和 C 语言是一致</p><p><code>%</code> 运算符就是用来格式化字符串的。</p><p>在字符串内部，</p><p><code>%s</code> 表示用字符串替换，</p><p><code>%d</code> 表示用整数替换，</p><p>有几个 <code>%?</code> 占位符，后面就跟几个变量或者值，顺序要对应好。如果只有一个 <code>%?</code> ，括号可以省略</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009152708-zy7vi8x.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009152722-wq5flos.png" alt="image.png"></p><table><thead><tr><th>占位符</th><th>替换内容</th></tr></thead><tbody><tr><td>%d</td><td>整数</td></tr><tr><td>%f</td><td>浮点数</td></tr><tr><td>%s</td><td>字符串</td></tr><tr><td>%x</td><td>十六进制整数</td></tr></tbody></table><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009153422-r1s8f5z.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009153433-1uhb1w3.png" alt="image.png"></p><p>转义： <code>%%</code> 来表示一个 <code>%</code></p><h3 id="format格式化字符串"><a class="anchor" href="#format格式化字符串">#</a> format（）格式化字符串</h3><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009154141-a3v7tnj.png" alt="image.png"></p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009154153-o6u9yd7.png" alt="image.png"></p><h3 id="f-string-格式化字符串"><a class="anchor" href="#f-string-格式化字符串">#</a> f-string 格式化字符串</h3><p><code>{r}</code> 被变量 <code>r</code> 的值替换， <code>{s:.2f}</code> 被变量 <code>s</code> 的值替换，并且 <code>:</code> 后面的 <code>.2f</code> 指定了格式化参数（即保留两位小数），因此， <code>{s:.2f}</code> 的替换结果是 <code>19.62</code></p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009154406-qahm3f7.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009154432-m2z0xx5.png" alt="image.png"></p><h2 id="函数式编程"><a class="anchor" href="#函数式编程">#</a> 函数式编程</h2><p>函数是 Python 内建支持的一种封装，通过层层函数进行调用</p><p>#面向过程的程序设计 #：把复杂任务分解成简单的任务，这种分解可以称之为面向过程的程序设计</p><p>函数式和函数的区别：</p><p>对比例子：计算和计算器的区别</p><p>编程语言，就是越低级的语言，越贴近计算机，抽象程度低，执行效率高，比如 C 语言；越高级的语言，越贴近计算，抽象程度高，执行效率低，比如 Lisp 语言</p><p>Python 不是纯函数式编程语言</p><p>函数式编程就是一种抽象程度很高的编程范式，</p><p>纯粹的函数式编程语言编写的<strong>函数没有变量</strong>，因此，任意一个函数，<strong>只要输入是确定的，输出就是确定的</strong></p><h3 id="函数式编程特点"><a class="anchor" href="#函数式编程特点">#</a> 函数式编程特点：</h3><ol><li>纯函数式编程语言函数没有变量，输入输出确定</li><li>允许本身作为参数传入另一个函数，允许返回一个函数</li></ol><h2 id="高阶函数"><a class="anchor" href="#高阶函数">#</a> 高阶函数</h2><p>参数中有函数</p><p>高阶函数除了可以接受函数作为参数外，还可以把函数作为结果值返回</p><h3 id="变量可以指向函数"><a class="anchor" href="#变量可以指向函数">#</a> 变量可以指向函数</h3><p>a = 函数</p><p>求绝对值的函数 <code>abs()</code> 为例</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">abs</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">abs</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211019114343-h6egecv.png" alt="image.png"></p><p>abs（-10）是函数调用，abs 是函数本身</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>k<span class="token operator">=</span><span class="token builtin">abs</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">#函数本身也可以赋值给变量</span></pre></td></tr><tr><td data-num="4"></td><td><pre>h<span class="token operator">=</span><span class="token builtin">abs</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>h<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211019114757-z778j3c.png" alt="image.png"></p><p>结论：函数本身也可以赋值给变量，即：# 变量可以指向函数。#</p><h3 id="函数名也是变量"><a class="anchor" href="#函数名也是变量">#</a> 函数名也是变量</h3><p>#函数名 #：<strong>其实就是指向函数的变量</strong></p><p>a () 中 a 是指向函数 a（）的变量</p><h3 id="传入函数"><a class="anchor" href="#传入函数">#</a> 传入函数</h3><p>既然变量可以指向函数，函数的参数能接收变量，那么一个函数就可以接收另一个函数作为参数，这种函数就称之为高阶函数。</p><p>#高阶函数 #：<strong>一个函数就可以接收另一个函数作为参数</strong></p><p>b()</p><p>a(b)</p><p>x=a</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">return</span> <span class="token builtin">abs</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">def</span> <span class="token function">a</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>f<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">return</span> f<span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token operator">+</span>f<span class="token punctuation">(</span>b<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    a1<span class="token operator">=</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    a2<span class="token operator">=</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">(</span>a1<span class="token punctuation">,</span>a2<span class="token punctuation">,</span>f<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211019115835-q2esytb.png" alt="image.png"></p><p>此时函数 a 为高阶函数，需要调用 f 函数作为参数</p><h2 id="mapreduce-内建函数"><a class="anchor" href="#mapreduce-内建函数">#</a> map/reduce 内建函数</h2><p>内建了 <code>map()</code> 和 <code>reduce()</code> 函数 高阶函数</p><h3 id="map函数处理生成新iterator迭代器"><a class="anchor" href="#map函数处理生成新iterator迭代器">#</a> map（）函数处理生成新 Iterator 迭代器</h3><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211019131933-ut47b16.png" alt="image.png"> 两个参数，函数名【函数本身】，需要处理的编程式 iterator</p><p><code>&lt;br /&gt;</code> 创建一个迭代器，使用每个迭代器中的参数计算函数。当最短迭代用尽时停止。</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token builtin">map</span><span class="token punctuation">(</span>func<span class="token punctuation">,</span> <span class="token operator">*</span>iterables<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">map</span> <span class="token builtin">object</span></pre></td></tr></tbody></table></figure><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">return</span> x<span class="token operator">*</span>x</pre></td></tr><tr><td data-num="3"></td><td><pre>r<span class="token operator">=</span><span class="token builtin">map</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211019133740-kxaifya.png" alt="image.png"></p><p>运算规则抽象</p><h3 id="reduce函数作用在序列上"><a class="anchor" href="#reduce函数作用在序列上">#</a> reduce（）函数作用在序列上</h3><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211019142951-sxqvxp4.png" alt="image.png"></p><p>两个参数，函数名【函数本身】，需要处理的 #序列 #： sequence (序列) 是一组有顺序的元素的集合</p><p>序列基本样式 [下限：上限：步长]</p><p><code>reduce</code> 把结果继续和序列的下一个元素做累积计算</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token builtin">reduce</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span> <span class="token punctuation">[</span>x1<span class="token punctuation">,</span> x2<span class="token punctuation">,</span> x3<span class="token punctuation">,</span> x4<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=</span> f<span class="token punctuation">(</span>f<span class="token punctuation">(</span>f<span class="token punctuation">(</span>x1<span class="token punctuation">,</span> x2<span class="token punctuation">)</span><span class="token punctuation">,</span> x3<span class="token punctuation">)</span><span class="token punctuation">,</span> x4<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">from</span> functools <span class="token keyword">import</span> <span class="token builtin">reduce</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">def</span> <span class="token function">fn</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">return</span> x <span class="token operator">*</span> <span class="token number">10</span> <span class="token operator">+</span> y</pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">reduce</span><span class="token punctuation">(</span>fn<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token number">13579</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211019142820-4tlrn7x.png" alt="image.png"></p><h2 id="filter过滤序列"><a class="anchor" href="#filter过滤序列">#</a> filter () 过滤序列</h2><p>参数和 map（）相似</p><p><code>filter()</code> 也接收一个函数和一个序列</p><h2 id="sorted排序"><a class="anchor" href="#sorted排序">#</a> sorted（）排序</h2><p>高阶函数<img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211020184319-dzvm55o.png" alt="image.png"></p><p>参数：排序对象，key = 函数</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>sorted<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">36</span>, <span class="token number">5</span>, -12, <span class="token number">9</span>, -21<span class="token punctuation">]</span>, <span class="token assign-left variable">key</span><span class="token operator">=</span>abs<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p>排序的核心是比较两个元素的大小</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>print<span class="token punctuation">(</span>sorted<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1,2</span>,353,6,3,234,43,435<span class="token punctuation">]</span><span class="token punctuation">))</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211020184421-43dcfax.png" alt="image.png"></p><p>key 指定绝对值大小排序</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>print<span class="token punctuation">(</span>sorted<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1,2</span>,353,6,3,234,43,435,-242,-34,34,35<span class="token punctuation">]</span>,key<span class="token operator">=</span>abs<span class="token punctuation">))</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211020184629-q7j7zxx.png" alt="image.png"></p><h2 id="返回函数"><a class="anchor" href="#返回函数">#</a> 返回函数</h2><h3 id="函数作为返回值"><a class="anchor" href="#函数作为返回值">#</a> 函数作为返回值</h3><p>高阶函数除了可以接受函数作为参数外，还可以把函数作为结果值返回</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token comment"># 如果不需要立刻求和，而是在后面的代码中，</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment"># 根据需要再计算怎么办？可以不返回求和的结果，而是返回求和的函数：</span></pre></td></tr><tr><td data-num="3"></td><td><pre>def zary_sum<span class="token punctuation">(</span>a<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="4"></td><td><pre>    def sum<span class="token punctuation">(</span><span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token assign-left variable">sum1</span><span class="token operator">=</span><span class="token number">0</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        <span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> a:</pre></td></tr><tr><td data-num="7"></td><td><pre>            <span class="token assign-left variable">sum1</span><span class="token operator">=</span>sum1+i</pre></td></tr><tr><td data-num="8"></td><td><pre>        <span class="token builtin class-name">return</span> sum1</pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token builtin class-name">return</span> <span class="token function">sum</span></pre></td></tr><tr><td data-num="10"></td><td><pre>print<span class="token punctuation">(</span>type<span class="token punctuation">(</span>zary_sum<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1,2</span>,3,4<span class="token punctuation">]</span><span class="token punctuation">))</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token assign-left variable">f</span><span class="token operator">=</span>zary_sum<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1,2</span>,3,4<span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre>print<span class="token punctuation">(</span>f<span class="token punctuation">(</span><span class="token punctuation">))</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211021100621-oot0dd6.png" alt="image.png"></p><p>调用返回函数时，每次调用都会新生成一个函数</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211021100747-ho01xzp.png" alt="image.png"></p><h2 id="闭包"><a class="anchor" href="#闭包">#</a> 闭包</h2><p>当一个函数的返回值是另外一个函数，</p><p>而返回的那个函数如果调用了其父函数内部的其它变量，如果 <strong>返回的这个函数在外部被执行，就产生了闭包</strong> 。</p><p><strong>返回函数中，返回的函数调用父函数的内部变量</strong></p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211021100950-gl5liu8.png" alt="image.png"></p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token comment">#返回函数</span></pre></td></tr><tr><td data-num="2"></td><td><pre>def count<span class="token punctuation">(</span><span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token assign-left variable">fs</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">1,4</span><span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="5"></td><td><pre>        def f<span class="token punctuation">(</span><span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="6"></td><td><pre>            <span class="token builtin class-name">return</span> i*i</pre></td></tr><tr><td data-num="7"></td><td><pre>        fs.append<span class="token punctuation">(</span>f<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token builtin class-name">return</span> fs</pre></td></tr><tr><td data-num="9"></td><td><pre>f1,f2,f3<span class="token operator">=</span>count<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre>print<span class="token punctuation">(</span>f1<span class="token punctuation">(</span><span class="token punctuation">)</span>,f2<span class="token punctuation">(</span><span class="token punctuation">)</span>,f3<span class="token punctuation">(</span><span class="token punctuation">))</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211021103727-wtd0kdc.png" alt="image.png"></p><p>返回一个函数时，牢记该函数并未执行，返回函数中不要引用任何可能会变化的变量。</p><h2 id="lambda匿名函数"><a class="anchor" href="#lambda匿名函数">#</a> lambda（）匿名函数</h2><p>lambda 关键字 函数参数：函数表达式</p><p>传入函数时，有些时候，不需要显式地定义函数</p><p>Python 对匿名函数的支持有限，只有一些简单的情况下可以使用匿名函数。</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>lambda x:x*x</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">#等价于</span></pre></td></tr><tr><td data-num="3"></td><td><pre>def f<span class="token punctuation">(</span>x<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="4"></td><td><pre>   <span class="token builtin class-name">return</span> x*x</pre></td></tr></tbody></table></figure><p>关键字 <code>lambda</code> 表示匿名函数，冒号前面的 <code>x</code> 表示函数参数，只能一个表达式</p><p>不用写 <code>return</code> ，返回值就是该表达式的结果。</p><p>匿名函数也是一个函数对象</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token assign-left variable">f</span><span class="token operator">=</span>lamdba x:x*x</pre></td></tr></tbody></table></figure><p>判断奇数函数</p><p>原函数：</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>def is_odd<span class="token punctuation">(</span>n<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token builtin class-name">return</span> n % <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre>L <span class="token operator">=</span> list<span class="token punctuation">(</span>filter<span class="token punctuation">(</span>is_odd, range<span class="token punctuation">(</span><span class="token number">1</span>, <span class="token number">20</span><span class="token punctuation">))</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p>采用匿名函数修改</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token assign-left variable">l</span><span class="token operator">=</span>list<span class="token punctuation">(</span>filter<span class="token punctuation">(</span>lambda x:x%2<span class="token operator">==</span><span class="token number">1</span>,range<span class="token punctuation">(</span><span class="token number">1,20</span><span class="token punctuation">))</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre>print<span class="token punctuation">(</span>l<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211021143505-wbqh836.png" alt="image.png"></p><h2 id="装饰器-decorator"><a class="anchor" href="#装饰器-decorator">#</a> 装饰器 Decorator</h2><h3 id="本质上装饰器就是一个返回函数的高阶函数"><a class="anchor" href="#本质上装饰器就是一个返回函数的高阶函数">#</a> 本质上，装饰器就是一个返回函数的高阶函数</h3><p>@log 等价于</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>now <span class="token operator">=</span> log<span class="token punctuation">(</span>now<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p>由于函数也是一个对象，而且函数对象可以被赋值给变量，</p><p>所以，通过变量也能调用该函数</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211022101101-ncgju0i.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211022101111-tgdwt0q.png" alt="image.png"></p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>def log<span class="token punctuation">(</span>func<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="2"></td><td><pre>    def wrapper<span class="token punctuation">(</span>*args,**kwargs<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="3"></td><td><pre>        print<span class="token punctuation">(</span><span class="token string">'call %s'</span>% func.__name__<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre>        <span class="token builtin class-name">return</span> func<span class="token punctuation">(</span>*args,**kwargs<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token builtin class-name">return</span> wrapper<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">#func 为参数所以是高阶函数</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">#return 函数所以是返回函数，</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token comment">#没有调用父函数中参数，所以不是闭包</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211022110733-h27x1zh.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211022110058-zyo7xpn.png" alt="image.png"></p><p>场景注意：</p><p>无 @装饰器时函数不调用，需要参数才调用</p><p>当 @时会直接调用装饰器定义函数然后执行函数，不用调用函数</p><p>三层时，传入参数</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>def log1<span class="token punctuation">(</span>text<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="2"></td><td><pre>    def decorator<span class="token punctuation">(</span>func<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="3"></td><td><pre>        def wapper<span class="token punctuation">(</span>*args,**kw<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="4"></td><td><pre>            print<span class="token punctuation">(</span><span class="token string">'%s %s'</span>%<span class="token punctuation">(</span>text,func.__name__<span class="token punctuation">))</span></pre></td></tr><tr><td data-num="5"></td><td><pre>            <span class="token builtin class-name">return</span> func<span class="token punctuation">(</span>*args,**kw<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        <span class="token builtin class-name">return</span> wapper</pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token builtin class-name">return</span> decorator</pre></td></tr><tr><td data-num="8"></td><td><pre>@log1<span class="token punctuation">(</span><span class="token string">'ruan'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre>def now3<span class="token punctuation">(</span><span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="10"></td><td><pre>    print<span class="token punctuation">(</span><span class="token string">"hhh"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre>now3<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p>相当于在返回高阶函数上还有一个函数，所以返回时应该还要调用一次</p><h2 id="wraps-常用装饰器"><a class="anchor" href="#wraps-常用装饰器">#</a> @wraps 常用装饰器</h2><p>当装饰器是个闭包时，装饰器调用变量会改变增加 @wraps 后装饰器内的变量不变</p><p>装饰器在装饰一个函数时，，原函数就成了一个新的函数，也</p><p>就是说其属性会发生变化，所以为了 <strong>不改变原函数的属性</strong>，</p><p>我们会调用 functools 中的 wraps 装饰器来保证原函数的属性不变</p><h4 id="不加wraps时"><a class="anchor" href="#不加wraps时">#</a> 不加 wraps 时</h4><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>@wraps<span class="token punctuation">(</span>func<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>from functools <span class="token function">import</span> wraps</pre></td></tr><tr><td data-num="2"></td><td><pre>def wrap<span class="token punctuation">(</span>func<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="3"></td><td><pre>   </pre></td></tr><tr><td data-num="4"></td><td><pre>    def b<span class="token punctuation">(</span><span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token string">'b'</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        print<span class="token punctuation">(</span><span class="token string">'decorator:'</span>,b.__name__<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        print<span class="token punctuation">(</span><span class="token string">'funname'</span>,func.__name__<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre>        func<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token builtin class-name">return</span> b</pre></td></tr><tr><td data-num="10"></td><td><pre>@wrap</pre></td></tr><tr><td data-num="11"></td><td><pre>def a<span class="token punctuation">(</span><span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token string">'a'</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    print<span class="token punctuation">(</span><span class="token string">'name'</span>,a.__name__<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre>a<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211022115935-kgsz7b2.png" alt="image.png"></p><p>加装饰器 wraps 时</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>from functools <span class="token function">import</span> wraps</pre></td></tr><tr><td data-num="2"></td><td><pre>def wrap<span class="token punctuation">(</span>func<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="3"></td><td><pre>    @wraps<span class="token punctuation">(</span>func<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    def b<span class="token punctuation">(</span><span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token string">'b'</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        print<span class="token punctuation">(</span><span class="token string">'decorator:'</span>,b.__name__<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        print<span class="token punctuation">(</span><span class="token string">'funname'</span>,func.__name__<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre>        func<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token builtin class-name">return</span> b</pre></td></tr><tr><td data-num="10"></td><td><pre>@wrap</pre></td></tr><tr><td data-num="11"></td><td><pre>def a<span class="token punctuation">(</span><span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token string">'a'</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    print<span class="token punctuation">(</span><span class="token string">'name'</span>,a.__name__<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre>a<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211022115950-2j3i7ht.png" alt="image.png"></p><p>闭包的概念：调用父函数中的变量的函数，为了保证数据安全。变量作用域只在函数内部，可在闭包中操作数据。</p><p>装饰器返回为什么是函数名（函数内存地址）而不直接执行函数？</p><p>当有参数传入时，可直接与调用的函数中的值传入参数执行。</p><p>（）是运算符 f () 与 f.<strong>call</strong> () 等价：将 f 对象变成变成可调用的对象</p><h2 id="偏函数functools模块"><a class="anchor" href="#偏函数functools模块">#</a> 偏函数（functools 模块）</h2><p>属于 functools 模块</p><h3 id="作用"><a class="anchor" href="#作用">#</a> 作用：</h3><p>通过设定参数的默认值，降低函数调用的参数</p><p><code>int()</code> 函数默认按十进制转换</p><p>print(int('100',base=8))</p><p>经常调用于是重写一个函数 int2</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>def int2<span class="token punctuation">(</span>x, <span class="token assign-left variable">base</span><span class="token operator">=</span><span class="token number">8</span><span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="2"></td><td><pre>    print<span class="token punctuation">(</span>int<span class="token punctuation">(</span>x, base<span class="token punctuation">))</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token builtin class-name">return</span> int<span class="token punctuation">(</span>x, base<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre>print<span class="token punctuation">(</span>int2<span class="token punctuation">(</span><span class="token string">'2334'</span><span class="token punctuation">))</span></pre></td></tr></tbody></table></figure><p>采用偏函数</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token function">import</span> functools</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token assign-left variable">int3</span><span class="token operator">=</span>functools.partial<span class="token punctuation">(</span>int,base<span class="token operator">=</span><span class="token number">8</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>print<span class="token punctuation">(</span>int3<span class="token punctuation">(</span><span class="token string">'46'</span><span class="token punctuation">))</span></pre></td></tr><tr><td data-num="4"></td><td><pre>print<span class="token punctuation">(</span>int<span class="token punctuation">(</span><span class="token punctuation">))</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211028103219-mdbldp6.png" alt="image.png"></p><p>functools.partial 的作用是将函数的特定参数固定住（设定为默认值）</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211028103645-7po81oc.png" alt="image.png"></p><p>创建偏函数的时候也可以接收，函数对象，*args，**kw</p><h2 id="模块"><a class="anchor" href="#模块">#</a> 模块</h2><p>python 包：作用区分相同名称的模块</p><p>模块相当于一个 py 文件</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211028105055-2xv0z2i.png" alt="image.png"></p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211028105133-tkzgcka.png" alt="image.png"></p><h2 id="作用域"><a class="anchor" href="#作用域">#</a> 作用域</h2><p>仅仅在模块内部使用。在 Python 中，是通过 <code>_</code> 前缀来实现的。</p><h3 id="pubilc公开"><a class="anchor" href="#pubilc公开">#</a> pubilc 公开</h3><p>正常的函数和变量名是公开的（public）</p><h3 id="private非公开___"><a class="anchor" href="#private非公开___">#</a> private 非公开_,__</h3><p>_xxx 和__xxx 这样的函数或变量就是非公开的（private）</p><h2 id="安装第三方模块pip"><a class="anchor" href="#安装第三方模块pip">#</a> 安装第三方模块 pip</h2><p>pip install 模块名</p><h3 id="模块搜索路径"><a class="anchor" href="#模块搜索路径">#</a> 模块搜索路径</h3><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token function">import</span> sys</pre></td></tr><tr><td data-num="2"></td><td><pre>print<span class="token punctuation">(</span>sys.path<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p>两种方式：</p><ol><li>添加搜索路径<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token function">import</span> sys</pre></td></tr><tr><td data-num="2"></td><td><pre>sys.path.append<span class="token punctuation">(</span><span class="token string">'/Users/michael/my_py_scripts'</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure></li><li>设置环境变量</li></ol><p>第二种方法是设置环境变量 <code>PYTHONPATH</code></p><h2 id="面向对象编程"><a class="anchor" href="#面向对象编程">#</a> 面向对象编程</h2><p>面向对象编程 ——Object Oriented Programming，简称 OOP，是一种程序设计思想</p><p>对象作为程序的基本单元，</p><p>一个对象包含了数据和操作数据的函数</p><p>数据封装、继承和多态是面向对象的三大特点</p><h2 id="类和实例"><a class="anchor" href="#类和实例">#</a> 类和实例</h2><p>面向对象最重要的概念就是类（Class）和实例（Instance）</p><p>类是抽象出来的模板</p><p>实例是根据类创建出的对象，每个对象可能有属性和方法</p><p>定义类是通过 <code>class</code> 关键字，类名通常是大写开头的单词</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>class Student<span class="token punctuation">(</span>object<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="2"></td><td><pre>    pass</pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211028113324-1nch2o5.png" alt="image.png"></p><p>！！！在类中定义函数有一点不同，定义佛如方法第一个参数永远是实例变量本身 self</p><p>仍然可以用默认参数、可变参数、关键字参数和命名关键字参数</p><h2 id="数据封装"><a class="anchor" href="#数据封装">#</a> 数据封装</h2><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>class Student<span class="token punctuation">(</span>object<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="2"></td><td><pre>    def __init__<span class="token punctuation">(</span>self, name, score<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="3"></td><td><pre>        self.name <span class="token operator">=</span> name</pre></td></tr><tr><td data-num="4"></td><td><pre>        self.score <span class="token operator">=</span> score</pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre>    def get_grade<span class="token punctuation">(</span>self<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token keyword">if</span> self.score <span class="token operator">&gt;</span><span class="token operator">=</span> <span class="token number">90</span>:</pre></td></tr><tr><td data-num="8"></td><td><pre>            <span class="token builtin class-name">return</span> <span class="token string">'A'</span></pre></td></tr><tr><td data-num="9"></td><td><pre>        <span class="token keyword">elif</span> self.score <span class="token operator">&gt;</span><span class="token operator">=</span> <span class="token number">60</span>:</pre></td></tr><tr><td data-num="10"></td><td><pre>            <span class="token builtin class-name">return</span> <span class="token string">'B'</span></pre></td></tr><tr><td data-num="11"></td><td><pre>        else:</pre></td></tr><tr><td data-num="12"></td><td><pre>            <span class="token builtin class-name">return</span> <span class="token string">'C'</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211028113713-vhhvowi.png" alt="image.png"></p><h2 id="访问限制"><a class="anchor" href="#访问限制">#</a> 访问限制</h2><h3 id="作用-2"><a class="anchor" href="#作用-2">#</a> 作用：</h3><p><strong>确保了外部代码不能随意修改对象内部的状态</strong></p><p>实例的变量名如果以 <code>__</code> 开头，就变成了一个私有变量（private）</p><p>外部无法访问_name</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>class Student<span class="token punctuation">(</span>object<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="2"></td><td><pre>    def __init__<span class="token punctuation">(</span>self,name,age<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="3"></td><td><pre>        self._name<span class="token operator">=</span>name</pre></td></tr><tr><td data-num="4"></td><td><pre>        self.age<span class="token operator">=</span>age</pre></td></tr><tr><td data-num="5"></td><td><pre>    def print_name<span class="token punctuation">(</span>self<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="6"></td><td><pre>        print<span class="token punctuation">(</span>self._name<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token builtin class-name">return</span> self.age,self._name</pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token assign-left variable">a</span><span class="token operator">=</span>Student<span class="token punctuation">(</span><span class="token string">'ruan'</span>,23<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token assign-left variable">h</span><span class="token operator">=</span>a.print_name<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre>print<span class="token punctuation">(</span>h<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211028114732-awu2k2m.png" alt="image.png"></p><p>若是要获取，修改变量增加 get，set 方式即可</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>class Student<span class="token punctuation">(</span>object<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="2"></td><td><pre>    def __init__<span class="token punctuation">(</span>self,name,age<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="3"></td><td><pre>        self._name<span class="token operator">=</span>name</pre></td></tr><tr><td data-num="4"></td><td><pre>        self.age<span class="token operator">=</span>age </pre></td></tr><tr><td data-num="5"></td><td><pre>    def get_name<span class="token punctuation">(</span>self<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="6"></td><td><pre>        <span class="token builtin class-name">return</span> self.name</pre></td></tr><tr><td data-num="7"></td><td><pre>    def set_name<span class="token punctuation">(</span>self,name<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="8"></td><td><pre>        self._name<span class="token operator">=</span>name</pre></td></tr></tbody></table></figure><p>Python 本身没有任何机制阻止你干坏事，一切全靠自觉。</p><p>类外部无法访问</p><h2 id="继承和多态"><a class="anchor" href="#继承和多态">#</a> 继承和多态</h2><h3 id="继承"><a class="anchor" href="#继承">#</a> 继承</h3><h4 id="多态"><a class="anchor" href="#多态">#</a> 多态</h4><p>在继承关系中，如果一个实例的数据类型是某个子类，那它的数据类型也可以被看做是父类。</p><p>比如：动物是父类，狗和鱼是子类；鱼是鱼类，鱼是动物都成立。</p><p>判断一个变量是否是某个类型可以用 <code>isinstance()</code> 判断</p><h3 id="鸭子类型"><a class="anchor" href="#鸭子类型">#</a> 鸭子类型</h3><p>并不要求严格的继承体，一个对象只要 “看起来像鸭子，走起路来像鸭子”，那它就可以被看做是鸭子。</p><h2 id="获取对象信息"><a class="anchor" href="#获取对象信息">#</a> 获取对象信息</h2><h3 id="type判断对象类型"><a class="anchor" href="#type判断对象类型">#</a> type（）判断对象类型</h3><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211102183643-gwgjuho.png" alt="image.png"></p><h3 id="isinstance对于继承关系判断class的类型"><a class="anchor" href="#isinstance对于继承关系判断class的类型">#</a> isinstance () 对于继承关系，判断 class 的类型</h3><h3 id="dir获取对象的所有属性和方法"><a class="anchor" href="#dir获取对象的所有属性和方法">#</a> dir（）获取对象的所有属性和方法</h3><h4 id="len对象长度"><a class="anchor" href="#len对象长度">#</a> len（）对象长度</h4><h4 id="lower返回小写的字符串"><a class="anchor" href="#lower返回小写的字符串">#</a> lower（）返回小写的字符串</h4><h4 id="getattr获取属性a"><a class="anchor" href="#getattr获取属性a">#</a> getattr（）获取属性 a</h4><h4 id="setattr设置属性a"><a class="anchor" href="#setattr设置属性a">#</a> setattr（）设置属性 a</h4><h4 id="hasattrobja判断是否有属性a"><a class="anchor" href="#hasattrobja判断是否有属性a">#</a> hasattr（obj,'a'）判断是否有属性 a</h4><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>getattr<span class="token punctuation">(</span>obj, <span class="token string">'z'</span>, <span class="token number">404</span><span class="token punctuation">)</span> <span class="token comment"># 获取属性 'z'，如果不存在，返回默认值 404</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token number">404</span></pre></td></tr></tbody></table></figure><h2 id="实例属性和类属性"><a class="anchor" href="#实例属性和类属性">#</a> 实例属性和类属性</h2><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211102184822-83nvy25.png" alt="image.png"></p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>class Student<span class="token punctuation">(</span>object<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token string">'ruan'</span></pre></td></tr><tr><td data-num="3"></td><td><pre>   </pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token assign-left variable">h</span><span class="token operator">=</span>Student<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre>h.name<span class="token operator">=</span><span class="token string">'hhh'</span></pre></td></tr></tbody></table></figure><p>类中的 name 是类属性，</p><p>创建 h 类对象即实例后赋值的是实例属性 name，但由于实例对象的优先级比类属性高，会屏蔽类中的 name 属性，即 h.name 的值为 hhh</p><h3 id="总结"><a class="anchor" href="#总结">#</a> 总结：</h3><ol><li>实例属性属于各个实例所有，互不干扰；</li><li>类属性属于类所有，所有实例共享一个属性；</li><li>不要对实例属性和类属性使用相同的名字，否则将产生难以发现的错误</li></ol><h1 id="面向对象高级编程"><a class="anchor" href="#面向对象高级编程">#</a> 面向对象高级编程</h1><p>数据封装、继承和多态只是面向对象程序设计中最基础的 3 个概念</p><p>多重继承、定制类、元类</p><h1 id="_slots_使用"><a class="anchor" href="#_slots_使用">#</a> _slots_使用</h1><p>可以给创建的实例绑定属性和方法</p><p>给一个实例绑定的方法对另外一个实例对象是不起作用的</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>class A:</pre></td></tr><tr><td data-num="2"></td><td><pre>    def run<span class="token punctuation">(</span>self<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="3"></td><td><pre>        print<span class="token punctuation">(</span><span class="token string">"i im ferther runing...."</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token assign-left variable">sun1</span><span class="token operator">=</span>A<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">#给实例 sun1 设置 name 属性</span></pre></td></tr><tr><td data-num="6"></td><td><pre>sun1.name<span class="token operator">=</span><span class="token string">'i im name'</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">#创建实例对象 2</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token assign-left variable">sun2</span><span class="token operator">=</span>A<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment">#实例对象 sun1 的属性和 sun2 无关，即 sun2 没有 name 属性</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token comment">#给实例 sun1 绑定方法，方法和属性同理</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment">#定义方法</span></pre></td></tr><tr><td data-num="12"></td><td><pre>def setAll<span class="token punctuation">(</span>self,num<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="13"></td><td><pre>    print<span class="token punctuation">(</span>num<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre>sun1.newfun<span class="token operator">=</span>MethodType<span class="token punctuation">(</span>setAll, sun1<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="15"></td><td><pre>sun1.newfun<span class="token punctuation">(</span><span class="token number">37</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token comment">#若所有实例都需要绑定方法则给类绑定方法</span></pre></td></tr><tr><td data-num="17"></td><td><pre>A.setAll<span class="token operator">=</span>setAll</pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token comment">#给类绑定方法后，所有创建的实例的均可调用</span></pre></td></tr></tbody></table></figure><pre><code>def set_age(self, age): # 定义一个函数作为实例方法
...     self.age = age
...
&gt;&gt;&gt; from types import MethodType
&gt;&gt;&gt; s.set_age = MethodType(set_age, s) # 给实例绑定一个方法
&gt;&gt;&gt; s.set_age(25) # 调用实例方法
</code></pre><h2 id="限制实例属性定义一个特殊的-__slots__变量"><a class="anchor" href="#限制实例属性定义一个特殊的-__slots__变量">#</a> 限制实例属性，定义一个特殊的 <code>__slots__</code> 变量</h2><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    __slots__ <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">)</span> <span class="token comment"># 用 tuple 定义允许绑定的属性名称</span></pre></td></tr><tr><td data-num="3"></td><td><pre>s<span class="token operator">=</span>Student<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre>s<span class="token punctuation">.</span>name<span class="token operator">=</span><span class="token string">'ruan'</span></pre></td></tr><tr><td data-num="5"></td><td><pre>s<span class="token punctuation">.</span>firstname<span class="token operator">=</span><span class="token string">'i im firstname'</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">#输出的时候 firstname 的属性会报错，</span></pre></td></tr><tr><td data-num="7"></td><td><pre>Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="8"></td><td><pre>  File <span class="token string">"&lt;stdin&gt;"</span><span class="token punctuation">,</span> line <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">&gt;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>AttributeError<span class="token punctuation">:</span> <span class="token string">'Student'</span> <span class="token builtin">object</span> has no attribute <span class="token string">'firstaname'</span></pre></td></tr></tbody></table></figure><h3 id="注意"><a class="anchor" href="#注意">#</a> 注意：</h3><p>_slots_使用时要注意，定义的属性只在当前的类的实例中，对于继承的子类是不起作用的</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">People</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    __slots__ <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span><span class="token string">'age'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'i im run people......'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Teacher</span><span class="token punctuation">(</span>People<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">say</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="8"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'i im teacher....'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre>t<span class="token operator">=</span>Teacher<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre>t<span class="token punctuation">.</span>tall<span class="token operator">=</span><span class="token string">'shouhua'</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>tall<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre>p<span class="token operator">=</span>People<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="13"></td><td><pre>p<span class="token punctuation">.</span>tall<span class="token punctuation">(</span><span class="token string">'shouhuap'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>tall<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211103140608-7ezqmvs.png" alt="image.png"></p><p>只限制父类 People 的属性，而子类 Teacher 中不限制</p><h2 id="property"><a class="anchor" href="#property">#</a> @property</h2><p>在绑定属性时，如果我们直接把属性暴露出去，导致可以随意更改。通过 get，set 来获取更改属性值。</p><p>在 python 中直接调用装饰器将一个方法变成属性调用</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token decorator annotation punctuation">@property</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token comment">#使用 get 方法是调用装饰器 @peoperty，</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token comment"># 同时自动创建了另一个装饰器 @属性.setter</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">score</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>score</pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token decorator annotation punctuation">@score<span class="token punctuation">.</span>setter</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">score</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>value<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="9"></td><td><pre>        self<span class="token punctuation">.</span>_score<span class="token operator">=</span>value</pre></td></tr></tbody></table></figure><h2 id="总结-2"><a class="anchor" href="#总结-2">#</a> 总结：</h2><p>- 权限限制只对类对象实际起作用，想要达到方法和属性强制访问权限，需要使用 @property 装饰器进行 get，set 方法</p><p>属性名与方法名一定要区分开，不然会进入死循环（self._age，def age ()）<br>实例化的对象使用属性时，不是调用属性（meizi._age），而是用的方法名（meizi.age）<br>@property 其实就是实现了 getter 功能； @xxx.setter 实现的是 setter 功能；还有一个 @xxx.deleter 实现删除功能<br>定义方法的时候 @property 必须在 @xxx.setter 之前，且二者修饰的方法名相同（age ()）<br>如果只实现了 @property（而没有实现 @xxx.setter），那么该属性为 只读属性</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token comment">#请利用 @property 给一个 Screen 对象加上 width 和 height 属性，</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment"># 以及一个只读属性 resolution：</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Screen</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    __slots__ <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">'_width'</span><span class="token punctuation">,</span><span class="token string">'_height'</span><span class="token punctuation">,</span><span class="token string">'_resolution'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token decorator annotation punctuation">@property</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">width</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="8"></td><td><pre>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>_width</pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token comment"># 方法名称和实例变量均为 width:</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token decorator annotation punctuation">@width<span class="token punctuation">.</span>setter</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">width</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>widthValue<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="13"></td><td><pre>        self<span class="token punctuation">.</span>_width<span class="token operator">=</span>widthValue</pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token decorator annotation punctuation">@property</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">height</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="17"></td><td><pre>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>_height</pre></td></tr><tr><td data-num="18"></td><td><pre></pre></td></tr><tr><td data-num="19"></td><td><pre>    <span class="token decorator annotation punctuation">@width<span class="token punctuation">.</span>setter</span></pre></td></tr><tr><td data-num="20"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">height</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="21"></td><td><pre>        self<span class="token punctuation">.</span>_height <span class="token operator">=</span> height</pre></td></tr><tr><td data-num="22"></td><td><pre></pre></td></tr><tr><td data-num="23"></td><td><pre>    <span class="token decorator annotation punctuation">@property</span></pre></td></tr><tr><td data-num="24"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">resolution</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="25"></td><td><pre>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>_width <span class="token operator">*</span> self<span class="token punctuation">.</span>_height</pre></td></tr><tr><td data-num="26"></td><td><pre>s<span class="token operator">=</span>Screen<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="27"></td><td><pre>s<span class="token punctuation">.</span>width<span class="token operator">=</span><span class="token number">23</span></pre></td></tr><tr><td data-num="28"></td><td><pre>s<span class="token punctuation">.</span>height<span class="token operator">=</span><span class="token number">12</span></pre></td></tr><tr><td data-num="29"></td><td><pre></pre></td></tr><tr><td data-num="30"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>resolution<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211103150647-dge6za2.png" alt="image.png"></p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>s<span class="token punctuation">.</span>score <span class="token operator">=</span> <span class="token number">60</span> <span class="token comment"># OK，实际转化为 s.set_score (60)</span></pre></td></tr><tr><td data-num="2"></td><td><pre>s<span class="token punctuation">.</span>score <span class="token comment"># OK，实际转化为 s.get_score ()</span></pre></td></tr></tbody></table></figure><p>要特别注意：属性的方法名不要和实例变量重名。例如，以下的代码是错误的：</p><pre><code>class Student(object):

    # 方法名称和实例变量均为birth:
    @property
    def birth(self):
        return self.birth
</code></pre><p>出现递归调用错误</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211103151046-5z499ew.png" alt="image.png"></p><p>之前的例子中 width 和_width 不同所以可以运行</p><h2 id="多重继承"><a class="anchor" href="#多重继承">#</a> 多重继承</h2><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211103151750-dvwa7qb.png" alt="image.png"></p><p>python 可以支持多继承，即一个子类可以继承多个父类；但 java 是单继承，只能有一个父类</p><p>Tercher（Name，study，teach）即 Teacher 可以继承多个父类</p><h3 id="mixin"><a class="anchor" href="#mixin">#</a> MixIn</h3><p>在设计类的继承关系时，通常，主线都是单一继承下来的，例如， <code>Teacher</code> 继承自 Name。但是，如果需要 “混入” 额外的功能，通过多重继承就可以实现，比如 Teacher 除了继承自 <code>Name</code> 外，再同时继承 <code>Teach</code> 。这种设计通常称之为 MixIn</p><p>Python 自带了 <code>TCPServer</code> 和 <code>UDPServer</code> 这两类网络服务，而要同时服务多个用户就必须使用多进程或多线程模型，这两种模型由 <code>ForkingMixIn</code> 和 <code>ThreadingMixIn</code> 提供。</p><h3 id="多继承"><a class="anchor" href="#多继承">#</a> 多继承</h3><p>多重继承这个名词一般用来形容继承链条可以很长，多个层次。</p><h3 id="多重继承-2"><a class="anchor" href="#多重继承-2">#</a> 多重继承</h3><p><strong>多继承则指一个类可以有多个基类，相反则是单继承</strong>。任何面向对象编程语言都支持多重继承，但像 java 这种只能通过接口实现有限程度的多继承</p><p>问：多继承 如果多个类有共同得方法名 怎么区分是调得哪个类🤡</p><p>答：调用该方法的时候，会调用第一顺位继承父类的方法</p><h3 id="总结-3"><a class="anchor" href="#总结-3">#</a> 总结：</h3><ol><li>Python 允许使用多重继承，因此，MixIn 就是一种常见的设计</li><li>只允许单一继承的语言（如 Java）不能使用 MixIn 的设计</li></ol><h2 id="定制类"><a class="anchor" href="#定制类">#</a> 定制类</h2><p>Python 的 class 中还有__xxx__有特殊用途的函数，可以帮助我们定制类</p><h3 id="str回用户看到的字符串"><a class="anchor" href="#str回用户看到的字符串">#</a> <strong>str</strong> () 回用户看到的字符串</h3><p>将对象 <code>&lt;__main__.Student object at 0x109afb190&gt;</code> 变成易读的数据</p><p>只在调用 print 时会调用__str__，交互界面时还是现实上方不易读的对象内容，此时用</p><h3 id="repr返回程序开发者看到的字符串"><a class="anchor" href="#repr返回程序开发者看到的字符串">#</a> <strong>repr</strong> () 返回程序开发者看到的字符串</h3><p><code>__str__()</code> 返回用户看到的字符串，而 <code>__repr__()</code> 返回程序开发者看到的字符串，</p><p>也就是说， <code>__repr__()</code> 是为调试服务的</p><p>简写</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">__str__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>        <span class="token keyword">return</span> <span class="token string">'xxx object (name=%s)'</span> <span class="token operator">%</span> self<span class="token punctuation">.</span>name</pre></td></tr><tr><td data-num="3"></td><td><pre>__repr__ <span class="token operator">=</span> __str__</pre></td></tr></tbody></table></figure><h3 id="_iter返回一个迭代对象"><a class="anchor" href="#_iter返回一个迭代对象">#</a> _<strong>iter</strong> () 返回一个迭代对象</h3><p>需要用到 for in 迭代，需要转化为迭代对象</p><p>该方法返回一个迭代对象，然后，Python 的 for 循环就会不断调用该迭代对象的 <code>__next__()</code> 方法拿到循环的下一个值，直到遇到 <code>StopIteration</code> 错误时退出循环</p><p>例子：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Fib</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        self<span class="token punctuation">.</span>a<span class="token punctuation">,</span>self<span class="token punctuation">.</span>b<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__iter__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token keyword">return</span> self</pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__next__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        self<span class="token punctuation">.</span>a<span class="token punctuation">,</span>self<span class="token punctuation">.</span>b<span class="token operator">=</span>self<span class="token punctuation">.</span>b<span class="token punctuation">,</span>self<span class="token punctuation">.</span>a<span class="token operator">+</span>self<span class="token punctuation">.</span>b</pre></td></tr><tr><td data-num="8"></td><td><pre>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>a<span class="token operator">&gt;</span><span class="token number">1000</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="9"></td><td><pre>            <span class="token keyword">raise</span>  StopIteration</pre></td></tr><tr><td data-num="10"></td><td><pre>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>a</pre></td></tr><tr><td data-num="11"></td><td><pre>a<span class="token operator">=</span>Fib<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">for</span> i <span class="token keyword">in</span> a<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211103155046-1xs33i9.png" alt="image.png"></p><h3 id="getitem表现得像list那样按照下标取出元素"><a class="anchor" href="#getitem表现得像list那样按照下标取出元素">#</a> <strong><strong>getitem</strong></strong> () 表现得像 list 那样按照下标取出元素</h3><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Fib</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        self<span class="token punctuation">.</span>a<span class="token punctuation">,</span>self<span class="token punctuation">.</span>b<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__iter__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token keyword">return</span> self</pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__next__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        self<span class="token punctuation">.</span>a<span class="token punctuation">,</span>self<span class="token punctuation">.</span>b<span class="token operator">=</span>self<span class="token punctuation">.</span>b<span class="token punctuation">,</span>self<span class="token punctuation">.</span>a<span class="token operator">+</span>self<span class="token punctuation">.</span>b</pre></td></tr><tr><td data-num="8"></td><td><pre>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>a<span class="token operator">&gt;</span><span class="token number">1000</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="9"></td><td><pre>            <span class="token keyword">raise</span>  StopIteration</pre></td></tr><tr><td data-num="10"></td><td><pre>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>a</pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__getitem__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="12"></td><td><pre>        a<span class="token punctuation">,</span>b<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span></pre></td></tr><tr><td data-num="13"></td><td><pre>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="14"></td><td><pre>            a<span class="token punctuation">,</span>b<span class="token operator">=</span>b<span class="token punctuation">,</span>a<span class="token operator">+</span>b</pre></td></tr><tr><td data-num="15"></td><td><pre>        <span class="token keyword">return</span> a</pre></td></tr><tr><td data-num="16"></td><td><pre>a<span class="token operator">=</span>Fib<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211103155122-fo5pjxz.png" alt="image.png"></p><p>以上是传入 int，切片功能实现，isinstance 判断类型</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Fib</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        self<span class="token punctuation">.</span>a<span class="token punctuation">,</span>self<span class="token punctuation">.</span>b<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__iter__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token keyword">return</span> self</pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__next__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        self<span class="token punctuation">.</span>a<span class="token punctuation">,</span>self<span class="token punctuation">.</span>b<span class="token operator">=</span>self<span class="token punctuation">.</span>b<span class="token punctuation">,</span>self<span class="token punctuation">.</span>a<span class="token operator">+</span>self<span class="token punctuation">.</span>b</pre></td></tr><tr><td data-num="8"></td><td><pre>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>a<span class="token operator">&gt;</span><span class="token number">1000</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="9"></td><td><pre>            <span class="token keyword">raise</span>  StopIteration</pre></td></tr><tr><td data-num="10"></td><td><pre>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>a</pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__getitem__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="12"></td><td><pre>        <span class="token keyword">if</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span><span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="13"></td><td><pre>            a<span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="14"></td><td><pre>            <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="15"></td><td><pre>                a<span class="token punctuation">,</span> b <span class="token operator">=</span> b<span class="token punctuation">,</span> a <span class="token operator">+</span> b</pre></td></tr><tr><td data-num="16"></td><td><pre>            <span class="token keyword">return</span> a</pre></td></tr><tr><td data-num="17"></td><td><pre>        <span class="token keyword">if</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span><span class="token builtin">slice</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="18"></td><td><pre>            start<span class="token operator">=</span>item<span class="token punctuation">.</span>start</pre></td></tr><tr><td data-num="19"></td><td><pre>            stop<span class="token operator">=</span>item<span class="token punctuation">.</span>stop</pre></td></tr><tr><td data-num="20"></td><td><pre>            <span class="token keyword">if</span> start <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="21"></td><td><pre>                start<span class="token operator">=</span><span class="token number">0</span></pre></td></tr><tr><td data-num="22"></td><td><pre>            a<span class="token punctuation">,</span>b<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span></pre></td></tr><tr><td data-num="23"></td><td><pre>            L<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="24"></td><td><pre>            <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>stop<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="25"></td><td><pre>                L<span class="token punctuation">.</span>append<span class="token punctuation">(</span>a<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="26"></td><td><pre>                a<span class="token punctuation">,</span>b<span class="token operator">=</span>b<span class="token punctuation">,</span>a<span class="token operator">+</span>b</pre></td></tr><tr><td data-num="27"></td><td><pre>        <span class="token keyword">return</span> L</pre></td></tr><tr><td data-num="28"></td><td><pre></pre></td></tr><tr><td data-num="29"></td><td><pre>a<span class="token operator">=</span>Fib<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="30"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211103155838-wdwjies.png" alt="image.png"></p><h3 id="getattr动态返回一个属性"><a class="anchor" href="#getattr动态返回一个属性">#</a> <strong>getattr</strong> () 动态返回一个属性</h3><p>调用类属性或方法时，先在__init__() 获取后，再从__getattr__() 获取，获取不到才报错</p><h3 id="call直接调用实例本身"><a class="anchor" href="#call直接调用实例本身">#</a> <strong>call</strong> () 直接调用实例本身</h3><p>与直接调用这个函数一样</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">People</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        self<span class="token punctuation">.</span>name<span class="token operator">=</span>name</pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__call__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'i im call %s'</span><span class="token operator">%</span> self<span class="token punctuation">.</span>name<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>p<span class="token operator">=</span>People<span class="token punctuation">(</span><span class="token string">'ruan'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre>p<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211104150832-d8wkn0m.png" alt="image.png"></p><h2 id="使用枚举类"><a class="anchor" href="#使用枚举类">#</a> 使用枚举类</h2><p>枚举类：在某些情况下，一个类的 实例对象 的<strong>数量</strong>是 <strong>有限且固定</strong> 的，如季节类，它的实例对象只有春、夏、秋、冬。 在 Java 中像这种对象实例有限且固定的类被称为枚举类；这样的枚举类型定义一个 class 类型，然后，每个常量都是 class 的一个唯一实例。Python 提供了 <code>Enum</code> 类来实现这个功能。</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">from</span> enum <span class="token keyword">import</span> Enum</pre></td></tr><tr><td data-num="2"></td><td><pre>M<span class="token operator">=</span>Enum<span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">'sun1'</span><span class="token punctuation">,</span><span class="token string">'sun2'</span><span class="token punctuation">,</span><span class="token string">'sun3'</span><span class="token punctuation">,</span><span class="token string">'sun4'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>M<span class="token punctuation">.</span>sun1<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211104151622-x7yqw9j.png" alt="image.png"></p><p>自定义枚举类</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">from</span> enum <span class="token keyword">import</span> Enum<span class="token punctuation">,</span>unique</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token decorator annotation punctuation">@unique</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Week</span><span class="token punctuation">(</span>Enum<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    sun1<span class="token operator">=</span><span class="token number">1</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    sun2<span class="token operator">=</span><span class="token number">2</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    sun3<span class="token operator">=</span><span class="token number">3</span></pre></td></tr><tr><td data-num="7"></td><td><pre>day2<span class="token operator">=</span>Week<span class="token punctuation">.</span>sun2</pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>day2<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211104152125-y6nm9vn.png" alt="image.png"></p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">from</span> enum <span class="token keyword">import</span> Enum<span class="token punctuation">,</span>unique</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token decorator annotation punctuation">@unique</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Gender</span><span class="token punctuation">(</span>Enum<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    Male<span class="token operator">=</span><span class="token number">0</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    Female<span class="token operator">=</span><span class="token number">1</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">,</span>gender<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="8"></td><td><pre>        self<span class="token punctuation">.</span>name<span class="token operator">=</span>name</pre></td></tr><tr><td data-num="9"></td><td><pre>        self<span class="token punctuation">.</span>gender<span class="token operator">=</span>gender</pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment"># 测试:</span></pre></td></tr><tr><td data-num="12"></td><td><pre>bart <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token string">'Bart'</span><span class="token punctuation">,</span> Gender<span class="token punctuation">.</span>Male<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token keyword">if</span> bart<span class="token punctuation">.</span>gender <span class="token operator">==</span> Gender<span class="token punctuation">.</span>Male<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'测试通过!'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token keyword">else</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'测试失败!'</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211104152731-wmdziil.png" alt="image.png"></p><h2 id="使用元类创建类"><a class="anchor" href="#使用元类创建类">#</a> 使用元类 [创建类]</h2><p>实例对象是类创建</p><p>类是元类创建</p><p>创建类的方式</p><h3 id="方式一type"><a class="anchor" href="#方式一type">#</a> 方式一：type（）</h3><p><code>type()</code> 函数既可以返回一个对象的类型，又可以创建出新的类型，比如，我们可以通过 <code>type()</code> 函数创建出 <code>Hello</code> 类</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">from</span> class1104 <span class="token keyword">import</span> <span class="token operator">*</span></pre></td></tr><tr><td data-num="2"></td><td><pre>h<span class="token operator">=</span>Hello<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>Hello<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211104153538-6iulybe.png" alt="image.png"></p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>Hello <span class="token operator">=</span> <span class="token builtin">type</span><span class="token punctuation">(</span><span class="token string">'Hello'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">dict</span><span class="token punctuation">(</span>hello<span class="token operator">=</span>fn<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p>要创建一个 class 对象， <code>type()</code> 函数依次传入 3 个参数：</p><ol><li>class 的名称；</li><li>继承的父类集合，注意 Python 支持多重继承，如果只有一个父类，别忘了 tuple 的单元素写法；</li><li>class 的方法名称与函数绑定，这里我们把函数 <code>fn</code> 绑定到方法名 <code>hello</code> 上</li></ol><h3 id="方式二元类metaclass"><a class="anchor" href="#方式二元类metaclass">#</a> 方式二：元类 metaclass</h3><p>先定义 metaclass，然后创建类。</p><p>先定义类，然后创建实例。</p><p><s>metaclass 是 Python 面向对象里最难理解，也是最难使用的魔术代码。</s></p><p>按照默认习惯，metaclass 的类名总是以 Metaclass 结尾，以便清楚地表示这是一个 metaclass</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token comment"># metaclass 采用 type 创建类 ，metaclass 是类的模板，所以必须从 `type` 类型派生</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">ListMetaclass</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__new__</span><span class="token punctuation">(</span>cls<span class="token punctuation">,</span> name<span class="token punctuation">,</span>bases<span class="token punctuation">,</span>attrs<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>        attrs<span class="token punctuation">[</span><span class="token string">'add'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token keyword">lambda</span> self<span class="token punctuation">,</span> value<span class="token punctuation">:</span>self<span class="token punctuation">.</span>append<span class="token punctuation">(</span>value<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token keyword">return</span> <span class="token builtin">type</span><span class="token punctuation">.</span>__new__<span class="token punctuation">(</span>cls<span class="token punctuation">,</span>name<span class="token punctuation">,</span>bases<span class="token punctuation">,</span>attrs<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">MyList</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">,</span>metaclass<span class="token operator">=</span>ListMetaclass<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">pass</span></pre></td></tr><tr><td data-num="9"></td><td><pre>mylist<span class="token operator">=</span>MyList<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre>mylist<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>mylist<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211104155010-cbldtfp.png" alt="image.png"></p><p><code>__new__()</code> 方法接收到的参数依次是：</p><ol><li>当前准备创建的类的对象；</li><li>类的名字；</li><li>类继承的父类集合；</li><li>类的方法集合</li></ol><h3 id="应用场景"><a class="anchor" href="#应用场景">#</a> 应用场景</h3><p>ORM 全称 “Object Relational Mapping”，即对象 - 关系映射，就是把关系数据库的一行映射为一个对象，也就是一个类对应一个表，这样，写代码更简单，不用直接操作 SQL 语句。</p><p>要编写一个 ORM 框架，所有的类都只能动态定义，因为只有使用者才能根据表的结构定义出对应的类来。</p><h2 id="错误处理try"><a class="anchor" href="#错误处理try">#</a> 错误处理 try</h2><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">try</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'try...'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    r <span class="token operator">=</span> <span class="token number">10</span> <span class="token operator">/</span> <span class="token number">0</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'result:'</span><span class="token punctuation">,</span> r<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">except</span> ValueError <span class="token keyword">as</span> e<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'ValueError:'</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">except</span> ZeroDivisionError <span class="token keyword">as</span> e<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'ZeroDivisionError:'</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span>e<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">finally</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'finally...'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'END'</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p>Python 的错误其实也是 class，所有的错误类型都继承自 <code>BaseException</code></p><p><code>UnicodeError</code> 是 <code>ValueError</code> 的子类🤡</p><p><span class="exturl" data-url="aHR0cHM6Ly9kb2NzLnB5dGhvbi5vcmcvMy9saWJyYXJ5L2V4Y2VwdGlvbnMuaHRtbCNleGNlcHRpb24taGllcmFyY2h5">Built-in Exceptions — Python 3.10.0 documentation</span></p><h2 id="调用栈"><a class="anchor" href="#调用栈">#</a> 调用栈</h2><p>让 Python 解释器来打印出错误堆栈</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211104162726-fird23x.png" alt="image.png"></p><h2 id="记录错误logging"><a class="anchor" href="#记录错误logging">#</a> 记录错误 logging</h2><p>可将 logging 生成一个 txt 方便查看</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">try</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>        xxx</pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>        logging<span class="token punctuation">.</span>exception<span class="token punctuation">(</span>e<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><h3 id="抛出错误raise"><a class="anchor" href="#抛出错误raise">#</a> 抛出错误 raise</h3><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">except</span> ValueError <span class="token keyword">as</span> e<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'ValueError!'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        <span class="token keyword">raise</span></pre></td></tr></tbody></table></figure><p>在 <code>bar()</code> 函数中，我们明明已经捕获了错误，但是，打印一个 <code>ValueError!</code> 后，又把错误通过 <code>raise</code> 语句抛出去了，这不有病么？</p><p>其实这种错误处理方式不但没病，而且相当常见。捕获错误目的只是记录一下，便于后续追踪。但是，由于当前函数不知道应该怎么处理该错误，所以，最恰当的方式是继续往上抛，让顶层调用者去处理。</p><h2 id="调试方法"><a class="anchor" href="#调试方法">#</a> 调试方法</h2><h3 id="1-print"><a class="anchor" href="#1-print">#</a> 1. print（）</h3><h3 id="2-断言assert"><a class="anchor" href="#2-断言assert">#</a> 2. 断言 assert</h3><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">assert</span> n <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'n is zero!'</span></pre></td></tr></tbody></table></figure><p><code>assert</code> 的意思是，表达式 <code>n != 0</code> 应该是 <code>True</code> ，否则，根据程序运行的逻辑，后面的代码肯定会出错。</p><p>采用断言的好处：</p><p>启动 Python 解释器时可以用 <code>-O</code> 参数来关闭 <code>assert</code> ：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>$ python <span class="token operator">-</span>O err<span class="token punctuation">.</span>py</pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211104164034-js5sidi.png" alt="image.png"></p><p>关闭后，你可以把所有的 <code>assert</code> 语句当成 <code>pass</code> 来看</p><h3 id="3-logging"><a class="anchor" href="#3-logging">#</a> 3. logging</h3><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">import</span> logging</pre></td></tr><tr><td data-num="2"></td><td><pre>s <span class="token operator">=</span> <span class="token string">'0'</span></pre></td></tr><tr><td data-num="3"></td><td><pre>n <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre>logging<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">'n = %d'</span> <span class="token operator">%</span> n<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">/</span> n<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><h3 id="4pbd单步执行"><a class="anchor" href="#4pbd单步执行">#</a> 4.pbd 单步执行</h3><p>启动 Python 的调试器 pdb，让程序以单步方式运行，可以随时查看运行状态。</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>python <span class="token operator">-</span>m pdb xxx<span class="token punctuation">.</span>py</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">(</span>Pbd<span class="token punctuation">)</span> <span class="token number">1</span><span class="token comment">#查看第一行代码，单步执行第一行代码</span></pre></td></tr></tbody></table></figure><h3 id="5-pdbset_trace"><a class="anchor" href="#5-pdbset_trace">#</a> 5. pdb.set_trace()</h3><p>这个方法也是用 pdb，但是不需要单步执行，我们只需要 <code>import pdb</code> ，然后，在可能出错的地方放一个 <code>pdb.set_trace()</code> ，就可以设置一个断点：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">import</span> pdb</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>s <span class="token operator">=</span> <span class="token string">'0'</span></pre></td></tr><tr><td data-num="4"></td><td><pre>n <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre>pdb<span class="token punctuation">.</span>set_trace<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 运行到这里会自动暂停</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">/</span> n<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p>可以用命令 <code>p</code> 查看变量，或者用命令 <code>c</code> 继续运行：</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211104164634-anjnpuu.png" alt="image.png"></p><h3 id="6ide工具"><a class="anchor" href="#6ide工具">#</a> 6.IDE 工具</h3><p>vscode,pycharm....</p><h2 id="单元测试"><a class="anchor" href="#单元测试">#</a> 单元测试</h2><p>单元测试是用来对一个模块、一个函数或者一个类来进行正确性检验的测试工作。</p><h2 id="文档测试"><a class="anchor" href="#文档测试">#</a> 文档测试</h2><p>doctest 非常有用，不但可以用来测试，还可以直接作为示例代码。通过某些文档生成工具，就可以自动把包含 doctest 的注释提取出来。用户看文档的时候，同时也看到了 doctest。</p><p>Python 内置的 “文档测试”（doctest）模块可以直接提取注释中的代码并执行测试.</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Dict</span><span class="token punctuation">(</span><span class="token builtin">dict</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token triple-quoted-string string">""""</span></pre></td></tr><tr><td data-num="3"></td><td><pre>      这一段就是文档测试</pre></td></tr><tr><td data-num="4"></td><td><pre>       Simple dict but also support access as x.y style.</pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre>       &gt;&gt;&gt; d1 = Dict()</pre></td></tr><tr><td data-num="7"></td><td><pre>       &gt;&gt;&gt; d1['x'] = 100</pre></td></tr><tr><td data-num="8"></td><td><pre>       &gt;&gt;&gt; d1.x</pre></td></tr><tr><td data-num="9"></td><td><pre>       100</pre></td></tr><tr><td data-num="10"></td><td><pre>       &gt;&gt;&gt; d1.y = 200</pre></td></tr><tr><td data-num="11"></td><td><pre>       &gt;&gt;&gt; d1['y']</pre></td></tr><tr><td data-num="12"></td><td><pre>       200</pre></td></tr><tr><td data-num="13"></td><td><pre>       &gt;&gt;&gt; d2 = Dict(a=1, b=2, c='3')</pre></td></tr><tr><td data-num="14"></td><td><pre>       &gt;&gt;&gt; d2.c</pre></td></tr><tr><td data-num="15"></td><td><pre>       '3'</pre></td></tr><tr><td data-num="16"></td><td><pre>       &gt;&gt;&gt; d2['empty']</pre></td></tr><tr><td data-num="17"></td><td><pre>       Traceback (most recent call last):</pre></td></tr><tr><td data-num="18"></td><td><pre>           ...</pre></td></tr><tr><td data-num="19"></td><td><pre>       KeyError: 'empty'</pre></td></tr><tr><td data-num="20"></td><td><pre>       &gt;&gt;&gt; d2.empty</pre></td></tr><tr><td data-num="21"></td><td><pre>       Traceback (most recent call last):</pre></td></tr><tr><td data-num="22"></td><td><pre>           ...</pre></td></tr><tr><td data-num="23"></td><td><pre>       AttributeError: 'Dict' object has no attribute 'empty'</pre></td></tr><tr><td data-num="24"></td><td><pre>       """</pre></td></tr><tr><td data-num="25"></td><td><pre></pre></td></tr><tr><td data-num="26"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token operator">**</span>kw<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="27"></td><td><pre>        <span class="token builtin">super</span><span class="token punctuation">(</span>Dict<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token operator">**</span>kw<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="28"></td><td><pre></pre></td></tr><tr><td data-num="29"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__getattr__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="30"></td><td><pre>        <span class="token keyword">try</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="31"></td><td><pre>            <span class="token keyword">return</span> self<span class="token punctuation">[</span>key<span class="token punctuation">]</span></pre></td></tr><tr><td data-num="32"></td><td><pre>        <span class="token keyword">except</span> KeyError<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="33"></td><td><pre>            <span class="token keyword">raise</span> AttributeError<span class="token punctuation">(</span><span class="token string">r"'Dict' object has no attribute '%s'"</span> <span class="token operator">%</span> key<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="34"></td><td><pre></pre></td></tr><tr><td data-num="35"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__setattr__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="36"></td><td><pre>        self<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> value</pre></td></tr><tr><td data-num="37"></td><td><pre></pre></td></tr><tr><td data-num="38"></td><td><pre><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="39"></td><td><pre>    <span class="token keyword">import</span> doctest</pre></td></tr><tr><td data-num="40"></td><td><pre>    doctest<span class="token punctuation">.</span>testmod<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p>将其中一个函数注释，运行让它报错</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211108110503-erlvnk1.png" alt="image.png"></p><h2 id="io编程"><a class="anchor" href="#io编程">#</a> IO 编程</h2><p>程序和运行时的数据在内存中驻留</p><p>涉及到数据交换的地方，通常是磁盘、网络等，就需要 IO 接口</p><p>通常，程序完成 IO 操作会有 Input 和 Output 两个数据流</p><p>Stream（流）是一个很重要的概念，可以把流想象成一个水管，数据就是水管里的水，但是只能单向流动。</p><p>在 IO 编程中，就存在<strong>速度严重不匹配的问题</strong>。举个例子来说，比如要把 100M 的数据写入磁盘，CPU 输出 100M 的数据只需要 0.01 秒，可是磁盘要接收这 100M 数据可能需要 10 秒，怎么办呢？有两种办法：</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211108111749-yobbduz.png" alt="image.png"></p><h2 id="同步io"><a class="anchor" href="#同步io">#</a> 同步 IO</h2><p>第一种是 CPU 等着，也就是程序暂停执行后续代码，等 100M 的数据在 10 秒后写入磁盘，再接着往下执行，这种模式称为同步 IO；</p><h2 id="异步io"><a class="anchor" href="#异步io">#</a> 异步 IO</h2><p>另一种方法是 CPU 不等待，只是告诉磁盘，“您老慢慢写，不着急，我接着干别的事去了”，于是，后续代码可以立刻接着执行，这种模式称为异步 IO。</p><p>如果是服务员跑过来找到你，这是回调模式，如果服务员发短信通知你，你就得不停地检查手机，这是轮询模式。总之，异步 IO 的复杂度远远高于同步 IO。</p><h2 id="文件读写"><a class="anchor" href="#文件读写">#</a> 文件读写</h2><h3 id="读文件open"><a class="anchor" href="#读文件open">#</a> 读文件 open（）</h3><p>传入文件名，标示符</p><p>参数：'rb' 二进制</p><p>encoding='gbk' 字符编码</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>f <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'/Users/michael/test.txt'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><h3 id="read一次读取全部内容"><a class="anchor" href="#read一次读取全部内容">#</a> read () 一次读取全部内容</h3><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token string">'Hello, world!'</span></pre></td></tr></tbody></table></figure><h3 id="fclose关闭文件"><a class="anchor" href="#fclose关闭文件">#</a> f.close（）关闭文件</h3><p>简化方法</p><h3 id="with-openfilepath-r-as-f-printfread"><a class="anchor" href="#with-openfilepath-r-as-f-printfread">#</a> with open('filepath', 'r') as f: print(f.read())</h3><p>Python 引入了 <code>with</code> 语句来自动帮我们调用 <code>close()</code> 方法，并且不必调用 <code>f.close()</code> 方法</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'/path/to/file'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p>如果文件很小， <code>read()</code> 一次性读取最方便；</p><p>如果不能确定文件大小，反复调用 <code>read(size)</code> 比较保险；</p><p>如果是配置文件，调用 <code>readlines()</code> 最方便</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">for</span> line <span class="token keyword">in</span> f<span class="token punctuation">.</span>readlines<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span>line<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 把末尾的 '\n' 删掉</span></pre></td></tr></tbody></table></figure><p>file 和缓存时 = 是 file-like Object 对象，不要求从特定类继承，只要写个 <code>read()</code> 方法就行</p><h3 id="fwrite写文件"><a class="anchor" href="#fwrite写文件">#</a> f.write () 写文件</h3><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>f <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'/Users/michael/test.txt'</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre>f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'Hello, world!'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p>或</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'/Users/michael/test.txt'</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'Hello, world!'</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p>使用 <code>with</code> 语句操作文件 IO 是个好习惯</p><h2 id="stringio和bytesio"><a class="anchor" href="#stringio和bytesio">#</a> StringIO 和 BytesIO</h2><h3 id="stringio"><a class="anchor" href="#stringio">#</a> StringIO</h3><p>StringIO 顾名思义就是在内存中读写 str</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">from</span> io <span class="token keyword">import</span> StringIO</pre></td></tr><tr><td data-num="2"></td><td><pre> f <span class="token operator">=</span> StringIO<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><code>getvalue()</code> 方法用于获得写入后的 str</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">from</span> io <span class="token keyword">import</span> StringIO</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> f <span class="token operator">=</span> StringIO<span class="token punctuation">(</span><span class="token string">'Hello!\nHi!\nGoodbye!'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     s <span class="token operator">=</span> f<span class="token punctuation">.</span>readline<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">if</span> s <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>         <span class="token keyword">break</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><h3 id="bytesio"><a class="anchor" href="#bytesio">#</a> BytesIO</h3><p>操作二进制数据，就需要使用 BytesIO</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">from</span> io <span class="token keyword">import</span> BytesIO</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> f <span class="token operator">=</span> BytesIO<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'中文'</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token number">6</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span>getvalue<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token string">b'\xe4\xb8\xad\xe6\x96\x87'</span></pre></td></tr></tbody></table></figure><h2 id="os模块"><a class="anchor" href="#os模块">#</a> os 模块</h2><h3 id="osname操作系统类型"><a class="anchor" href="#osname操作系统类型">#</a> os.name 操作系统类型</h3><h3 id="osuname详细系统信息"><a class="anchor" href="#osuname详细系统信息">#</a> os.uname () 详细系统信息</h3><h3 id="osenciron环境变量"><a class="anchor" href="#osenciron环境变量">#</a> os.enciron 环境变量</h3><p>要获取某个环境变量的值，可以调用 <code>os.environ.get('key')</code></p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token comment"># 查看当前目录的绝对路径:</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>abspath<span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token string">'/Users/michael'</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment"># 在某个目录下创建一个新目录，首先把新目录的完整路径表示出来:</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token string">'/Users/michael'</span><span class="token punctuation">,</span> <span class="token string">'testdir'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token string">'/Users/michael/testdir'</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment"># 然后创建一个目录:</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> os<span class="token punctuation">.</span>mkdir<span class="token punctuation">(</span><span class="token string">'/Users/michael/testdir'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment"># 删掉一个目录:</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> os<span class="token punctuation">.</span>rmdir<span class="token punctuation">(</span><span class="token string">'/Users/michael/testdir'</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p>通过 <code>os.path.join()</code> 函数，这样可以正确处理不同操作系统的路径分隔符</p><h3 id="ospathjoin连接路径"><a class="anchor" href="#ospathjoin连接路径">#</a> <code>os.path.join(</code> ) 连接路径</h3><h3 id="ospathsplit拆分路径"><a class="anchor" href="#ospathsplit拆分路径">#</a> <code>os.path.split()</code> 拆分路径</h3><h3 id="ospathsplitext-文件扩展名"><a class="anchor" href="#ospathsplitext-文件扩展名">#</a> <code>os.path.splitext()</code> 文件扩展名</h3><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token comment"># 对文件重命名:</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> os<span class="token punctuation">.</span>rename<span class="token punctuation">(</span><span class="token string">'test.txt'</span><span class="token punctuation">,</span> <span class="token string">'test.py'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment"># 删掉文件:</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> os<span class="token punctuation">.</span>remove<span class="token punctuation">(</span><span class="token string">'test.py'</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><code>shutil</code> 模块提供了 <code>copyfile()</code> 的函数，它们可以看做是 <code>os</code> 模块的补充</p><p>最后看看如何利用 Python 的特性来过滤文件。比如我们要列出当前目录下的所有目录，只需要一行代码：</p><pre><code>&gt;&gt;&gt; [x for x in os.listdir('.') if os.path.isdir(x)]
['.lein', '.local', '.m2', '.npm', '.ssh', '.Trash', '.vim', 'Applications', 'Desktop', ...]
</code></pre><p>要列出所有的 <code>.py</code> 文件，也只需一行代码：</p><pre><code>&gt;&gt;&gt; [x for x in os.listdir('.') if os.path.isfile(x) and os.path.splitext(x)[1]=='.py']
['apis.py', 'config.py', 'models.py', 'pymonitor.py', 'test_db.py', 'urls.py', 'wsgiapp.py']
</code></pre><h2 id="序列化pickle模块"><a class="anchor" href="#序列化pickle模块">#</a> 序列化 pickle 模块</h2><p>变量从内存中变成可存储或传输的过程称之为序列化，Python 中叫 pickling</p><p>变量内容从序列化的对象重新读到内存里称之为反序列化，即 unpickling</p><h3 id="pickledumps对象-字节序列化"><a class="anchor" href="#pickledumps对象-字节序列化">#</a> pickle.dumps () 对象 -》字节 [序列化]</h3><p><code>pickle.dumps()</code> 方法把任意对象序列化成一个 <code>bytes</code></p><p><code>pickle.dumps()</code> 方法把任意对象序列化成一个 <code>bytes</code> , 并写入文件中</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">import</span> pickle</pre></td></tr><tr><td data-num="2"></td><td><pre>d<span class="token operator">=</span><span class="token builtin">dict</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">'ruan'</span><span class="token punctuation">,</span>age<span class="token operator">=</span><span class="token number">34</span><span class="token punctuation">,</span>freand<span class="token operator">=</span><span class="token string">'woman'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment"># print(pickle.dumps(d))</span></pre></td></tr><tr><td data-num="4"></td><td><pre>f <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'timezone.txt'</span><span class="token punctuation">,</span> <span class="token string">'wb'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre>pickle<span class="token punctuation">.</span>dump<span class="token punctuation">(</span>d<span class="token punctuation">,</span> f<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre>f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><h3 id="pickleload字节-对象反序列化"><a class="anchor" href="#pickleload字节-对象反序列化">#</a> pickle.load () 字节 -》对象【反序列化】</h3><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">import</span> pickle</pre></td></tr><tr><td data-num="2"></td><td><pre>f<span class="token operator">=</span><span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">r'C:\Users\yangs\PycharmProjects\python_study\fun\timezone.txt'</span><span class="token punctuation">,</span><span class="token string">'rb'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>d<span class="token operator">=</span>pickle<span class="token punctuation">.</span>load<span class="token punctuation">(</span>f<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre>f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211108132946-rtt8k8p.png" alt="image.png"></p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211108133035-b8gyft4.png" alt="image.png"></p><h2 id="json模块"><a class="anchor" href="#json模块">#</a> json 模块</h2><p><code>json</code> 模块的 <code>dumps()</code> 和 <code>loads()</code> 函数是定义得非常好的接口的典范。</p><h4 id="jsondumpspython对象python对象-json对象"><a class="anchor" href="#jsondumpspython对象python对象-json对象">#</a> json.dumps (python 对象) python 对象 -》json 对象</h4><p><code>dumps()</code> 方法返回一个 <code>str</code> ，内容就是标准的 JSON</p><h4 id="jsonloadsjson对象json对象-python对象"><a class="anchor" href="#jsonloadsjson对象json对象-python对象">#</a> json.loads (json 对象) json 对象 -》python 对象</h4><p><code>json.``dump</code> (obj,&nbsp;fp,&nbsp;<em>,&nbsp;skipkeys=False,&nbsp;ensure_ascii=True,&nbsp;check_circular=True,&nbsp;allow_nan=True,&nbsp;cls=None,&nbsp;indent=None,&nbsp;separators=None,&nbsp;default=None,&nbsp;sort_keys=False,&nbsp;<strong>kw</strong>)</em>*</p><h3 id="类变为字典并序列化"><a class="anchor" href="#类变为字典并序列化">#</a> 类变为字典并序列化</h3><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>json<span class="token punctuation">.</span>dumps<span class="token punctuation">(</span>s<span class="token punctuation">,</span> default<span class="token operator">=</span><span class="token keyword">lambda</span> obj<span class="token punctuation">:</span> obj<span class="token punctuation">.</span>__dict__<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><h2 id="进程和线程"><a class="anchor" href="#进程和线程">#</a> 进程和线程</h2><p>Python 的标准库提供了两个模块： <code>_thread</code> 和 <code>threading</code> ， <code>_thread</code> 是低级模块， <code>threading</code> 是高级模块</p><p><strong>线程是最小的执行单元，而进程由至少一个线程组成</strong></p><p>操作系统轮流让各个任务交替执行</p><p>真正的并行执行多任务只能在多核 CPU 上实现</p><p>对于操作系统来说，一个任务就是一个进程（Process），比如打开一个浏览器就是启动一个浏览器进程</p><p>Word，它可以同时进行打字、拼写检查、打印等事情。在一个进程内部，要同时干多件事，就需要同时运行多个 “子任务”，我们把进程内的这些 “子任务” 称为线程（Thread）</p><ul><li>多进程模式；</li><li>多线程模式；</li><li>多进程 + 多线程模式。</li></ul><h2 id="多进程"><a class="anchor" href="#多进程">#</a> 多进程</h2><p>Unix/Linux 操作系统提供了一个 <code>fork()</code> 系统调用，普通的函数调用，调用一次，返回一次，但是 <code>fork()</code> 调用一次，返回两次，因为操作系统自动把当前进程（称为父进程）复制了一份（称为子进程），然后，分别在父进程和子进程内返回。</p><p>创建子进程</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">from</span> multiprocessing <span class="token keyword">import</span> Process</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">import</span> os</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">def</span> <span class="token function">run_pro</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'开始运行子进程%s，%s'</span><span class="token operator">%</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>os<span class="token punctuation">.</span>getpid<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'开始运行进程%s'</span> <span class="token operator">%</span> <span class="token punctuation">(</span>os<span class="token punctuation">.</span>getpid<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    p<span class="token operator">=</span>Process<span class="token punctuation">(</span>target<span class="token operator">=</span>run_pro<span class="token punctuation">,</span>args<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    p<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    p<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'end'</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211111131512-zqm80if.png" alt="image.png"></p><h3 id="启动大量子进程pool"><a class="anchor" href="#启动大量子进程pool">#</a> 启动大量子进程 pool</h3><p>进程池</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">import</span> time<span class="token punctuation">,</span> threading</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment"># 新线程执行的代码:</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">def</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'thread %s is running...'</span> <span class="token operator">%</span> threading<span class="token punctuation">.</span>current_thread<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    n <span class="token operator">=</span> <span class="token number">0</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">while</span> n <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="8"></td><td><pre>        n <span class="token operator">=</span> n <span class="token operator">+</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="9"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'thread %s &gt;&gt;&gt; %s'</span> <span class="token operator">%</span> <span class="token punctuation">(</span>threading<span class="token punctuation">.</span>current_thread<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre>        time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'thread %s ended.'</span> <span class="token operator">%</span> threading<span class="token punctuation">.</span>current_thread<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'thread %s is running...'</span> <span class="token operator">%</span> threading<span class="token punctuation">.</span>current_thread<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre>t <span class="token operator">=</span> threading<span class="token punctuation">.</span>Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>loop<span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'LoopThread'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="15"></td><td><pre>t<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="16"></td><td><pre>t<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'thread %s ended.'</span> <span class="token operator">%</span> threading<span class="token punctuation">.</span>current_thread<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><h1 id="模块总结"><a class="anchor" href="#模块总结">#</a> 模块总结</h1><h2 id="doctest文档测试"><a class="anchor" href="#doctest文档测试">#</a> doctest 文档测试</h2><h2 id="ospath文件路径"><a class="anchor" href="#ospath文件路径">#</a> os.path 文件路径</h2><h2 id="pickle序列化"><a class="anchor" href="#pickle序列化">#</a> pickle 序列化</h2><h2 id="json"><a class="anchor" href="#json">#</a> json</h2><p><span class="exturl" data-url="aHR0cHM6Ly93d3cubGlhb3h1ZWZlbmcuY29tL3dpa2kvMTAxNjk1OTY2MzYwMjQwMC8xMDE3MTA0MzI0MDI4NDQ4">使用 dict 和 set - 廖雪峰的官方网站 (liaoxuefeng.com)</span></p><p>用于学习记录，后期便于复习，参考链接</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009102447-hmq8gs8.png" alt="image.png"></p><p>python file</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009102545-qqmxrgo.png" alt="image.png"></p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009102644-7ny4t2k.png" alt="image.png"></p><p>调用脚本时会先载入 pyhton 解释器，然后运行脚本</p><p>rpm：软件管理包</p><p>操作符优先级：<img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009104337-b66ot2k.png" alt="image.png"></p><p>条件判断：</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009104751-a27qfzb.png" alt="image.png"></p><p>Python 为我们提供了非常完善的基础代码库，覆盖了网络、文件、GUI、数据库、文本等大量内容，被形象地称作 “内置电池（batteries included）”。用 Python 开发，许多功能不必从零编写，直接使用现成的即可。</p><p>语言定位：</p><p>Python 的定位是 “优雅”、“明确”、“简单”</p><p>Python 是解释型语言</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211011172523-7k51l6e.png" alt="image.png"></p><h1 id="python-2"><a class="anchor" href="#python-2">#</a> python</h1><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009110719-7urayjl.png" alt="image.png"></p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009111236-gd1mcju.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009111303-l3bqira.png" alt="image.png"></p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009113303-w7qziw5.png" alt="image.png"></p><h2 id="数据类型-2"><a class="anchor" href="#数据类型-2">#</a> 数据类型</h2><h3 id="int-整型-2"><a class="anchor" href="#int-整型-2">#</a> int 整型</h3><p>long int 长整型</p><p>int 整型</p><h3 id="float-浮点型-2"><a class="anchor" href="#float-浮点型-2">#</a> float 浮点型</h3><p>浮点数也就是小数，之所以称为浮点数，是因为按照科学记数法表示时</p><p>双精度浮点型 e</p><p>浮点型</p><h3 id="string-字符串-2"><a class="anchor" href="#string-字符串-2">#</a> String 字符串</h3><p>字符串是以单引号 <code>'</code> 或双引号 <code>"</code> 括起来的任意文本</p><p>字符串是以 Unicode 编码</p><p>对于单个字符的编码，Python 提供了 <code>ord()</code> 函数获取字符的整数表示， <code>chr()</code> 函数把编码转换为对应的字符：</p><h3 id="bool布尔-2"><a class="anchor" href="#bool布尔-2">#</a> Bool 布尔</h3><p>True</p><p>Flase</p><h3 id="none-空值-2"><a class="anchor" href="#none-空值-2">#</a> None 空值</h3><p>None， <code>None</code> 不能理解为 <code>0</code> ，因为 <code>0</code> 是有意义的，</p><p>Null 无意义</p><p>.</p><p>&lt;iframe src="<span class="exturl" data-url="aHR0cDovLzEyNy4wLjAuMTo2ODA2L3dpZGdldHMvYnJ5dGhvbi1lZGl0b3I=">http://127.0.0.1:6806/widgets/brython-editor</span>" data-src="<span class="exturl" data-url="aHR0cDovLzEyNy4wLjAuMTo2ODA2L3dpZGdldHMvYnJ5dGhvbi1lZGl0b3I=">http://127.0.0.1:6806/widgets/brython-editor</span>" data-subtype="widget" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="width: 1341px; height: 276px;"&gt;&lt;/iframe&gt;</p><h3 id="变量-2"><a class="anchor" href="#变量-2">#</a> 变量</h3><p>变量的概念基本上和初中代数的方程变量是一致的，</p><p>变量不仅可以是数字，还可以是任意数据类型。</p><p>变量名必须是大小写英文、数字和 <code>_</code> 的组合，且不能用数字开头，字母或下划线开头</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token comment">#变量类型</span></pre></td></tr><tr><td data-num="2"></td><td><pre>a<span class="token operator">=</span><span class="token number">1</span></pre></td></tr><tr><td data-num="3"></td><td><pre>b<span class="token operator">=</span><span class="token string">'我是变量'</span></pre></td></tr><tr><td data-num="4"></td><td><pre>c<span class="token operator">=</span><span class="token boolean">True</span></pre></td></tr><tr><td data-num="5"></td><td><pre>d<span class="token operator">=</span><span class="token number">12.2e3</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">,</span>d<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token builtin">type</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token builtin">type</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token builtin">type</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009134601-1cuacaj.png" alt="image.png"></p><p>int a=1 静态语言 此时已经分配的 int 分区之后不能更改变量类型【不支持，Java】</p><p>a=3 动态语言，可以赋值成任意类型</p><h4 id="动态定义-2"><a class="anchor" href="#动态定义-2">#</a> 动态定义</h4><h4 id="静态定义-2"><a class="anchor" href="#静态定义-2">#</a> 静态定义</h4><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>a <span class="token operator">=</span> <span class="token string">'ABC'</span></pre></td></tr><tr><td data-num="2"></td><td><pre>b <span class="token operator">=</span> a</pre></td></tr><tr><td data-num="3"></td><td><pre>a <span class="token operator">=</span> <span class="token string">'XYZ'</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p>执行 <code>a = 'ABC'</code> ，解释器创建了字符串 <code>'ABC'</code> 和变量 <code>a</code> ，并把 <code>a</code> 指向 <code>'ABC'</code> ：</p><p><img data-src="https://www.liaoxuefeng.com/files/attachments/923791878255456/0" alt="py-var-code-1"></p><p>执行 <code>b = a</code> ，解释器创建了变量 <code>b</code> ，并把 <code>b</code> 指向 <code>a</code> 指向的字符串 <code>'ABC'</code> ：</p><p><img data-src="https://www.liaoxuefeng.com/files/attachments/923792058613440/0" alt="py-var-code-2"></p><p>执行 <code>a = 'XYZ'</code> ，解释器创建了字符串 'XYZ'，并把 <code>a</code> 的指向改为 <code>'XYZ'</code> ，但 <code>b</code> 并没有更改：</p><p><img data-src="https://www.liaoxuefeng.com/files/attachments/923792191637760/0" alt="py-var-code-3"></p><h3 id="常量-2"><a class="anchor" href="#常量-2">#</a> 常量</h3><p>所谓常量就是不能变的变量，通常用全部大写的变量名表示常量：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>PI <span class="token operator">=</span> <span class="token number">3.14159265359</span></pre></td></tr></tbody></table></figure><h2 id="list列表-2"><a class="anchor" href="#list列表-2">#</a> list 列表</h2><p>list 是一种有序的集合，可以随时添加和删除其中的元素。</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token builtin">list</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'b'</span><span class="token punctuation">,</span><span class="token string">'c'</span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009154856-r9s5yyu.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009154907-bofhvvd.png" alt="image.png"></p><h3 id="切分-2"><a class="anchor" href="#切分-2">#</a> 切分</h3><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009155126-p31z8um.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009155139-cpsoatf.png" alt="image.png"></p><h3 id="append追加-2"><a class="anchor" href="#append追加-2">#</a> append（）追加</h3><p>str.append('a')</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009155556-qrj4a63.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009155606-dxihfwr.png" alt="image.png"></p><h3 id="insert插入指定位置-2"><a class="anchor" href="#insert插入指定位置-2">#</a> insert 插入指定位置</h3><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009162557-186v350.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009162609-u00z8m3.png" alt="image.png"></p><h3 id="pop删除末尾元素-2"><a class="anchor" href="#pop删除末尾元素-2">#</a> pop（）删除末尾元素</h3><p>要删除指定位置的元素，用 <code>pop(i)</code> 方法，其中 <code>i</code> 是索引位置</p><p>替换元素直接赋值即可</p><p>列表可以嵌套</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>s <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'python'</span><span class="token punctuation">,</span> <span class="token string">'java'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'asp'</span><span class="token punctuation">,</span> <span class="token string">'php'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'scheme'</span><span class="token punctuation">]</span></pre></td></tr></tbody></table></figure><p>类型可以不同</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>L <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Apple'</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">]</span></pre></td></tr></tbody></table></figure><h3 id="切片-2"><a class="anchor" href="#切片-2">#</a> 切片</h3><p>list [:-1] 不包含最后一个元素</p><p>list [:] 全部列表</p><p>list [::] 全部列表</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012161203-1e12zsd.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012161212-0lrqjsm.png" alt="image.png"></p><p>前 10 个数，每两个取一个</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012161428-r6muafj.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012161441-eoc8y55.png" alt="image.png"></p><h4 id="列表生成-2"><a class="anchor" href="#列表生成-2">#</a> 列表生成</h4><p>list（range（1，11））生成 10 个数 1-10</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">[</span>m<span class="token operator">+</span>n <span class="token keyword">for</span> m <span class="token keyword">in</span> <span class="token string">'123'</span> <span class="token keyword">for</span> n <span class="token keyword">in</span> <span class="token string">'yza'</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>k<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">23</span><span class="token punctuation">,</span><span class="token number">45</span><span class="token punctuation">,</span><span class="token number">56</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">467</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">[</span>x <span class="token keyword">for</span> x <span class="token keyword">in</span> k <span class="token keyword">if</span> x<span class="token operator">==</span><span class="token number">1</span> <span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012190810-l1qtxiv.png" alt="image.png"></p><h2 id="tuple元组-2"><a class="anchor" href="#tuple元组-2">#</a> tuple 元组</h2><p>tuple 一旦初始化就不能修改</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009163638-1vpldee.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009163652-xkas3o0.png" alt="image.png"></p><p>但元组初始化后就不能进行更改了</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>b<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">#定义的不是 tuple，是 1 这个数！</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment"># 这是因为括号 () 既可以表示 tuple，又可以表示数学公式中的小括号，</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment"># 这就产生了歧义，因此，Python 规定，</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment"># 这种情况下，按小括号进行计算，计算结果自然是 1</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre>c<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009164221-xl1husx.png" alt="image.png"></p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009164244-780v78f.png" alt="image.png"></p><h2 id="dict字典-2"><a class="anchor" href="#dict字典-2">#</a> dict 字典</h2><p>其他语言叫 map，使用键 - 值（key-value）存储，具有极快的查找速度。dict 的 key 必须是<strong>不可变对象</strong>。key 计算位置的算法称为哈希算法（Hash）。</p><h3 id="定义-3"><a class="anchor" href="#定义-3">#</a> 定义</h3><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>d<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span><span class="token string">'ruanyifen'</span><span class="token punctuation">,</span><span class="token string">'age'</span><span class="token punctuation">:</span><span class="token number">60</span><span class="token punctuation">,</span><span class="token string">'happy'</span><span class="token punctuation">:</span><span class="token string">'write'</span><span class="token punctuation">}</span></pre></td></tr><tr><td data-num="2"></td><td><pre>d<span class="token punctuation">[</span><span class="token string">'add'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">'Im add'</span></pre></td></tr><tr><td data-num="3"></td><td><pre>d<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">'fix'</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012135019-kqmsrcg.png" alt="image.png"></p><h3 id="取value-2"><a class="anchor" href="#取value-2">#</a> 取 value</h3><h4 id="dictkey-2"><a class="anchor" href="#dictkey-2">#</a> dict['key']</h4><h4 id="key-in-dict-2"><a class="anchor" href="#key-in-dict-2">#</a> 'key' in dict</h4><h4 id="dictgetkey-2"><a class="anchor" href="#dictgetkey-2">#</a> dict.get('key')</h4><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>d<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'name'</span> <span class="token keyword">in</span> d<span class="token punctuation">)</span><span class="token comment">#方法一判断是否有这个主键在字典 d 中</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">#方法二 取</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012135119-sniqpw0.png" alt="image.png"></p><h3 id="dictpopkey删除一个key-2"><a class="anchor" href="#dictpopkey删除一个key-2">#</a> dict.pop ('key') 删除一个 key</h3><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012135429-m36ygpu.png" alt="image.png"></p><h3 id="dictkeys返回字典中所有key列表-2"><a class="anchor" href="#dictkeys返回字典中所有key列表-2">#</a> dict.keys 返回字典中所有 key 列表</h3><h3 id="dictupdate将a字典新keyvalue内容加入b字典中-2"><a class="anchor" href="#dictupdate将a字典新keyvalue内容加入b字典中-2">#</a> dict.update () 将 a 字典新 key，value 内容加入 b 字典中</h3><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token assign-left variable">dicta</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">"name"</span><span class="token builtin class-name">:</span><span class="token string">'ruan'</span>,<span class="token string">'age'</span>:20<span class="token punctuation">}</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token assign-left variable">dictb</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">"name"</span><span class="token builtin class-name">:</span><span class="token string">'ruan2'</span>,<span class="token string">'age'</span>:40,<span class="token string">'add'</span><span class="token builtin class-name">:</span><span class="token string">'w shi add'</span><span class="token punctuation">}</span></pre></td></tr><tr><td data-num="3"></td><td><pre>dictb.update<span class="token punctuation">(</span>dicta<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre>print<span class="token punctuation">(</span>dictb<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211101115242-qazr588.png" alt="image.png"></p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211101115348-bb0l147.png" alt="image.png"></p><h4 id="内建函数使用-2"><a class="anchor" href="#内建函数使用-2">#</a> 内建函数使用</h4><p>type（）</p><p>cmp（）</p><p>len（）</p><p>hash（）</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211101114202-rdvz2pt.png" alt="image.png"></p><p>内建 cmp（）函数比较两个 dict 时，先比较长度，后比值，输出 1 或 - 1</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211101114401-h4f1qop.png" alt="image.png"></p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211101114644-qffksiw.png" alt="image.png"></p><h3 id="dict特点-2"><a class="anchor" href="#dict特点-2">#</a> dict 特点</h3><p>dict 有以下几个特点：</p><ol><li>查找和插入的速度极快，不会随着 key 的增加而变慢；</li><li>需要占用大量的内存，内存浪费多。</li></ol><p>而 list 相反：</p><ol><li>查找和插入的时间随着元素的增加而增加；</li><li>占用空间小，浪费内存很少。<br><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211101115427-fu3s2zu.png" alt="image.png"><br><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211101115451-utxi9ct.png" alt="image.png"></li></ol><h2 id="set集合-2"><a class="anchor" href="#set集合-2">#</a> set 集合</h2><p>也是一组 key 的集合，但不存储 value。由于 key 不能重复，所以，在 set 中，没有重复的 key。</p><p>重复元素在 set 中自动被过滤</p><h3 id="定义-4"><a class="anchor" href="#定义-4">#</a> 定义</h3><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012135934-u0n1j77.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012135953-sqa88s1.png" alt="image.png"></p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140114-5azj1sa.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140127-ledkv1s.png" alt="image.png"></p><h3 id="setaddkey添加元素-2"><a class="anchor" href="#setaddkey添加元素-2">#</a> set.add ('key') 添加元素</h3><p>但重复元素不添加，自动去重</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140336-dwf2vgw.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140344-dzsshz2.png" alt="image.png"></p><h3 id="setremovekey删除元素-2"><a class="anchor" href="#setremovekey删除元素-2">#</a> set.remove ('key') 删除元素</h3><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140511-5f9cwm4.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140517-f6iolow.png" alt="image.png"></p><p>set 可以看成数学意义上的无序和无重复元素的集合，</p><p>因此，两个 set 可以做数学意义上的交集、并集等操作：</p><h3 id="两个set交集-2"><a class="anchor" href="#两个set交集-2">#</a> &amp; 两个 set 交集</h3><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140903-1l3we66.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140912-8itf6ek.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211022170721-h5hmgxr.png" alt="image.png"></p><h3 id="两个set并集-2"><a class="anchor" href="#两个set并集-2">#</a> | 两个 set 并集</h3><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140922-5bjlj5g.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140933-edbys90.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211022171729-b4k8xhd.png" alt="image.png"></p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211101115701-3dt5x4j.png" alt="image.png"></p><h3 id="map的显示-2"><a class="anchor" href="#map的显示-2">#</a> map () 的显示</h3><p>打印 map 对象可以看到 map 对象返回的是一个地址，不是真实的数据</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">map</span>对象<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">[</span>it <span class="token keyword">for</span> it <span class="token keyword">in</span> <span class="token builtin">map</span>对象<span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><h2 id="数据类型转换-2"><a class="anchor" href="#数据类型转换-2">#</a> 数据类型转换</h2><h3 id="int-2"><a class="anchor" href="#int-2">#</a> int（）</h3><h3 id="float-2"><a class="anchor" href="#float-2">#</a> float（）</h3><h3 id="str-2"><a class="anchor" href="#str-2">#</a> str（）</h3><h3 id="bool-2"><a class="anchor" href="#bool-2">#</a> bool（）</h3><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012142636-iblnu9y.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012142645-gb2u1fg.png" alt="image.png"></p><h2 id="条件判断-2"><a class="anchor" href="#条件判断-2">#</a> 条件判断</h2><h3 id="if-2"><a class="anchor" href="#if-2">#</a> if</h3><p>if else</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>a<span class="token operator">=</span><span class="token number">100</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">if</span> a<span class="token operator">&gt;=</span><span class="token number">0</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">else</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token operator">-</span>a<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009165335-jr8xtfq.png" alt="image.png"></p><p>if</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">if</span> <span class="token boolean">True</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'True'</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009165309-ymhiihv.png" alt="image.png"></p><p>if elif elif else</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>name<span class="token operator">=</span><span class="token string">'zhangsan'</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">if</span> name<span class="token operator">==</span><span class="token string">'zhangsan'</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'我是'</span><span class="token punctuation">,</span>name<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">elif</span> name<span class="token operator">==</span><span class="token string">'lisi'</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'我是'</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">elif</span> name<span class="token operator">==</span><span class="token string">'wangwu'</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'我是'</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">else</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'我谁的不是'</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009165511-spws02g.png" alt="image.png"></p><h2 id="input输入输出-2"><a class="anchor" href="#input输入输出-2">#</a> input（）输入输出</h2><p>input () 返回的数据类型是 str</p><p>print（）</p><h2 id="循环-迭代-2"><a class="anchor" href="#循环-迭代-2">#</a> 循环 迭代</h2><p>list，tuple，dict 都可循环</p><p>Python 的 <code>for</code> 循环本质上就是通过不断调用 <code>next()</code> 函数实现的，计算是惰性的</p><p>dict 循环按照 value 时：for value in dict.values</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">for</span> value <span class="token keyword">in</span> d<span class="token punctuation">.</span>values<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><h3 id="for-in-2"><a class="anchor" href="#for-in-2">#</a> for in</h3><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token builtin">sum</span><span class="token operator">=</span><span class="token number">0</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token builtin">sum</span><span class="token operator">=</span><span class="token builtin">sum</span><span class="token operator">+</span>i</pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">sum</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009172805-wrb6kr2.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009172805-wrb6kr2.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009172821-rdyglwd.png" alt="image.png"></p><h3 id="while-2"><a class="anchor" href="#while-2">#</a> while</h3><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>sum2<span class="token operator">=</span><span class="token number">0</span></pre></td></tr><tr><td data-num="2"></td><td><pre>k<span class="token operator">=</span><span class="token number">0</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">while</span><span class="token punctuation">(</span>k<span class="token operator">&lt;</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    sum2<span class="token operator">=</span>sum2<span class="token operator">+</span>k</pre></td></tr><tr><td data-num="5"></td><td><pre>    k<span class="token operator">=</span>k<span class="token operator">+</span><span class="token number">1</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>sum2<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009172821-rdyglwd.png" alt="image.png"></p><h3 id="break-2"><a class="anchor" href="#break-2">#</a> break</h3><p>如果要提前结束循环，可以用 <code>break</code> 语句</p><h3 id="continue-2"><a class="anchor" href="#continue-2">#</a> continue</h3><p>通过 <code>continue</code> 语句，跳过当前的这次循环，直接开始下一次循环</p><h2 id="生成器-2"><a class="anchor" href="#生成器-2">#</a> 生成器</h2><p>在 Python 中，这种一边循环一边计算的机制，称为生成器：generator。</p><p>包括生成器和带 <code>yield</code> 的 generator function。</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>g <span class="token operator">=</span> <span class="token punctuation">(</span>x <span class="token operator">*</span> x <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012191035-5wbqtm5.png" alt="image.png"></p><p>访问大文件</p><p>yield</p><h2 id="isinstance迭代器-2"><a class="anchor" href="#isinstance迭代器-2">#</a> isinstance（）迭代器</h2><p>直接作用于 <code>for</code> 循环的对象统称为可迭代对象，都是迭代器 Iterable</p><p><code>list</code> 、 <code>tuple</code> 、 <code>dict</code> 、 <code>set</code> 、 <code>str</code></p><p><code>list</code> 、 <code>dict</code> 、 <code>str</code> 虽然是 <code>Iterable</code> ，却不是 <code>Iterator</code> 。</p><p><code>list</code> 、 <code>dict</code> 、 <code>str</code> 等 <code>Iterable</code> 变成 <code>Iterator</code> 可以使用 **iter ()** 函数</p><p>以直接作用于 <code>for</code> 循环的数据类型有以下几种：</p><p>一类是集合数据类型，如 <code>list</code> 、 <code>tuple</code> 、 <code>dict</code> 、 <code>set</code> 、 <code>str</code> 等；</p><p>一类是 <code>generator</code> ，包括生成器和带 <code>yield</code> 的 generator function。</p><p>可以使用 **isinstance ()** 判断一个对象是否是 <code>Iterable</code> 对象__iter__：</p><p>迭代对象</p><p>判断是不是可以迭代，用 Iterable</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">from</span> collections <span class="token keyword">import</span> Iterable</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token builtin">isinstance</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> Iterable<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">True</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token builtin">isinstance</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Iterable<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">True</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token builtin">isinstance</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> Iterable<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">False</span></pre></td></tr></tbody></table></figure><p>判断是不是迭代器，用 Iterator</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">from</span> collections <span class="token keyword">import</span> Iterator</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token builtin">isinstance</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> Iterator<span class="token punctuation">)</span>  <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">False</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token builtin">isinstance</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Iterator<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">False</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token builtin">isinstance</span><span class="token punctuation">(</span> <span class="token punctuation">(</span>x <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Iterator<span class="token punctuation">)</span>  <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">True</span></pre></td></tr></tbody></table></figure><p>Python 中 list，truple，str，dict 这些都可以被迭代，但他们并不是迭代器，为什么：：因为和迭代器相比有一个很大的不同，list/truple/map/dict 这些数据的大小是确定的，也就是说有多少事可知的。但迭代器不是，迭代器不知道要执行多少次，所以可以理解为不知道有多少个元素，每调用一次 next ()，就会往下走一步，是惰性的。</p><h2 id="函数-2"><a class="anchor" href="#函数-2">#</a> 函数</h2><p>抽象</p><p>将函数抽象成一个函数名称，不看内部结构直接调用方法</p><p>返回类型 函数名（输入参数）：</p><p>函数体</p><h3 id="调用函数-2"><a class="anchor" href="#调用函数-2">#</a> 调用函数</h3><p>要调用一个函数，需要知道函数的名称和参数</p><p>绝对值 abs</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012142010-d503sa9.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012142024-cscdoiu.png" alt="image.png"></p><h3 id="定义函数-2"><a class="anchor" href="#定义函数-2">#</a> 定义函数</h3><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">myabs</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">if</span> x<span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        <span class="token keyword">return</span> x</pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">if</span> x<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token keyword">return</span> <span class="token operator">-</span>x</pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>myabs<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012144653-0ds9bc4.png" alt="image.png"></p><h3 id="空函数-2"><a class="anchor" href="#空函数-2">#</a> 空函数</h3><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">nufun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">pass</span></pre></td></tr></tbody></table></figure><p><code>pass</code> 可以用来作为占位符</p><h3 id="函数-参数检查-2"><a class="anchor" href="#函数-参数检查-2">#</a> 函数 参数检查</h3><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">my_init_abs</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">if</span> <span class="token keyword">not</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">,</span><span class="token builtin">float</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        <span class="token keyword">raise</span> TypeError<span class="token punctuation">(</span><span class="token string">'no no no'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">else</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token keyword">if</span> x<span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="6"></td><td><pre>            <span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token keyword">if</span> x<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="8"></td><td><pre>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token operator">-</span>x<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre>my_init_abs<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">90</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012144640-6xnfm9s.png" alt="image.png"></p><h3 id="可返回多个值函数-2"><a class="anchor" href="#可返回多个值函数-2">#</a> 可返回多个值，函数</h3><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">return_much</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    a<span class="token operator">=</span><span class="token string">'返回'</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    b<span class="token operator">=</span><span class="token string">'我也返回'</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    c<span class="token operator">=</span><span class="token string">'我也要返回'</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">return</span> a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c</pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>return_much<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>return_much<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012144955-kyvotx4.png" alt="image.png"></p><h3 id="函数参数-2"><a class="anchor" href="#函数参数-2">#</a> 函数参数</h3><p>*<strong>args 是可变参数，args 接收的是一个 tuple；</strong></p><p>**<strong>kw 是关键字参数，kw 接收的是一个 dict</strong>。</p><p><code>power(x)</code> 函数，参数 <code>x</code> 就是一个位置参数，可单个变量，list，set，tuple</p><p><code>power(*x)</code> 函数，可传入单个变量，list，set，tuple，可以传入任意个参数或 0 个参数</p><p><code>power(**kw)</code> 函数，字典 dict</p><p>可变参数允许你传入 0 个或任意个参数，这些可变参数在函数调用时自动组装为一个 tuple。</p><p>而关键字参数允许你传入 0 个或任意个含参数名的参数，这些关键字参数在函数内部自动组装为一个<strong> dict</strong>.</p><p><code>power(x, n)</code> ，用来计算 x<sup>n</sup></p><p><code>power(x, n)</code> 函数有两个参数： <code>x</code> 和 <code>n</code></p><p>默认参数，此时 age 和 city 为默认参数，可传值改变也可不变【不用传值】</p><p><code>power(L=None)</code> 函数有 None 这个不变对象，可用 list</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">enroll</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> gender<span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">,</span> city<span class="token operator">=</span><span class="token string">'Beijing'</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'name:'</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'gender:'</span><span class="token punctuation">,</span> gender<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'age:'</span><span class="token punctuation">,</span> age<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'city:'</span><span class="token punctuation">,</span> city<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012151610-9n1rxhq.png" alt="image.png"></p><h4 id="必选参数-2"><a class="anchor" href="#必选参数-2">#</a> 必选参数</h4><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">a1</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">return</span> x</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">(</span><span class="token number">12.1</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">(</span><span class="token string">'ruan'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">"key"</span><span class="token punctuation">:</span><span class="token string">"vleaue"</span><span class="token punctuation">,</span><span class="token string">'name'</span><span class="token punctuation">:</span><span class="token string">'ruan'</span><span class="token punctuation">,</span><span class="token string">'mun'</span><span class="token punctuation">:</span><span class="token number">23</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012153014-r27ykfm.png" alt="image.png"></p><h4 id="默认参数-2"><a class="anchor" href="#默认参数-2">#</a> = 默认参数</h4><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">a2</span><span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">return</span> x</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">(</span><span class="token number">12.1</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">(</span><span class="token string">'ruan'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">"key"</span><span class="token punctuation">:</span><span class="token string">"vleaue"</span><span class="token punctuation">,</span><span class="token string">'name'</span><span class="token punctuation">:</span><span class="token string">'ruan'</span><span class="token punctuation">,</span><span class="token string">'mun'</span><span class="token punctuation">:</span><span class="token number">23</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012153014-r27ykfm.png" alt="image.png"></p><h4 id="可变参数-2"><a class="anchor" href="#可变参数-2">#</a> * 可变参数</h4><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">a3</span><span class="token punctuation">(</span><span class="token operator">*</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">return</span> x</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">(</span><span class="token number">12.1</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">(</span><span class="token string">'ruan'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">"key"</span><span class="token punctuation">:</span><span class="token string">"vleaue"</span><span class="token punctuation">,</span><span class="token string">'name'</span><span class="token punctuation">:</span><span class="token string">'ruan'</span><span class="token punctuation">,</span><span class="token string">'mun'</span><span class="token punctuation">:</span><span class="token number">23</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012154346-2eahz0b.png" alt="image.png"></p><h4 id="关键字参数-2"><a class="anchor" href="#关键字参数-2">#</a> ** 关键字参数</h4><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">a3</span><span class="token punctuation">(</span><span class="token operator">**</span>kw<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">return</span> kw</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">(</span>kw<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">(</span>kw<span class="token operator">=</span><span class="token number">12.1</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">(</span>kw<span class="token operator">=</span><span class="token string">'ruan'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">(</span>kw<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">(</span>kw<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>a3<span class="token punctuation">(</span>kw<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">(</span>kw<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>a3<span class="token punctuation">(</span>kw<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">(</span>kw<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">"key"</span><span class="token punctuation">:</span><span class="token string">"vleaue"</span><span class="token punctuation">,</span><span class="token string">'name'</span><span class="token punctuation">:</span><span class="token string">'ruan'</span><span class="token punctuation">,</span><span class="token string">'mun'</span><span class="token punctuation">:</span><span class="token number">23</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012154409-tp9u2z5.png" alt="image.png"></p><h3 id="递归函数-2"><a class="anchor" href="#递归函数-2">#</a> 递归函数</h3><p>在函数内部，可以调用其他函数。</p><p>一个函数在<strong>内部调用自身本身</strong>，这个函数就是<strong>递归函数</strong>。</p><p>使用递归函数需要<strong>注意防止栈溢出</strong></p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token comment">#递归函数</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">def</span> <span class="token function">funmyself</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">if</span> x<span class="token operator">&gt;</span><span class="token number">1</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>        <span class="token keyword">return</span> x<span class="token operator">+</span>funmyself<span class="token punctuation">(</span>x<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">elif</span> x<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        <span class="token keyword">return</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>funmyself<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012155139-884p9as.png" alt="image.png"></p><p>解决栈溢出方法：</p><p><strong>尾递归</strong>优化，事实上尾递归和循环的效果是一样的</p><p>尾递归是指，在函数返回的时候，<strong>调用自身</strong>本身，并且，<strong>return 语句不能包含表达式</strong></p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token comment">#尾递归</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">def</span> <span class="token function">funmyself2</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">return</span>  funmyself2_it<span class="token punctuation">(</span>n<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">def</span>  <span class="token function">funmyself2_it</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span>pro<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">if</span> n<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token keyword">return</span> pro</pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">else</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="9"></td><td><pre>        <span class="token keyword">return</span> funmyself2<span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">+</span>n</pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>funmyself2<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012160333-tngb33o.png" alt="image.png"></p><p>此时 funmyself2 是尾递归函数</p><h2 id="转义字符-2"><a class="anchor" href="#转义字符-2">#</a> 转义字符 <code>\</code></h2><p>转义字符 <code>\</code> 可以转义很多字符，比如</p><p><code>\n</code> 表示换行，</p><p><code>\t</code> 表示制表符，</p><p>字符 <code>\</code> 本身也要转义，所以 <code>\\</code> 表示的字符就是 <code>\</code></p><p>Python 还允许用 <code>r''</code> 表示 <code>''</code> 内部的字符串默认不转义</p><h2 id="运算符and-or和not-2"><a class="anchor" href="#运算符and-or和not-2">#</a> 运算符 and、or 和 not</h2><p>运算优先级：not&gt;or&gt;and</p><h2 id="除法-2"><a class="anchor" href="#除法-2">#</a> 除法 ///</h2><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token operator">/</span><span class="token number">3</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token operator">//</span><span class="token number">3</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><h4 id="除法一-浮点数-2"><a class="anchor" href="#除法一-浮点数-2">#</a> 除法一 / 浮点数</h4><h4 id="除法二-地板除-整数-2"><a class="anchor" href="#除法二-地板除-整数-2">#</a> 除法二 // 地板除 整数</h4><p><code>/</code> 除法计算结果是浮点数，即使是两个整数恰好整除，结果也是浮点数：</p><p><code>//</code> ，称为地板除，两个整数的除法仍然是整数：</p><h2 id="取余-2"><a class="anchor" href="#取余-2">#</a> 取余 %</h2><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token operator">%</span><span class="token number">1</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token operator">%</span><span class="token number">3</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token operator">%</span><span class="token number">7</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">%</span><span class="token number">20</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">#如果 a% b a&gt;b 则结果为 a</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009141744-i2nxg58.png" alt="image.png"></p><h2 id="字符编码-2"><a class="anchor" href="#字符编码-2">#</a> 字符编码</h2><p><code>ASCII</code> 编码</p><p>8 个比特（bit）作为一个字节（byte）</p><p>一个字节能表示的最大的整数就是 255（二进制 11111111 = 十进制 255）</p><p>两个字节可以表示的最大整数是 <code>65535</code> ，4 个字节可以表示的最大整数是 <code>4294967295</code></p><p>大写字母 <code>A</code> 的编码是 <code>65</code> ，二进制的 <code>01000001</code> ，小写字母 <code>z</code> 的编码是 <code>122</code></p><p>Unicode 把所有语言都统一到一套编码里，这样就不会再有乱码问题</p><p>ASCII 编码是 1 个字节，而 Unicode 编码通常是 2 个字节</p><p><strong>ASCll 出现乱码问题引入 Unicode 编码存储空间多了一倍引入 UTF-8 编码</strong></p><p>utf-8：将<strong> Unicode 字符根据不同的数字大小编码成 1-6 个字节，常用的英文字母被编码成 1 个字节，汉字通常是 3 个字节，</strong></p><table><thead><tr><th>字符</th><th>ASCII</th><th>Unicode</th><th>UTF-8</th></tr></thead><tbody><tr><td>A</td><td>01000001</td><td>00000000 01000001</td><td>01000001</td></tr><tr><td>中</td><td>x</td><td>01001110 00101101</td><td>11100100 10111000 10101101</td></tr></tbody></table><p>在计算机内存中，统一使用 Unicode 编码，当需要保存到硬盘或者需要传输的时候，就转换为 UTF-8 编码。</p><p>用记事本编辑的时候，从文件读取的 UTF-8 字符被转换为 Unicode 字符到内存里，编辑完成后，保存的时候再把 Unicode 转换为 UTF-8 保存到文件</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009142650-uopgqob.png" alt="image.png"></p><p>浏览网页的时候，服务器会把动态生成的 Unicode 内容转换为 UTF-8 再传输到浏览器：</p><p><img data-src="https://www.liaoxuefeng.com/files/attachments/923923759189600/0" alt="web-utf-8"></p><h4 id="compile-字符串编译为字节代码-2"><a class="anchor" href="#compile-字符串编译为字节代码-2">#</a> compile () 字符串编译为字节代码</h4><h4 id="编码转化-2"><a class="anchor" href="#编码转化-2">#</a> 编码转化</h4><h4 id="orda-字母转字符-2"><a class="anchor" href="#orda-字母转字符-2">#</a> ord ('A') 字母转字符</h4><h4 id="chr65-字符转字母-2"><a class="anchor" href="#chr65-字符转字母-2">#</a> chr (65) 字符转字母</h4><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>a<span class="token operator">=</span><span class="token builtin">ord</span><span class="token punctuation">(</span><span class="token string">'A'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre>b<span class="token operator">=</span><span class="token builtin">chr</span><span class="token punctuation">(</span><span class="token number">65</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009144810-rm45nsz.png" alt="image.png"></p><h4 id="bstr转为字节类型bytes-2"><a class="anchor" href="#bstr转为字节类型bytes-2">#</a> b'str' 转为字节类型 bytes</h4><p><code>bytes</code> 类型的数据用带 <code>b</code> 前缀的单引号或双引号表示</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>x <span class="token operator">=</span> <span class="token string">b'ABC'</span></pre></td></tr></tbody></table></figure><p>要注意区分 <code>'ABC'</code> 和 <code>b'ABC'</code> ，前者是 <code>str</code> ，后者虽然内容显示得和前者一样，但 <code>bytes</code> 的每个字符都只占用一个字节。</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009145112-3dmegln.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009150224-kn57ioe.png" alt="image.png"></p><h4 id="strencodeascii-str-变为-bytes-2"><a class="anchor" href="#strencodeascii-str-变为-bytes-2">#</a> str.encode('ascii') <code>str</code> 变为 <code>bytes</code></h4><p><code>ASCII</code></p><p><code>UTF-8</code></p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009150118-wy36xea.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009150204-81jvyjd.png" alt="image.png"></p><h4 id="strdecodeutf-8bytes变为-str-2"><a class="anchor" href="#strdecodeutf-8bytes变为-str-2">#</a> str.decode('utf-8') <code>bytes</code> 变为 <code>str</code></h4><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span><span class="token string">b'abc'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">b'abc'</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span><span class="token string">b'abc'</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009150844-zvt6jkv.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009150746-31uq63m.png" alt="image.png"></p><p>len（str）计算字符数</p><p>函数计算的是 <code>str</code> 的字符数，如果换成 <code>bytes</code> ， <code>len()</code> 函数就计算字节数</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span><span class="token string">'abc'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span><span class="token string">b'abc'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span><span class="token string">'中'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span><span class="token string">'中'</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009151234-rhao6fv.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009151321-6k73tn8.png" alt="image.png"></p><h2 id="特殊注释-2"><a class="anchor" href="#特殊注释-2">#</a> 特殊注释</h2><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token comment">#!/usr/bin/env python3</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment"># -*- coding: utf-8 -*-</span></pre></td></tr></tbody></table></figure><p>第一行注释是为了告诉 Linux/OS X 系统，这是一个 Python 可执行程序，<strong>Windows 系统会忽略这个注释</strong>；</p><p>第二行注释是为了告诉 Python 解释器，<strong>按照 UTF-8 编码读取源代码</strong>，否则，你在源代码中写的中文输出可能会有乱码。</p><h2 id="占位符-格式化-2"><a class="anchor" href="#占位符-格式化-2">#</a> 占位符 格式化</h2><h3 id="占位符s-d-f-2"><a class="anchor" href="#占位符s-d-f-2">#</a> 占位符 % s % d % f</h3><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009152324-rmac8lz.png" alt="image.png"></p><p>格式化方式和 C 语言是一致</p><p><code>%</code> 运算符就是用来格式化字符串的。</p><p>在字符串内部，</p><p><code>%s</code> 表示用字符串替换，</p><p><code>%d</code> 表示用整数替换，</p><p>有几个 <code>%?</code> 占位符，后面就跟几个变量或者值，顺序要对应好。如果只有一个 <code>%?</code> ，括号可以省略</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009152708-zy7vi8x.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009152722-wq5flos.png" alt="image.png"></p><table><thead><tr><th>占位符</th><th>替换内容</th></tr></thead><tbody><tr><td>%d</td><td>整数</td></tr><tr><td>%f</td><td>浮点数</td></tr><tr><td>%s</td><td>字符串</td></tr><tr><td>%x</td><td>十六进制整数</td></tr></tbody></table><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009153422-r1s8f5z.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009153433-1uhb1w3.png" alt="image.png"></p><p>转义： <code>%%</code> 来表示一个 <code>%</code></p><h3 id="format格式化字符串-2"><a class="anchor" href="#format格式化字符串-2">#</a> format（）格式化字符串</h3><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009154141-a3v7tnj.png" alt="image.png"></p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009154153-o6u9yd7.png" alt="image.png"></p><h3 id="f-string-格式化字符串-2"><a class="anchor" href="#f-string-格式化字符串-2">#</a> f-string 格式化字符串</h3><p><code>{r}</code> 被变量 <code>r</code> 的值替换， <code>{s:.2f}</code> 被变量 <code>s</code> 的值替换，并且 <code>:</code> 后面的 <code>.2f</code> 指定了格式化参数（即保留两位小数），因此， <code>{s:.2f}</code> 的替换结果是 <code>19.62</code></p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009154406-qahm3f7.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009154432-m2z0xx5.png" alt="image.png"></p><h2 id="函数式编程-2"><a class="anchor" href="#函数式编程-2">#</a> 函数式编程</h2><p>函数是 Python 内建支持的一种封装，通过层层函数进行调用</p><p>#面向过程的程序设计 #：把复杂任务分解成简单的任务，这种分解可以称之为面向过程的程序设计</p><p>函数式和函数的区别：</p><p>对比例子：计算和计算器的区别</p><p>编程语言，就是越低级的语言，越贴近计算机，抽象程度低，执行效率高，比如 C 语言；越高级的语言，越贴近计算，抽象程度高，执行效率低，比如 Lisp 语言</p><p>Python 不是纯函数式编程语言</p><p>函数式编程就是一种抽象程度很高的编程范式，</p><p>纯粹的函数式编程语言编写的<strong>函数没有变量</strong>，因此，任意一个函数，<strong>只要输入是确定的，输出就是确定的</strong></p><h3 id="函数式编程特点-2"><a class="anchor" href="#函数式编程特点-2">#</a> 函数式编程特点：</h3><ol><li>纯函数式编程语言函数没有变量，输入输出确定</li><li>允许本身作为参数传入另一个函数，允许返回一个函数</li></ol><h2 id="高阶函数-2"><a class="anchor" href="#高阶函数-2">#</a> 高阶函数</h2><p>参数中有函数</p><p>高阶函数除了可以接受函数作为参数外，还可以把函数作为结果值返回</p><h3 id="变量可以指向函数-2"><a class="anchor" href="#变量可以指向函数-2">#</a> 变量可以指向函数</h3><p>a = 函数</p><p>求绝对值的函数 <code>abs()</code> 为例</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">abs</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">abs</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211019114343-h6egecv.png" alt="image.png"></p><p>abs（-10）是函数调用，abs 是函数本身</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>k<span class="token operator">=</span><span class="token builtin">abs</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">#函数本身也可以赋值给变量</span></pre></td></tr><tr><td data-num="4"></td><td><pre>h<span class="token operator">=</span><span class="token builtin">abs</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>h<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211019114757-z778j3c.png" alt="image.png"></p><p>结论：函数本身也可以赋值给变量，即：# 变量可以指向函数。#</p><h3 id="函数名也是变量-2"><a class="anchor" href="#函数名也是变量-2">#</a> 函数名也是变量</h3><p>#函数名 #：<strong>其实就是指向函数的变量</strong></p><p>a () 中 a 是指向函数 a（）的变量</p><h3 id="传入函数-2"><a class="anchor" href="#传入函数-2">#</a> 传入函数</h3><p>既然变量可以指向函数，函数的参数能接收变量，那么一个函数就可以接收另一个函数作为参数，这种函数就称之为高阶函数。</p><p>#高阶函数 #：<strong>一个函数就可以接收另一个函数作为参数</strong></p><p>b()</p><p>a(b)</p><p>x=a</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">return</span> <span class="token builtin">abs</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">def</span> <span class="token function">a</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>f<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">return</span> f<span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token operator">+</span>f<span class="token punctuation">(</span>b<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    a1<span class="token operator">=</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    a2<span class="token operator">=</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">(</span>a1<span class="token punctuation">,</span>a2<span class="token punctuation">,</span>f<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211019115835-q2esytb.png" alt="image.png"></p><p>此时函数 a 为高阶函数，需要调用 f 函数作为参数</p><h2 id="mapreduce-内建函数-2"><a class="anchor" href="#mapreduce-内建函数-2">#</a> map/reduce 内建函数</h2><p>内建了 <code>map()</code> 和 <code>reduce()</code> 函数 高阶函数</p><h3 id="map函数处理生成新iterator迭代器-2"><a class="anchor" href="#map函数处理生成新iterator迭代器-2">#</a> map（）函数处理生成新 Iterator 迭代器</h3><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211019131933-ut47b16.png" alt="image.png"> 两个参数，函数名【函数本身】，需要处理的编程式 iterator</p><p><code>&lt;br /&gt;</code> 创建一个迭代器，使用每个迭代器中的参数计算函数。当最短迭代用尽时停止。</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token builtin">map</span><span class="token punctuation">(</span>func<span class="token punctuation">,</span> <span class="token operator">*</span>iterables<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">map</span> <span class="token builtin">object</span></pre></td></tr></tbody></table></figure><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">return</span> x<span class="token operator">*</span>x</pre></td></tr><tr><td data-num="3"></td><td><pre>r<span class="token operator">=</span><span class="token builtin">map</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211019133740-kxaifya.png" alt="image.png"></p><p>运算规则抽象</p><h3 id="reduce函数作用在序列上-2"><a class="anchor" href="#reduce函数作用在序列上-2">#</a> reduce（）函数作用在序列上</h3><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211019142951-sxqvxp4.png" alt="image.png"></p><p>两个参数，函数名【函数本身】，需要处理的 #序列 #： sequence (序列) 是一组有顺序的元素的集合</p><p>序列基本样式 [下限：上限：步长]</p><p><code>reduce</code> 把结果继续和序列的下一个元素做累积计算</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token builtin">reduce</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span> <span class="token punctuation">[</span>x1<span class="token punctuation">,</span> x2<span class="token punctuation">,</span> x3<span class="token punctuation">,</span> x4<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=</span> f<span class="token punctuation">(</span>f<span class="token punctuation">(</span>f<span class="token punctuation">(</span>x1<span class="token punctuation">,</span> x2<span class="token punctuation">)</span><span class="token punctuation">,</span> x3<span class="token punctuation">)</span><span class="token punctuation">,</span> x4<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">from</span> functools <span class="token keyword">import</span> <span class="token builtin">reduce</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">def</span> <span class="token function">fn</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">return</span> x <span class="token operator">*</span> <span class="token number">10</span> <span class="token operator">+</span> y</pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">reduce</span><span class="token punctuation">(</span>fn<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token number">13579</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211019142820-4tlrn7x.png" alt="image.png"></p><h2 id="filter过滤序列-2"><a class="anchor" href="#filter过滤序列-2">#</a> filter () 过滤序列</h2><p>参数和 map（）相似</p><p><code>filter()</code> 也接收一个函数和一个序列</p><h2 id="sorted排序-2"><a class="anchor" href="#sorted排序-2">#</a> sorted（）排序</h2><p>高阶函数<img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211020184319-dzvm55o.png" alt="image.png"></p><p>参数：排序对象，key = 函数</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>sorted<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">36</span>, <span class="token number">5</span>, -12, <span class="token number">9</span>, -21<span class="token punctuation">]</span>, <span class="token assign-left variable">key</span><span class="token operator">=</span>abs<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p>排序的核心是比较两个元素的大小</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>print<span class="token punctuation">(</span>sorted<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1,2</span>,353,6,3,234,43,435<span class="token punctuation">]</span><span class="token punctuation">))</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211020184421-43dcfax.png" alt="image.png"></p><p>key 指定绝对值大小排序</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>print<span class="token punctuation">(</span>sorted<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1,2</span>,353,6,3,234,43,435,-242,-34,34,35<span class="token punctuation">]</span>,key<span class="token operator">=</span>abs<span class="token punctuation">))</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211020184629-q7j7zxx.png" alt="image.png"></p><h2 id="返回函数-2"><a class="anchor" href="#返回函数-2">#</a> 返回函数</h2><h3 id="函数作为返回值-2"><a class="anchor" href="#函数作为返回值-2">#</a> 函数作为返回值</h3><p>高阶函数除了可以接受函数作为参数外，还可以把函数作为结果值返回</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token comment"># 如果不需要立刻求和，而是在后面的代码中，</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment"># 根据需要再计算怎么办？可以不返回求和的结果，而是返回求和的函数：</span></pre></td></tr><tr><td data-num="3"></td><td><pre>def zary_sum<span class="token punctuation">(</span>a<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="4"></td><td><pre>    def sum<span class="token punctuation">(</span><span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token assign-left variable">sum1</span><span class="token operator">=</span><span class="token number">0</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        <span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> a:</pre></td></tr><tr><td data-num="7"></td><td><pre>            <span class="token assign-left variable">sum1</span><span class="token operator">=</span>sum1+i</pre></td></tr><tr><td data-num="8"></td><td><pre>        <span class="token builtin class-name">return</span> sum1</pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token builtin class-name">return</span> <span class="token function">sum</span></pre></td></tr><tr><td data-num="10"></td><td><pre>print<span class="token punctuation">(</span>type<span class="token punctuation">(</span>zary_sum<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1,2</span>,3,4<span class="token punctuation">]</span><span class="token punctuation">))</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token assign-left variable">f</span><span class="token operator">=</span>zary_sum<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1,2</span>,3,4<span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre>print<span class="token punctuation">(</span>f<span class="token punctuation">(</span><span class="token punctuation">))</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211021100621-oot0dd6.png" alt="image.png"></p><p>调用返回函数时，每次调用都会新生成一个函数</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211021100747-ho01xzp.png" alt="image.png"></p><h2 id="闭包-2"><a class="anchor" href="#闭包-2">#</a> 闭包</h2><p>当一个函数的返回值是另外一个函数，</p><p>而返回的那个函数如果调用了其父函数内部的其它变量，如果 <strong>返回的这个函数在外部被执行，就产生了闭包</strong> 。</p><p><strong>返回函数中，返回的函数调用父函数的内部变量</strong></p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211021100950-gl5liu8.png" alt="image.png"></p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token comment">#返回函数</span></pre></td></tr><tr><td data-num="2"></td><td><pre>def count<span class="token punctuation">(</span><span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token assign-left variable">fs</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">1,4</span><span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="5"></td><td><pre>        def f<span class="token punctuation">(</span><span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="6"></td><td><pre>            <span class="token builtin class-name">return</span> i*i</pre></td></tr><tr><td data-num="7"></td><td><pre>        fs.append<span class="token punctuation">(</span>f<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token builtin class-name">return</span> fs</pre></td></tr><tr><td data-num="9"></td><td><pre>f1,f2,f3<span class="token operator">=</span>count<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre>print<span class="token punctuation">(</span>f1<span class="token punctuation">(</span><span class="token punctuation">)</span>,f2<span class="token punctuation">(</span><span class="token punctuation">)</span>,f3<span class="token punctuation">(</span><span class="token punctuation">))</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211021103727-wtd0kdc.png" alt="image.png"></p><p>返回一个函数时，牢记该函数并未执行，返回函数中不要引用任何可能会变化的变量。</p><h2 id="lambda匿名函数-2"><a class="anchor" href="#lambda匿名函数-2">#</a> lambda（）匿名函数</h2><p>lambda 关键字 函数参数：函数表达式</p><p>传入函数时，有些时候，不需要显式地定义函数</p><p>Python 对匿名函数的支持有限，只有一些简单的情况下可以使用匿名函数。</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>lambda x:x*x</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">#等价于</span></pre></td></tr><tr><td data-num="3"></td><td><pre>def f<span class="token punctuation">(</span>x<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="4"></td><td><pre>   <span class="token builtin class-name">return</span> x*x</pre></td></tr></tbody></table></figure><p>关键字 <code>lambda</code> 表示匿名函数，冒号前面的 <code>x</code> 表示函数参数，只能一个表达式</p><p>不用写 <code>return</code> ，返回值就是该表达式的结果。</p><p>匿名函数也是一个函数对象</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token assign-left variable">f</span><span class="token operator">=</span>lamdba x:x*x</pre></td></tr></tbody></table></figure><p>判断奇数函数</p><p>原函数：</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>def is_odd<span class="token punctuation">(</span>n<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token builtin class-name">return</span> n % <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre>L <span class="token operator">=</span> list<span class="token punctuation">(</span>filter<span class="token punctuation">(</span>is_odd, range<span class="token punctuation">(</span><span class="token number">1</span>, <span class="token number">20</span><span class="token punctuation">))</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p>采用匿名函数修改</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token assign-left variable">l</span><span class="token operator">=</span>list<span class="token punctuation">(</span>filter<span class="token punctuation">(</span>lambda x:x%2<span class="token operator">==</span><span class="token number">1</span>,range<span class="token punctuation">(</span><span class="token number">1,20</span><span class="token punctuation">))</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre>print<span class="token punctuation">(</span>l<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211021143505-wbqh836.png" alt="image.png"></p><h2 id="装饰器-decorator-2"><a class="anchor" href="#装饰器-decorator-2">#</a> 装饰器 Decorator</h2><h3 id="本质上装饰器就是一个返回函数的高阶函数-2"><a class="anchor" href="#本质上装饰器就是一个返回函数的高阶函数-2">#</a> 本质上，装饰器就是一个返回函数的高阶函数</h3><p>@log 等价于</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>now <span class="token operator">=</span> log<span class="token punctuation">(</span>now<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p>由于函数也是一个对象，而且函数对象可以被赋值给变量，</p><p>所以，通过变量也能调用该函数</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211022101101-ncgju0i.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211022101111-tgdwt0q.png" alt="image.png"></p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>def log<span class="token punctuation">(</span>func<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="2"></td><td><pre>    def wrapper<span class="token punctuation">(</span>*args,**kwargs<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="3"></td><td><pre>        print<span class="token punctuation">(</span><span class="token string">'call %s'</span>% func.__name__<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre>        <span class="token builtin class-name">return</span> func<span class="token punctuation">(</span>*args,**kwargs<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token builtin class-name">return</span> wrapper<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">#func 为参数所以是高阶函数</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">#return 函数所以是返回函数，</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token comment">#没有调用父函数中参数，所以不是闭包</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211022110733-h27x1zh.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211022110058-zyo7xpn.png" alt="image.png"></p><p>场景注意：</p><p>无 @装饰器时函数不调用，需要参数才调用</p><p>当 @时会直接调用装饰器定义函数然后执行函数，不用调用函数</p><p>三层时，传入参数</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>def log1<span class="token punctuation">(</span>text<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="2"></td><td><pre>    def decorator<span class="token punctuation">(</span>func<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="3"></td><td><pre>        def wapper<span class="token punctuation">(</span>*args,**kw<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="4"></td><td><pre>            print<span class="token punctuation">(</span><span class="token string">'%s %s'</span>%<span class="token punctuation">(</span>text,func.__name__<span class="token punctuation">))</span></pre></td></tr><tr><td data-num="5"></td><td><pre>            <span class="token builtin class-name">return</span> func<span class="token punctuation">(</span>*args,**kw<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        <span class="token builtin class-name">return</span> wapper</pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token builtin class-name">return</span> decorator</pre></td></tr><tr><td data-num="8"></td><td><pre>@log1<span class="token punctuation">(</span><span class="token string">'ruan'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre>def now3<span class="token punctuation">(</span><span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="10"></td><td><pre>    print<span class="token punctuation">(</span><span class="token string">"hhh"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre>now3<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p>相当于在返回高阶函数上还有一个函数，所以返回时应该还要调用一次</p><h2 id="wraps-常用装饰器-2"><a class="anchor" href="#wraps-常用装饰器-2">#</a> @wraps 常用装饰器</h2><p>当装饰器是个闭包时，装饰器调用变量会改变增加 @wraps 后装饰器内的变量不变</p><p>装饰器在装饰一个函数时，，原函数就成了一个新的函数，也</p><p>就是说其属性会发生变化，所以为了 <strong>不改变原函数的属性</strong>，</p><p>我们会调用 functools 中的 wraps 装饰器来保证原函数的属性不变</p><h4 id="不加wraps时-2"><a class="anchor" href="#不加wraps时-2">#</a> 不加 wraps 时</h4><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>@wraps<span class="token punctuation">(</span>func<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>from functools <span class="token function">import</span> wraps</pre></td></tr><tr><td data-num="2"></td><td><pre>def wrap<span class="token punctuation">(</span>func<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="3"></td><td><pre>   </pre></td></tr><tr><td data-num="4"></td><td><pre>    def b<span class="token punctuation">(</span><span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token string">'b'</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        print<span class="token punctuation">(</span><span class="token string">'decorator:'</span>,b.__name__<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        print<span class="token punctuation">(</span><span class="token string">'funname'</span>,func.__name__<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre>        func<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token builtin class-name">return</span> b</pre></td></tr><tr><td data-num="10"></td><td><pre>@wrap</pre></td></tr><tr><td data-num="11"></td><td><pre>def a<span class="token punctuation">(</span><span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token string">'a'</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    print<span class="token punctuation">(</span><span class="token string">'name'</span>,a.__name__<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre>a<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211022115935-kgsz7b2.png" alt="image.png"></p><p>加装饰器 wraps 时</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>from functools <span class="token function">import</span> wraps</pre></td></tr><tr><td data-num="2"></td><td><pre>def wrap<span class="token punctuation">(</span>func<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="3"></td><td><pre>    @wraps<span class="token punctuation">(</span>func<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    def b<span class="token punctuation">(</span><span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token string">'b'</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        print<span class="token punctuation">(</span><span class="token string">'decorator:'</span>,b.__name__<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        print<span class="token punctuation">(</span><span class="token string">'funname'</span>,func.__name__<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre>        func<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token builtin class-name">return</span> b</pre></td></tr><tr><td data-num="10"></td><td><pre>@wrap</pre></td></tr><tr><td data-num="11"></td><td><pre>def a<span class="token punctuation">(</span><span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token string">'a'</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    print<span class="token punctuation">(</span><span class="token string">'name'</span>,a.__name__<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre>a<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211022115950-2j3i7ht.png" alt="image.png"></p><p>闭包的概念：调用父函数中的变量的函数，为了保证数据安全。变量作用域只在函数内部，可在闭包中操作数据。</p><p>装饰器返回为什么是函数名（函数内存地址）而不直接执行函数？</p><p>当有参数传入时，可直接与调用的函数中的值传入参数执行。</p><p>（）是运算符 f () 与 f.<strong>call</strong> () 等价：将 f 对象变成变成可调用的对象</p><h2 id="偏函数functools模块-2"><a class="anchor" href="#偏函数functools模块-2">#</a> 偏函数（functools 模块）</h2><p>属于 functools 模块</p><h3 id="作用-3"><a class="anchor" href="#作用-3">#</a> 作用：</h3><p>通过设定参数的默认值，降低函数调用的参数</p><p><code>int()</code> 函数默认按十进制转换</p><p>print(int('100',base=8))</p><p>经常调用于是重写一个函数 int2</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>def int2<span class="token punctuation">(</span>x, <span class="token assign-left variable">base</span><span class="token operator">=</span><span class="token number">8</span><span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="2"></td><td><pre>    print<span class="token punctuation">(</span>int<span class="token punctuation">(</span>x, base<span class="token punctuation">))</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token builtin class-name">return</span> int<span class="token punctuation">(</span>x, base<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre>print<span class="token punctuation">(</span>int2<span class="token punctuation">(</span><span class="token string">'2334'</span><span class="token punctuation">))</span></pre></td></tr></tbody></table></figure><p>采用偏函数</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token function">import</span> functools</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token assign-left variable">int3</span><span class="token operator">=</span>functools.partial<span class="token punctuation">(</span>int,base<span class="token operator">=</span><span class="token number">8</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>print<span class="token punctuation">(</span>int3<span class="token punctuation">(</span><span class="token string">'46'</span><span class="token punctuation">))</span></pre></td></tr><tr><td data-num="4"></td><td><pre>print<span class="token punctuation">(</span>int<span class="token punctuation">(</span><span class="token punctuation">))</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211028103219-mdbldp6.png" alt="image.png"></p><p>functools.partial 的作用是将函数的特定参数固定住（设定为默认值）</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211028103645-7po81oc.png" alt="image.png"></p><p>创建偏函数的时候也可以接收，函数对象，*args，**kw</p><h2 id="模块-2"><a class="anchor" href="#模块-2">#</a> 模块</h2><p>python 包：作用区分相同名称的模块</p><p>模块相当于一个 py 文件</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211028105055-2xv0z2i.png" alt="image.png"></p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211028105133-tkzgcka.png" alt="image.png"></p><h2 id="作用域-2"><a class="anchor" href="#作用域-2">#</a> 作用域</h2><p>仅仅在模块内部使用。在 Python 中，是通过 <code>_</code> 前缀来实现的。</p><h3 id="pubilc公开-2"><a class="anchor" href="#pubilc公开-2">#</a> pubilc 公开</h3><p>正常的函数和变量名是公开的（public）</p><h3 id="private非公开___-2"><a class="anchor" href="#private非公开___-2">#</a> private 非公开_,__</h3><p>_xxx 和__xxx 这样的函数或变量就是非公开的（private）</p><h2 id="安装第三方模块pip-2"><a class="anchor" href="#安装第三方模块pip-2">#</a> 安装第三方模块 pip</h2><p>pip install 模块名</p><h3 id="模块搜索路径-2"><a class="anchor" href="#模块搜索路径-2">#</a> 模块搜索路径</h3><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token function">import</span> sys</pre></td></tr><tr><td data-num="2"></td><td><pre>print<span class="token punctuation">(</span>sys.path<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p>两种方式：</p><ol><li>添加搜索路径<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token function">import</span> sys</pre></td></tr><tr><td data-num="2"></td><td><pre>sys.path.append<span class="token punctuation">(</span><span class="token string">'/Users/michael/my_py_scripts'</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure></li><li>设置环境变量</li></ol><p>第二种方法是设置环境变量 <code>PYTHONPATH</code></p><h2 id="面向对象编程-2"><a class="anchor" href="#面向对象编程-2">#</a> 面向对象编程</h2><p>面向对象编程 ——Object Oriented Programming，简称 OOP，是一种程序设计思想</p><p>对象作为程序的基本单元，</p><p>一个对象包含了数据和操作数据的函数</p><p>数据封装、继承和多态是面向对象的三大特点</p><h2 id="类和实例-2"><a class="anchor" href="#类和实例-2">#</a> 类和实例</h2><p>面向对象最重要的概念就是类（Class）和实例（Instance）</p><p>类是抽象出来的模板</p><p>实例是根据类创建出的对象，每个对象可能有属性和方法</p><p>定义类是通过 <code>class</code> 关键字，类名通常是大写开头的单词</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>class Student<span class="token punctuation">(</span>object<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="2"></td><td><pre>    pass</pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211028113324-1nch2o5.png" alt="image.png"></p><p>！！！在类中定义函数有一点不同，定义佛如方法第一个参数永远是实例变量本身 self</p><p>仍然可以用默认参数、可变参数、关键字参数和命名关键字参数</p><h2 id="数据封装-2"><a class="anchor" href="#数据封装-2">#</a> 数据封装</h2><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>class Student<span class="token punctuation">(</span>object<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="2"></td><td><pre>    def __init__<span class="token punctuation">(</span>self, name, score<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="3"></td><td><pre>        self.name <span class="token operator">=</span> name</pre></td></tr><tr><td data-num="4"></td><td><pre>        self.score <span class="token operator">=</span> score</pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre>    def get_grade<span class="token punctuation">(</span>self<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token keyword">if</span> self.score <span class="token operator">&gt;</span><span class="token operator">=</span> <span class="token number">90</span>:</pre></td></tr><tr><td data-num="8"></td><td><pre>            <span class="token builtin class-name">return</span> <span class="token string">'A'</span></pre></td></tr><tr><td data-num="9"></td><td><pre>        <span class="token keyword">elif</span> self.score <span class="token operator">&gt;</span><span class="token operator">=</span> <span class="token number">60</span>:</pre></td></tr><tr><td data-num="10"></td><td><pre>            <span class="token builtin class-name">return</span> <span class="token string">'B'</span></pre></td></tr><tr><td data-num="11"></td><td><pre>        else:</pre></td></tr><tr><td data-num="12"></td><td><pre>            <span class="token builtin class-name">return</span> <span class="token string">'C'</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211028113713-vhhvowi.png" alt="image.png"></p><h2 id="访问限制-2"><a class="anchor" href="#访问限制-2">#</a> 访问限制</h2><h3 id="作用-4"><a class="anchor" href="#作用-4">#</a> 作用：</h3><p><strong>确保了外部代码不能随意修改对象内部的状态</strong></p><p>实例的变量名如果以 <code>__</code> 开头，就变成了一个私有变量（private）</p><p>外部无法访问_name</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>class Student<span class="token punctuation">(</span>object<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="2"></td><td><pre>    def __init__<span class="token punctuation">(</span>self,name,age<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="3"></td><td><pre>        self._name<span class="token operator">=</span>name</pre></td></tr><tr><td data-num="4"></td><td><pre>        self.age<span class="token operator">=</span>age</pre></td></tr><tr><td data-num="5"></td><td><pre>    def print_name<span class="token punctuation">(</span>self<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="6"></td><td><pre>        print<span class="token punctuation">(</span>self._name<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token builtin class-name">return</span> self.age,self._name</pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token assign-left variable">a</span><span class="token operator">=</span>Student<span class="token punctuation">(</span><span class="token string">'ruan'</span>,23<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token assign-left variable">h</span><span class="token operator">=</span>a.print_name<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre>print<span class="token punctuation">(</span>h<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211028114732-awu2k2m.png" alt="image.png"></p><p>若是要获取，修改变量增加 get，set 方式即可</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>class Student<span class="token punctuation">(</span>object<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="2"></td><td><pre>    def __init__<span class="token punctuation">(</span>self,name,age<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="3"></td><td><pre>        self._name<span class="token operator">=</span>name</pre></td></tr><tr><td data-num="4"></td><td><pre>        self.age<span class="token operator">=</span>age </pre></td></tr><tr><td data-num="5"></td><td><pre>    def get_name<span class="token punctuation">(</span>self<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="6"></td><td><pre>        <span class="token builtin class-name">return</span> self.name</pre></td></tr><tr><td data-num="7"></td><td><pre>    def set_name<span class="token punctuation">(</span>self,name<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="8"></td><td><pre>        self._name<span class="token operator">=</span>name</pre></td></tr></tbody></table></figure><p>Python 本身没有任何机制阻止你干坏事，一切全靠自觉。</p><p>类外部无法访问</p><h2 id="继承和多态-2"><a class="anchor" href="#继承和多态-2">#</a> 继承和多态</h2><h3 id="继承-2"><a class="anchor" href="#继承-2">#</a> 继承</h3><h4 id="多态-2"><a class="anchor" href="#多态-2">#</a> 多态</h4><p>在继承关系中，如果一个实例的数据类型是某个子类，那它的数据类型也可以被看做是父类。</p><p>比如：动物是父类，狗和鱼是子类；鱼是鱼类，鱼是动物都成立。</p><p>判断一个变量是否是某个类型可以用 <code>isinstance()</code> 判断</p><h3 id="鸭子类型-2"><a class="anchor" href="#鸭子类型-2">#</a> 鸭子类型</h3><p>并不要求严格的继承体，一个对象只要 “看起来像鸭子，走起路来像鸭子”，那它就可以被看做是鸭子。</p><h2 id="获取对象信息-2"><a class="anchor" href="#获取对象信息-2">#</a> 获取对象信息</h2><h3 id="type判断对象类型-2"><a class="anchor" href="#type判断对象类型-2">#</a> type（）判断对象类型</h3><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211102183643-gwgjuho.png" alt="image.png"></p><h3 id="isinstance对于继承关系判断class的类型-2"><a class="anchor" href="#isinstance对于继承关系判断class的类型-2">#</a> isinstance () 对于继承关系，判断 class 的类型</h3><h3 id="dir获取对象的所有属性和方法-2"><a class="anchor" href="#dir获取对象的所有属性和方法-2">#</a> dir（）获取对象的所有属性和方法</h3><h4 id="len对象长度-2"><a class="anchor" href="#len对象长度-2">#</a> len（）对象长度</h4><h4 id="lower返回小写的字符串-2"><a class="anchor" href="#lower返回小写的字符串-2">#</a> lower（）返回小写的字符串</h4><h4 id="getattr获取属性a-2"><a class="anchor" href="#getattr获取属性a-2">#</a> getattr（）获取属性 a</h4><h4 id="setattr设置属性a-2"><a class="anchor" href="#setattr设置属性a-2">#</a> setattr（）设置属性 a</h4><h4 id="hasattrobja判断是否有属性a-2"><a class="anchor" href="#hasattrobja判断是否有属性a-2">#</a> hasattr（obj,'a'）判断是否有属性 a</h4><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>getattr<span class="token punctuation">(</span>obj, <span class="token string">'z'</span>, <span class="token number">404</span><span class="token punctuation">)</span> <span class="token comment"># 获取属性 'z'，如果不存在，返回默认值 404</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token number">404</span></pre></td></tr></tbody></table></figure><h2 id="实例属性和类属性-2"><a class="anchor" href="#实例属性和类属性-2">#</a> 实例属性和类属性</h2><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211102184822-83nvy25.png" alt="image.png"></p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>class Student<span class="token punctuation">(</span>object<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token string">'ruan'</span></pre></td></tr><tr><td data-num="3"></td><td><pre>   </pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token assign-left variable">h</span><span class="token operator">=</span>Student<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre>h.name<span class="token operator">=</span><span class="token string">'hhh'</span></pre></td></tr></tbody></table></figure><p>类中的 name 是类属性，</p><p>创建 h 类对象即实例后赋值的是实例属性 name，但由于实例对象的优先级比类属性高，会屏蔽类中的 name 属性，即 h.name 的值为 hhh</p><h3 id="总结-4"><a class="anchor" href="#总结-4">#</a> 总结：</h3><ol><li>实例属性属于各个实例所有，互不干扰；</li><li>类属性属于类所有，所有实例共享一个属性；</li><li>不要对实例属性和类属性使用相同的名字，否则将产生难以发现的错误</li></ol><h1 id="面向对象高级编程-2"><a class="anchor" href="#面向对象高级编程-2">#</a> 面向对象高级编程</h1><p>数据封装、继承和多态只是面向对象程序设计中最基础的 3 个概念</p><p>多重继承、定制类、元类</p><h1 id="_slots_使用-2"><a class="anchor" href="#_slots_使用-2">#</a> _slots_使用</h1><p>可以给创建的实例绑定属性和方法</p><p>给一个实例绑定的方法对另外一个实例对象是不起作用的</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>class A:</pre></td></tr><tr><td data-num="2"></td><td><pre>    def run<span class="token punctuation">(</span>self<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="3"></td><td><pre>        print<span class="token punctuation">(</span><span class="token string">"i im ferther runing...."</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token assign-left variable">sun1</span><span class="token operator">=</span>A<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">#给实例 sun1 设置 name 属性</span></pre></td></tr><tr><td data-num="6"></td><td><pre>sun1.name<span class="token operator">=</span><span class="token string">'i im name'</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">#创建实例对象 2</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token assign-left variable">sun2</span><span class="token operator">=</span>A<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment">#实例对象 sun1 的属性和 sun2 无关，即 sun2 没有 name 属性</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token comment">#给实例 sun1 绑定方法，方法和属性同理</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment">#定义方法</span></pre></td></tr><tr><td data-num="12"></td><td><pre>def setAll<span class="token punctuation">(</span>self,num<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="13"></td><td><pre>    print<span class="token punctuation">(</span>num<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre>sun1.newfun<span class="token operator">=</span>MethodType<span class="token punctuation">(</span>setAll, sun1<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="15"></td><td><pre>sun1.newfun<span class="token punctuation">(</span><span class="token number">37</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token comment">#若所有实例都需要绑定方法则给类绑定方法</span></pre></td></tr><tr><td data-num="17"></td><td><pre>A.setAll<span class="token operator">=</span>setAll</pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token comment">#给类绑定方法后，所有创建的实例的均可调用</span></pre></td></tr></tbody></table></figure><pre><code>def set_age(self, age): # 定义一个函数作为实例方法
...     self.age = age
...
&gt;&gt;&gt; from types import MethodType
&gt;&gt;&gt; s.set_age = MethodType(set_age, s) # 给实例绑定一个方法
&gt;&gt;&gt; s.set_age(25) # 调用实例方法
</code></pre><h2 id="限制实例属性定义一个特殊的-__slots__变量-2"><a class="anchor" href="#限制实例属性定义一个特殊的-__slots__变量-2">#</a> 限制实例属性，定义一个特殊的 <code>__slots__</code> 变量</h2><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    __slots__ <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">)</span> <span class="token comment"># 用 tuple 定义允许绑定的属性名称</span></pre></td></tr><tr><td data-num="3"></td><td><pre>s<span class="token operator">=</span>Student<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre>s<span class="token punctuation">.</span>name<span class="token operator">=</span><span class="token string">'ruan'</span></pre></td></tr><tr><td data-num="5"></td><td><pre>s<span class="token punctuation">.</span>firstname<span class="token operator">=</span><span class="token string">'i im firstname'</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">#输出的时候 firstname 的属性会报错，</span></pre></td></tr><tr><td data-num="7"></td><td><pre>Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="8"></td><td><pre>  File <span class="token string">"&lt;stdin&gt;"</span><span class="token punctuation">,</span> line <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">&gt;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>AttributeError<span class="token punctuation">:</span> <span class="token string">'Student'</span> <span class="token builtin">object</span> has no attribute <span class="token string">'firstaname'</span></pre></td></tr></tbody></table></figure><h3 id="注意-2"><a class="anchor" href="#注意-2">#</a> 注意：</h3><p>_slots_使用时要注意，定义的属性只在当前的类的实例中，对于继承的子类是不起作用的</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">People</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    __slots__ <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span><span class="token string">'age'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'i im run people......'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Teacher</span><span class="token punctuation">(</span>People<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">say</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="8"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'i im teacher....'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre>t<span class="token operator">=</span>Teacher<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre>t<span class="token punctuation">.</span>tall<span class="token operator">=</span><span class="token string">'shouhua'</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>tall<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre>p<span class="token operator">=</span>People<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="13"></td><td><pre>p<span class="token punctuation">.</span>tall<span class="token punctuation">(</span><span class="token string">'shouhuap'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>tall<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211103140608-7ezqmvs.png" alt="image.png"></p><p>只限制父类 People 的属性，而子类 Teacher 中不限制</p><h2 id="property-2"><a class="anchor" href="#property-2">#</a> @property</h2><p>在绑定属性时，如果我们直接把属性暴露出去，导致可以随意更改。通过 get，set 来获取更改属性值。</p><p>在 python 中直接调用装饰器将一个方法变成属性调用</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token decorator annotation punctuation">@property</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token comment">#使用 get 方法是调用装饰器 @peoperty，</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token comment"># 同时自动创建了另一个装饰器 @属性.setter</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">score</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>score</pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token decorator annotation punctuation">@score<span class="token punctuation">.</span>setter</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">score</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>value<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="9"></td><td><pre>        self<span class="token punctuation">.</span>_score<span class="token operator">=</span>value</pre></td></tr></tbody></table></figure><h2 id="总结-5"><a class="anchor" href="#总结-5">#</a> 总结：</h2><p>- 权限限制只对类对象实际起作用，想要达到方法和属性强制访问权限，需要使用 @property 装饰器进行 get，set 方法</p><p>属性名与方法名一定要区分开，不然会进入死循环（self._age，def age ()）<br>实例化的对象使用属性时，不是调用属性（meizi._age），而是用的方法名（meizi.age）<br>@property 其实就是实现了 getter 功能； @xxx.setter 实现的是 setter 功能；还有一个 @xxx.deleter 实现删除功能<br>定义方法的时候 @property 必须在 @xxx.setter 之前，且二者修饰的方法名相同（age ()）<br>如果只实现了 @property（而没有实现 @xxx.setter），那么该属性为 只读属性</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token comment">#请利用 @property 给一个 Screen 对象加上 width 和 height 属性，</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment"># 以及一个只读属性 resolution：</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Screen</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    __slots__ <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">'_width'</span><span class="token punctuation">,</span><span class="token string">'_height'</span><span class="token punctuation">,</span><span class="token string">'_resolution'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token decorator annotation punctuation">@property</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">width</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="8"></td><td><pre>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>_width</pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token comment"># 方法名称和实例变量均为 width:</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token decorator annotation punctuation">@width<span class="token punctuation">.</span>setter</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">width</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>widthValue<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="13"></td><td><pre>        self<span class="token punctuation">.</span>_width<span class="token operator">=</span>widthValue</pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token decorator annotation punctuation">@property</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">height</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="17"></td><td><pre>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>_height</pre></td></tr><tr><td data-num="18"></td><td><pre></pre></td></tr><tr><td data-num="19"></td><td><pre>    <span class="token decorator annotation punctuation">@width<span class="token punctuation">.</span>setter</span></pre></td></tr><tr><td data-num="20"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">height</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="21"></td><td><pre>        self<span class="token punctuation">.</span>_height <span class="token operator">=</span> height</pre></td></tr><tr><td data-num="22"></td><td><pre></pre></td></tr><tr><td data-num="23"></td><td><pre>    <span class="token decorator annotation punctuation">@property</span></pre></td></tr><tr><td data-num="24"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">resolution</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="25"></td><td><pre>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>_width <span class="token operator">*</span> self<span class="token punctuation">.</span>_height</pre></td></tr><tr><td data-num="26"></td><td><pre>s<span class="token operator">=</span>Screen<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="27"></td><td><pre>s<span class="token punctuation">.</span>width<span class="token operator">=</span><span class="token number">23</span></pre></td></tr><tr><td data-num="28"></td><td><pre>s<span class="token punctuation">.</span>height<span class="token operator">=</span><span class="token number">12</span></pre></td></tr><tr><td data-num="29"></td><td><pre></pre></td></tr><tr><td data-num="30"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>resolution<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211103150647-dge6za2.png" alt="image.png"></p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>s<span class="token punctuation">.</span>score <span class="token operator">=</span> <span class="token number">60</span> <span class="token comment"># OK，实际转化为 s.set_score (60)</span></pre></td></tr><tr><td data-num="2"></td><td><pre>s<span class="token punctuation">.</span>score <span class="token comment"># OK，实际转化为 s.get_score ()</span></pre></td></tr></tbody></table></figure><p>要特别注意：属性的方法名不要和实例变量重名。例如，以下的代码是错误的：</p><pre><code>class Student(object):

    # 方法名称和实例变量均为birth:
    @property
    def birth(self):
        return self.birth
</code></pre><p>出现递归调用错误</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211103151046-5z499ew.png" alt="image.png"></p><p>之前的例子中 width 和_width 不同所以可以运行</p><h2 id="多重继承-3"><a class="anchor" href="#多重继承-3">#</a> 多重继承</h2><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211103151750-dvwa7qb.png" alt="image.png"></p><p>python 可以支持多继承，即一个子类可以继承多个父类；但 java 是单继承，只能有一个父类</p><p>Tercher（Name，study，teach）即 Teacher 可以继承多个父类</p><h3 id="mixin-2"><a class="anchor" href="#mixin-2">#</a> MixIn</h3><p>在设计类的继承关系时，通常，主线都是单一继承下来的，例如， <code>Teacher</code> 继承自 Name。但是，如果需要 “混入” 额外的功能，通过多重继承就可以实现，比如 Teacher 除了继承自 <code>Name</code> 外，再同时继承 <code>Teach</code> 。这种设计通常称之为 MixIn</p><p>Python 自带了 <code>TCPServer</code> 和 <code>UDPServer</code> 这两类网络服务，而要同时服务多个用户就必须使用多进程或多线程模型，这两种模型由 <code>ForkingMixIn</code> 和 <code>ThreadingMixIn</code> 提供。</p><h3 id="多继承-2"><a class="anchor" href="#多继承-2">#</a> 多继承</h3><p>多重继承这个名词一般用来形容继承链条可以很长，多个层次。</p><h3 id="多重继承-4"><a class="anchor" href="#多重继承-4">#</a> 多重继承</h3><p><strong>多继承则指一个类可以有多个基类，相反则是单继承</strong>。任何面向对象编程语言都支持多重继承，但像 java 这种只能通过接口实现有限程度的多继承</p><p>问：多继承 如果多个类有共同得方法名 怎么区分是调得哪个类🤡</p><p>答：调用该方法的时候，会调用第一顺位继承父类的方法</p><h3 id="总结-6"><a class="anchor" href="#总结-6">#</a> 总结：</h3><ol><li>Python 允许使用多重继承，因此，MixIn 就是一种常见的设计</li><li>只允许单一继承的语言（如 Java）不能使用 MixIn 的设计</li></ol><h2 id="定制类-2"><a class="anchor" href="#定制类-2">#</a> 定制类</h2><p>Python 的 class 中还有__xxx__有特殊用途的函数，可以帮助我们定制类</p><h3 id="str回用户看到的字符串-2"><a class="anchor" href="#str回用户看到的字符串-2">#</a> <strong>str</strong> () 回用户看到的字符串</h3><p>将对象 <code>&lt;__main__.Student object at 0x109afb190&gt;</code> 变成易读的数据</p><p>只在调用 print 时会调用__str__，交互界面时还是现实上方不易读的对象内容，此时用</p><h3 id="repr返回程序开发者看到的字符串-2"><a class="anchor" href="#repr返回程序开发者看到的字符串-2">#</a> <strong>repr</strong> () 返回程序开发者看到的字符串</h3><p><code>__str__()</code> 返回用户看到的字符串，而 <code>__repr__()</code> 返回程序开发者看到的字符串，</p><p>也就是说， <code>__repr__()</code> 是为调试服务的</p><p>简写</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">__str__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>        <span class="token keyword">return</span> <span class="token string">'xxx object (name=%s)'</span> <span class="token operator">%</span> self<span class="token punctuation">.</span>name</pre></td></tr><tr><td data-num="3"></td><td><pre>__repr__ <span class="token operator">=</span> __str__</pre></td></tr></tbody></table></figure><h3 id="_iter返回一个迭代对象-2"><a class="anchor" href="#_iter返回一个迭代对象-2">#</a> _<strong>iter</strong> () 返回一个迭代对象</h3><p>需要用到 for in 迭代，需要转化为迭代对象</p><p>该方法返回一个迭代对象，然后，Python 的 for 循环就会不断调用该迭代对象的 <code>__next__()</code> 方法拿到循环的下一个值，直到遇到 <code>StopIteration</code> 错误时退出循环</p><p>例子：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Fib</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        self<span class="token punctuation">.</span>a<span class="token punctuation">,</span>self<span class="token punctuation">.</span>b<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__iter__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token keyword">return</span> self</pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__next__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        self<span class="token punctuation">.</span>a<span class="token punctuation">,</span>self<span class="token punctuation">.</span>b<span class="token operator">=</span>self<span class="token punctuation">.</span>b<span class="token punctuation">,</span>self<span class="token punctuation">.</span>a<span class="token operator">+</span>self<span class="token punctuation">.</span>b</pre></td></tr><tr><td data-num="8"></td><td><pre>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>a<span class="token operator">&gt;</span><span class="token number">1000</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="9"></td><td><pre>            <span class="token keyword">raise</span>  StopIteration</pre></td></tr><tr><td data-num="10"></td><td><pre>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>a</pre></td></tr><tr><td data-num="11"></td><td><pre>a<span class="token operator">=</span>Fib<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">for</span> i <span class="token keyword">in</span> a<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211103155046-1xs33i9.png" alt="image.png"></p><h3 id="getitem表现得像list那样按照下标取出元素-2"><a class="anchor" href="#getitem表现得像list那样按照下标取出元素-2">#</a> <strong><strong>getitem</strong></strong> () 表现得像 list 那样按照下标取出元素</h3><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Fib</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        self<span class="token punctuation">.</span>a<span class="token punctuation">,</span>self<span class="token punctuation">.</span>b<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__iter__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token keyword">return</span> self</pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__next__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        self<span class="token punctuation">.</span>a<span class="token punctuation">,</span>self<span class="token punctuation">.</span>b<span class="token operator">=</span>self<span class="token punctuation">.</span>b<span class="token punctuation">,</span>self<span class="token punctuation">.</span>a<span class="token operator">+</span>self<span class="token punctuation">.</span>b</pre></td></tr><tr><td data-num="8"></td><td><pre>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>a<span class="token operator">&gt;</span><span class="token number">1000</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="9"></td><td><pre>            <span class="token keyword">raise</span>  StopIteration</pre></td></tr><tr><td data-num="10"></td><td><pre>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>a</pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__getitem__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="12"></td><td><pre>        a<span class="token punctuation">,</span>b<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span></pre></td></tr><tr><td data-num="13"></td><td><pre>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="14"></td><td><pre>            a<span class="token punctuation">,</span>b<span class="token operator">=</span>b<span class="token punctuation">,</span>a<span class="token operator">+</span>b</pre></td></tr><tr><td data-num="15"></td><td><pre>        <span class="token keyword">return</span> a</pre></td></tr><tr><td data-num="16"></td><td><pre>a<span class="token operator">=</span>Fib<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211103155122-fo5pjxz.png" alt="image.png"></p><p>以上是传入 int，切片功能实现，isinstance 判断类型</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Fib</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        self<span class="token punctuation">.</span>a<span class="token punctuation">,</span>self<span class="token punctuation">.</span>b<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__iter__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token keyword">return</span> self</pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__next__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        self<span class="token punctuation">.</span>a<span class="token punctuation">,</span>self<span class="token punctuation">.</span>b<span class="token operator">=</span>self<span class="token punctuation">.</span>b<span class="token punctuation">,</span>self<span class="token punctuation">.</span>a<span class="token operator">+</span>self<span class="token punctuation">.</span>b</pre></td></tr><tr><td data-num="8"></td><td><pre>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>a<span class="token operator">&gt;</span><span class="token number">1000</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="9"></td><td><pre>            <span class="token keyword">raise</span>  StopIteration</pre></td></tr><tr><td data-num="10"></td><td><pre>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>a</pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__getitem__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="12"></td><td><pre>        <span class="token keyword">if</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span><span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="13"></td><td><pre>            a<span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="14"></td><td><pre>            <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="15"></td><td><pre>                a<span class="token punctuation">,</span> b <span class="token operator">=</span> b<span class="token punctuation">,</span> a <span class="token operator">+</span> b</pre></td></tr><tr><td data-num="16"></td><td><pre>            <span class="token keyword">return</span> a</pre></td></tr><tr><td data-num="17"></td><td><pre>        <span class="token keyword">if</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span><span class="token builtin">slice</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="18"></td><td><pre>            start<span class="token operator">=</span>item<span class="token punctuation">.</span>start</pre></td></tr><tr><td data-num="19"></td><td><pre>            stop<span class="token operator">=</span>item<span class="token punctuation">.</span>stop</pre></td></tr><tr><td data-num="20"></td><td><pre>            <span class="token keyword">if</span> start <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="21"></td><td><pre>                start<span class="token operator">=</span><span class="token number">0</span></pre></td></tr><tr><td data-num="22"></td><td><pre>            a<span class="token punctuation">,</span>b<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span></pre></td></tr><tr><td data-num="23"></td><td><pre>            L<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="24"></td><td><pre>            <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>stop<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="25"></td><td><pre>                L<span class="token punctuation">.</span>append<span class="token punctuation">(</span>a<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="26"></td><td><pre>                a<span class="token punctuation">,</span>b<span class="token operator">=</span>b<span class="token punctuation">,</span>a<span class="token operator">+</span>b</pre></td></tr><tr><td data-num="27"></td><td><pre>        <span class="token keyword">return</span> L</pre></td></tr><tr><td data-num="28"></td><td><pre></pre></td></tr><tr><td data-num="29"></td><td><pre>a<span class="token operator">=</span>Fib<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="30"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211103155838-wdwjies.png" alt="image.png"></p><h3 id="getattr动态返回一个属性-2"><a class="anchor" href="#getattr动态返回一个属性-2">#</a> <strong>getattr</strong> () 动态返回一个属性</h3><p>调用类属性或方法时，先在__init__() 获取后，再从__getattr__() 获取，获取不到才报错</p><h3 id="call直接调用实例本身-2"><a class="anchor" href="#call直接调用实例本身-2">#</a> <strong>call</strong> () 直接调用实例本身</h3><p>与直接调用这个函数一样</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">People</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        self<span class="token punctuation">.</span>name<span class="token operator">=</span>name</pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__call__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'i im call %s'</span><span class="token operator">%</span> self<span class="token punctuation">.</span>name<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>p<span class="token operator">=</span>People<span class="token punctuation">(</span><span class="token string">'ruan'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre>p<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211104150832-d8wkn0m.png" alt="image.png"></p><h2 id="使用枚举类-2"><a class="anchor" href="#使用枚举类-2">#</a> 使用枚举类</h2><p>枚举类：在某些情况下，一个类的 实例对象 的<strong>数量</strong>是 <strong>有限且固定</strong> 的，如季节类，它的实例对象只有春、夏、秋、冬。 在 Java 中像这种对象实例有限且固定的类被称为枚举类；这样的枚举类型定义一个 class 类型，然后，每个常量都是 class 的一个唯一实例。Python 提供了 <code>Enum</code> 类来实现这个功能。</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">from</span> enum <span class="token keyword">import</span> Enum</pre></td></tr><tr><td data-num="2"></td><td><pre>M<span class="token operator">=</span>Enum<span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">'sun1'</span><span class="token punctuation">,</span><span class="token string">'sun2'</span><span class="token punctuation">,</span><span class="token string">'sun3'</span><span class="token punctuation">,</span><span class="token string">'sun4'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>M<span class="token punctuation">.</span>sun1<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211104151622-x7yqw9j.png" alt="image.png"></p><p>自定义枚举类</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">from</span> enum <span class="token keyword">import</span> Enum<span class="token punctuation">,</span>unique</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token decorator annotation punctuation">@unique</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Week</span><span class="token punctuation">(</span>Enum<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    sun1<span class="token operator">=</span><span class="token number">1</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    sun2<span class="token operator">=</span><span class="token number">2</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    sun3<span class="token operator">=</span><span class="token number">3</span></pre></td></tr><tr><td data-num="7"></td><td><pre>day2<span class="token operator">=</span>Week<span class="token punctuation">.</span>sun2</pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>day2<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211104152125-y6nm9vn.png" alt="image.png"></p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">from</span> enum <span class="token keyword">import</span> Enum<span class="token punctuation">,</span>unique</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token decorator annotation punctuation">@unique</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Gender</span><span class="token punctuation">(</span>Enum<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    Male<span class="token operator">=</span><span class="token number">0</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    Female<span class="token operator">=</span><span class="token number">1</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">,</span>gender<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="8"></td><td><pre>        self<span class="token punctuation">.</span>name<span class="token operator">=</span>name</pre></td></tr><tr><td data-num="9"></td><td><pre>        self<span class="token punctuation">.</span>gender<span class="token operator">=</span>gender</pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment"># 测试:</span></pre></td></tr><tr><td data-num="12"></td><td><pre>bart <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token string">'Bart'</span><span class="token punctuation">,</span> Gender<span class="token punctuation">.</span>Male<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token keyword">if</span> bart<span class="token punctuation">.</span>gender <span class="token operator">==</span> Gender<span class="token punctuation">.</span>Male<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'测试通过!'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token keyword">else</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'测试失败!'</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211104152731-wmdziil.png" alt="image.png"></p><h2 id="使用元类创建类-2"><a class="anchor" href="#使用元类创建类-2">#</a> 使用元类 [创建类]</h2><p>实例对象是类创建</p><p>类是元类创建</p><p>创建类的方式</p><h3 id="方式一type-2"><a class="anchor" href="#方式一type-2">#</a> 方式一：type（）</h3><p><code>type()</code> 函数既可以返回一个对象的类型，又可以创建出新的类型，比如，我们可以通过 <code>type()</code> 函数创建出 <code>Hello</code> 类</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">from</span> class1104 <span class="token keyword">import</span> <span class="token operator">*</span></pre></td></tr><tr><td data-num="2"></td><td><pre>h<span class="token operator">=</span>Hello<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>Hello<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211104153538-6iulybe.png" alt="image.png"></p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>Hello <span class="token operator">=</span> <span class="token builtin">type</span><span class="token punctuation">(</span><span class="token string">'Hello'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">dict</span><span class="token punctuation">(</span>hello<span class="token operator">=</span>fn<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p>要创建一个 class 对象， <code>type()</code> 函数依次传入 3 个参数：</p><ol><li>class 的名称；</li><li>继承的父类集合，注意 Python 支持多重继承，如果只有一个父类，别忘了 tuple 的单元素写法；</li><li>class 的方法名称与函数绑定，这里我们把函数 <code>fn</code> 绑定到方法名 <code>hello</code> 上</li></ol><h3 id="方式二元类metaclass-2"><a class="anchor" href="#方式二元类metaclass-2">#</a> 方式二：元类 metaclass</h3><p>先定义 metaclass，然后创建类。</p><p>先定义类，然后创建实例。</p><p><s>metaclass 是 Python 面向对象里最难理解，也是最难使用的魔术代码。</s></p><p>按照默认习惯，metaclass 的类名总是以 Metaclass 结尾，以便清楚地表示这是一个 metaclass</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token comment"># metaclass 采用 type 创建类 ，metaclass 是类的模板，所以必须从 `type` 类型派生</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">ListMetaclass</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__new__</span><span class="token punctuation">(</span>cls<span class="token punctuation">,</span> name<span class="token punctuation">,</span>bases<span class="token punctuation">,</span>attrs<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>        attrs<span class="token punctuation">[</span><span class="token string">'add'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token keyword">lambda</span> self<span class="token punctuation">,</span> value<span class="token punctuation">:</span>self<span class="token punctuation">.</span>append<span class="token punctuation">(</span>value<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token keyword">return</span> <span class="token builtin">type</span><span class="token punctuation">.</span>__new__<span class="token punctuation">(</span>cls<span class="token punctuation">,</span>name<span class="token punctuation">,</span>bases<span class="token punctuation">,</span>attrs<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">MyList</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">,</span>metaclass<span class="token operator">=</span>ListMetaclass<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">pass</span></pre></td></tr><tr><td data-num="9"></td><td><pre>mylist<span class="token operator">=</span>MyList<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre>mylist<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>mylist<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211104155010-cbldtfp.png" alt="image.png"></p><p><code>__new__()</code> 方法接收到的参数依次是：</p><ol><li>当前准备创建的类的对象；</li><li>类的名字；</li><li>类继承的父类集合；</li><li>类的方法集合</li></ol><h3 id="应用场景-2"><a class="anchor" href="#应用场景-2">#</a> 应用场景</h3><p>ORM 全称 “Object Relational Mapping”，即对象 - 关系映射，就是把关系数据库的一行映射为一个对象，也就是一个类对应一个表，这样，写代码更简单，不用直接操作 SQL 语句。</p><p>要编写一个 ORM 框架，所有的类都只能动态定义，因为只有使用者才能根据表的结构定义出对应的类来。</p><h2 id="错误处理try-2"><a class="anchor" href="#错误处理try-2">#</a> 错误处理 try</h2><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">try</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'try...'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    r <span class="token operator">=</span> <span class="token number">10</span> <span class="token operator">/</span> <span class="token number">0</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'result:'</span><span class="token punctuation">,</span> r<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">except</span> ValueError <span class="token keyword">as</span> e<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'ValueError:'</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">except</span> ZeroDivisionError <span class="token keyword">as</span> e<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'ZeroDivisionError:'</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span>e<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">finally</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'finally...'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'END'</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p>Python 的错误其实也是 class，所有的错误类型都继承自 <code>BaseException</code></p><p><code>UnicodeError</code> 是 <code>ValueError</code> 的子类🤡</p><p><span class="exturl" data-url="aHR0cHM6Ly9kb2NzLnB5dGhvbi5vcmcvMy9saWJyYXJ5L2V4Y2VwdGlvbnMuaHRtbCNleGNlcHRpb24taGllcmFyY2h5">Built-in Exceptions — Python 3.10.0 documentation</span></p><h2 id="调用栈-2"><a class="anchor" href="#调用栈-2">#</a> 调用栈</h2><p>让 Python 解释器来打印出错误堆栈</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211104162726-fird23x.png" alt="image.png"></p><h2 id="记录错误logging-2"><a class="anchor" href="#记录错误logging-2">#</a> 记录错误 logging</h2><p>可将 logging 生成一个 txt 方便查看</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">try</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>        xxx</pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>        logging<span class="token punctuation">.</span>exception<span class="token punctuation">(</span>e<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><h3 id="抛出错误raise-2"><a class="anchor" href="#抛出错误raise-2">#</a> 抛出错误 raise</h3><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">except</span> ValueError <span class="token keyword">as</span> e<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'ValueError!'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        <span class="token keyword">raise</span></pre></td></tr></tbody></table></figure><p>在 <code>bar()</code> 函数中，我们明明已经捕获了错误，但是，打印一个 <code>ValueError!</code> 后，又把错误通过 <code>raise</code> 语句抛出去了，这不有病么？</p><p>其实这种错误处理方式不但没病，而且相当常见。捕获错误目的只是记录一下，便于后续追踪。但是，由于当前函数不知道应该怎么处理该错误，所以，最恰当的方式是继续往上抛，让顶层调用者去处理。</p><h2 id="调试方法-2"><a class="anchor" href="#调试方法-2">#</a> 调试方法</h2><h3 id="1-print-2"><a class="anchor" href="#1-print-2">#</a> 1. print（）</h3><h3 id="2-断言assert-2"><a class="anchor" href="#2-断言assert-2">#</a> 2. 断言 assert</h3><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">assert</span> n <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'n is zero!'</span></pre></td></tr></tbody></table></figure><p><code>assert</code> 的意思是，表达式 <code>n != 0</code> 应该是 <code>True</code> ，否则，根据程序运行的逻辑，后面的代码肯定会出错。</p><p>采用断言的好处：</p><p>启动 Python 解释器时可以用 <code>-O</code> 参数来关闭 <code>assert</code> ：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>$ python <span class="token operator">-</span>O err<span class="token punctuation">.</span>py</pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211104164034-js5sidi.png" alt="image.png"></p><p>关闭后，你可以把所有的 <code>assert</code> 语句当成 <code>pass</code> 来看</p><h3 id="3-logging-2"><a class="anchor" href="#3-logging-2">#</a> 3. logging</h3><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">import</span> logging</pre></td></tr><tr><td data-num="2"></td><td><pre>s <span class="token operator">=</span> <span class="token string">'0'</span></pre></td></tr><tr><td data-num="3"></td><td><pre>n <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre>logging<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">'n = %d'</span> <span class="token operator">%</span> n<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">/</span> n<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><h3 id="4pbd单步执行-2"><a class="anchor" href="#4pbd单步执行-2">#</a> 4.pbd 单步执行</h3><p>启动 Python 的调试器 pdb，让程序以单步方式运行，可以随时查看运行状态。</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>python <span class="token operator">-</span>m pdb xxx<span class="token punctuation">.</span>py</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">(</span>Pbd<span class="token punctuation">)</span> <span class="token number">1</span><span class="token comment">#查看第一行代码，单步执行第一行代码</span></pre></td></tr></tbody></table></figure><h3 id="5-pdbset_trace-2"><a class="anchor" href="#5-pdbset_trace-2">#</a> 5. pdb.set_trace()</h3><p>这个方法也是用 pdb，但是不需要单步执行，我们只需要 <code>import pdb</code> ，然后，在可能出错的地方放一个 <code>pdb.set_trace()</code> ，就可以设置一个断点：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">import</span> pdb</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>s <span class="token operator">=</span> <span class="token string">'0'</span></pre></td></tr><tr><td data-num="4"></td><td><pre>n <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre>pdb<span class="token punctuation">.</span>set_trace<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 运行到这里会自动暂停</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">/</span> n<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p>可以用命令 <code>p</code> 查看变量，或者用命令 <code>c</code> 继续运行：</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211104164634-anjnpuu.png" alt="image.png"></p><h3 id="6ide工具-2"><a class="anchor" href="#6ide工具-2">#</a> 6.IDE 工具</h3><p>vscode,pycharm....</p><h2 id="单元测试-2"><a class="anchor" href="#单元测试-2">#</a> 单元测试</h2><p>单元测试是用来对一个模块、一个函数或者一个类来进行正确性检验的测试工作。</p><h2 id="文档测试-2"><a class="anchor" href="#文档测试-2">#</a> 文档测试</h2><p>doctest 非常有用，不但可以用来测试，还可以直接作为示例代码。通过某些文档生成工具，就可以自动把包含 doctest 的注释提取出来。用户看文档的时候，同时也看到了 doctest。</p><p>Python 内置的 “文档测试”（doctest）模块可以直接提取注释中的代码并执行测试.</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Dict</span><span class="token punctuation">(</span><span class="token builtin">dict</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token triple-quoted-string string">""""</span></pre></td></tr><tr><td data-num="3"></td><td><pre>      这一段就是文档测试</pre></td></tr><tr><td data-num="4"></td><td><pre>       Simple dict but also support access as x.y style.</pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre>       &gt;&gt;&gt; d1 = Dict()</pre></td></tr><tr><td data-num="7"></td><td><pre>       &gt;&gt;&gt; d1['x'] = 100</pre></td></tr><tr><td data-num="8"></td><td><pre>       &gt;&gt;&gt; d1.x</pre></td></tr><tr><td data-num="9"></td><td><pre>       100</pre></td></tr><tr><td data-num="10"></td><td><pre>       &gt;&gt;&gt; d1.y = 200</pre></td></tr><tr><td data-num="11"></td><td><pre>       &gt;&gt;&gt; d1['y']</pre></td></tr><tr><td data-num="12"></td><td><pre>       200</pre></td></tr><tr><td data-num="13"></td><td><pre>       &gt;&gt;&gt; d2 = Dict(a=1, b=2, c='3')</pre></td></tr><tr><td data-num="14"></td><td><pre>       &gt;&gt;&gt; d2.c</pre></td></tr><tr><td data-num="15"></td><td><pre>       '3'</pre></td></tr><tr><td data-num="16"></td><td><pre>       &gt;&gt;&gt; d2['empty']</pre></td></tr><tr><td data-num="17"></td><td><pre>       Traceback (most recent call last):</pre></td></tr><tr><td data-num="18"></td><td><pre>           ...</pre></td></tr><tr><td data-num="19"></td><td><pre>       KeyError: 'empty'</pre></td></tr><tr><td data-num="20"></td><td><pre>       &gt;&gt;&gt; d2.empty</pre></td></tr><tr><td data-num="21"></td><td><pre>       Traceback (most recent call last):</pre></td></tr><tr><td data-num="22"></td><td><pre>           ...</pre></td></tr><tr><td data-num="23"></td><td><pre>       AttributeError: 'Dict' object has no attribute 'empty'</pre></td></tr><tr><td data-num="24"></td><td><pre>       """</pre></td></tr><tr><td data-num="25"></td><td><pre></pre></td></tr><tr><td data-num="26"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token operator">**</span>kw<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="27"></td><td><pre>        <span class="token builtin">super</span><span class="token punctuation">(</span>Dict<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token operator">**</span>kw<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="28"></td><td><pre></pre></td></tr><tr><td data-num="29"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__getattr__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="30"></td><td><pre>        <span class="token keyword">try</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="31"></td><td><pre>            <span class="token keyword">return</span> self<span class="token punctuation">[</span>key<span class="token punctuation">]</span></pre></td></tr><tr><td data-num="32"></td><td><pre>        <span class="token keyword">except</span> KeyError<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="33"></td><td><pre>            <span class="token keyword">raise</span> AttributeError<span class="token punctuation">(</span><span class="token string">r"'Dict' object has no attribute '%s'"</span> <span class="token operator">%</span> key<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="34"></td><td><pre></pre></td></tr><tr><td data-num="35"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__setattr__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="36"></td><td><pre>        self<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> value</pre></td></tr><tr><td data-num="37"></td><td><pre></pre></td></tr><tr><td data-num="38"></td><td><pre><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="39"></td><td><pre>    <span class="token keyword">import</span> doctest</pre></td></tr><tr><td data-num="40"></td><td><pre>    doctest<span class="token punctuation">.</span>testmod<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p>将其中一个函数注释，运行让它报错</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211108110503-erlvnk1.png" alt="image.png"></p><h2 id="io编程-2"><a class="anchor" href="#io编程-2">#</a> IO 编程</h2><p>程序和运行时的数据在内存中驻留</p><p>涉及到数据交换的地方，通常是磁盘、网络等，就需要 IO 接口</p><p>通常，程序完成 IO 操作会有 Input 和 Output 两个数据流</p><p>Stream（流）是一个很重要的概念，可以把流想象成一个水管，数据就是水管里的水，但是只能单向流动。</p><p>在 IO 编程中，就存在<strong>速度严重不匹配的问题</strong>。举个例子来说，比如要把 100M 的数据写入磁盘，CPU 输出 100M 的数据只需要 0.01 秒，可是磁盘要接收这 100M 数据可能需要 10 秒，怎么办呢？有两种办法：</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211108111749-yobbduz.png" alt="image.png"></p><h2 id="同步io-2"><a class="anchor" href="#同步io-2">#</a> 同步 IO</h2><p>第一种是 CPU 等着，也就是程序暂停执行后续代码，等 100M 的数据在 10 秒后写入磁盘，再接着往下执行，这种模式称为同步 IO；</p><h2 id="异步io-2"><a class="anchor" href="#异步io-2">#</a> 异步 IO</h2><p>另一种方法是 CPU 不等待，只是告诉磁盘，“您老慢慢写，不着急，我接着干别的事去了”，于是，后续代码可以立刻接着执行，这种模式称为异步 IO。</p><p>如果是服务员跑过来找到你，这是回调模式，如果服务员发短信通知你，你就得不停地检查手机，这是轮询模式。总之，异步 IO 的复杂度远远高于同步 IO。</p><h2 id="文件读写-2"><a class="anchor" href="#文件读写-2">#</a> 文件读写</h2><h3 id="读文件open-2"><a class="anchor" href="#读文件open-2">#</a> 读文件 open（）</h3><p>传入文件名，标示符</p><p>参数：'rb' 二进制</p><p>encoding='gbk' 字符编码</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>f <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'/Users/michael/test.txt'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><h3 id="read一次读取全部内容-2"><a class="anchor" href="#read一次读取全部内容-2">#</a> read () 一次读取全部内容</h3><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token string">'Hello, world!'</span></pre></td></tr></tbody></table></figure><h3 id="fclose关闭文件-2"><a class="anchor" href="#fclose关闭文件-2">#</a> f.close（）关闭文件</h3><p>简化方法</p><h3 id="with-openfilepath-r-as-f-printfread-2"><a class="anchor" href="#with-openfilepath-r-as-f-printfread-2">#</a> with open('filepath', 'r') as f: print(f.read())</h3><p>Python 引入了 <code>with</code> 语句来自动帮我们调用 <code>close()</code> 方法，并且不必调用 <code>f.close()</code> 方法</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'/path/to/file'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p>如果文件很小， <code>read()</code> 一次性读取最方便；</p><p>如果不能确定文件大小，反复调用 <code>read(size)</code> 比较保险；</p><p>如果是配置文件，调用 <code>readlines()</code> 最方便</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">for</span> line <span class="token keyword">in</span> f<span class="token punctuation">.</span>readlines<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span>line<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 把末尾的 '\n' 删掉</span></pre></td></tr></tbody></table></figure><p>file 和缓存时 = 是 file-like Object 对象，不要求从特定类继承，只要写个 <code>read()</code> 方法就行</p><h3 id="fwrite写文件-2"><a class="anchor" href="#fwrite写文件-2">#</a> f.write () 写文件</h3><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>f <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'/Users/michael/test.txt'</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre>f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'Hello, world!'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p>或</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'/Users/michael/test.txt'</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'Hello, world!'</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p>使用 <code>with</code> 语句操作文件 IO 是个好习惯</p><h2 id="stringio和bytesio-2"><a class="anchor" href="#stringio和bytesio-2">#</a> StringIO 和 BytesIO</h2><h3 id="stringio-2"><a class="anchor" href="#stringio-2">#</a> StringIO</h3><p>StringIO 顾名思义就是在内存中读写 str</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">from</span> io <span class="token keyword">import</span> StringIO</pre></td></tr><tr><td data-num="2"></td><td><pre> f <span class="token operator">=</span> StringIO<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><code>getvalue()</code> 方法用于获得写入后的 str</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">from</span> io <span class="token keyword">import</span> StringIO</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> f <span class="token operator">=</span> StringIO<span class="token punctuation">(</span><span class="token string">'Hello!\nHi!\nGoodbye!'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     s <span class="token operator">=</span> f<span class="token punctuation">.</span>readline<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">if</span> s <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>         <span class="token keyword">break</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><h3 id="bytesio-2"><a class="anchor" href="#bytesio-2">#</a> BytesIO</h3><p>操作二进制数据，就需要使用 BytesIO</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">from</span> io <span class="token keyword">import</span> BytesIO</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> f <span class="token operator">=</span> BytesIO<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'中文'</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token number">6</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span>getvalue<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token string">b'\xe4\xb8\xad\xe6\x96\x87'</span></pre></td></tr></tbody></table></figure><h2 id="os模块-2"><a class="anchor" href="#os模块-2">#</a> os 模块</h2><h3 id="osname操作系统类型-2"><a class="anchor" href="#osname操作系统类型-2">#</a> os.name 操作系统类型</h3><h3 id="osuname详细系统信息-2"><a class="anchor" href="#osuname详细系统信息-2">#</a> os.uname () 详细系统信息</h3><h3 id="osenciron环境变量-2"><a class="anchor" href="#osenciron环境变量-2">#</a> os.enciron 环境变量</h3><p>要获取某个环境变量的值，可以调用 <code>os.environ.get('key')</code></p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token comment"># 查看当前目录的绝对路径:</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>abspath<span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token string">'/Users/michael'</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment"># 在某个目录下创建一个新目录，首先把新目录的完整路径表示出来:</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token string">'/Users/michael'</span><span class="token punctuation">,</span> <span class="token string">'testdir'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token string">'/Users/michael/testdir'</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment"># 然后创建一个目录:</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> os<span class="token punctuation">.</span>mkdir<span class="token punctuation">(</span><span class="token string">'/Users/michael/testdir'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment"># 删掉一个目录:</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> os<span class="token punctuation">.</span>rmdir<span class="token punctuation">(</span><span class="token string">'/Users/michael/testdir'</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p>通过 <code>os.path.join()</code> 函数，这样可以正确处理不同操作系统的路径分隔符</p><h3 id="ospathjoin连接路径-2"><a class="anchor" href="#ospathjoin连接路径-2">#</a> <code>os.path.join(</code> ) 连接路径</h3><h3 id="ospathsplit拆分路径-2"><a class="anchor" href="#ospathsplit拆分路径-2">#</a> <code>os.path.split()</code> 拆分路径</h3><h3 id="ospathsplitext-文件扩展名-2"><a class="anchor" href="#ospathsplitext-文件扩展名-2">#</a> <code>os.path.splitext()</code> 文件扩展名</h3><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token comment"># 对文件重命名:</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> os<span class="token punctuation">.</span>rename<span class="token punctuation">(</span><span class="token string">'test.txt'</span><span class="token punctuation">,</span> <span class="token string">'test.py'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment"># 删掉文件:</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> os<span class="token punctuation">.</span>remove<span class="token punctuation">(</span><span class="token string">'test.py'</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><code>shutil</code> 模块提供了 <code>copyfile()</code> 的函数，它们可以看做是 <code>os</code> 模块的补充</p><p>最后看看如何利用 Python 的特性来过滤文件。比如我们要列出当前目录下的所有目录，只需要一行代码：</p><pre><code>&gt;&gt;&gt; [x for x in os.listdir('.') if os.path.isdir(x)]
['.lein', '.local', '.m2', '.npm', '.ssh', '.Trash', '.vim', 'Applications', 'Desktop', ...]
</code></pre><p>要列出所有的 <code>.py</code> 文件，也只需一行代码：</p><pre><code>&gt;&gt;&gt; [x for x in os.listdir('.') if os.path.isfile(x) and os.path.splitext(x)[1]=='.py']
['apis.py', 'config.py', 'models.py', 'pymonitor.py', 'test_db.py', 'urls.py', 'wsgiapp.py']
</code></pre><h2 id="序列化pickle模块-2"><a class="anchor" href="#序列化pickle模块-2">#</a> 序列化 pickle 模块</h2><p>变量从内存中变成可存储或传输的过程称之为序列化，Python 中叫 pickling</p><p>变量内容从序列化的对象重新读到内存里称之为反序列化，即 unpickling</p><h3 id="pickledumps对象-字节序列化-2"><a class="anchor" href="#pickledumps对象-字节序列化-2">#</a> pickle.dumps () 对象 -》字节 [序列化]</h3><p><code>pickle.dumps()</code> 方法把任意对象序列化成一个 <code>bytes</code></p><p><code>pickle.dumps()</code> 方法把任意对象序列化成一个 <code>bytes</code> , 并写入文件中</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">import</span> pickle</pre></td></tr><tr><td data-num="2"></td><td><pre>d<span class="token operator">=</span><span class="token builtin">dict</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">'ruan'</span><span class="token punctuation">,</span>age<span class="token operator">=</span><span class="token number">34</span><span class="token punctuation">,</span>freand<span class="token operator">=</span><span class="token string">'woman'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment"># print(pickle.dumps(d))</span></pre></td></tr><tr><td data-num="4"></td><td><pre>f <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'timezone.txt'</span><span class="token punctuation">,</span> <span class="token string">'wb'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre>pickle<span class="token punctuation">.</span>dump<span class="token punctuation">(</span>d<span class="token punctuation">,</span> f<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre>f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><h3 id="pickleload字节-对象反序列化-2"><a class="anchor" href="#pickleload字节-对象反序列化-2">#</a> pickle.load () 字节 -》对象【反序列化】</h3><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">import</span> pickle</pre></td></tr><tr><td data-num="2"></td><td><pre>f<span class="token operator">=</span><span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">r'C:\Users\yangs\PycharmProjects\python_study\fun\timezone.txt'</span><span class="token punctuation">,</span><span class="token string">'rb'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>d<span class="token operator">=</span>pickle<span class="token punctuation">.</span>load<span class="token punctuation">(</span>f<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre>f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211108132946-rtt8k8p.png" alt="image.png"></p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211108133035-b8gyft4.png" alt="image.png"></p><h2 id="json模块-2"><a class="anchor" href="#json模块-2">#</a> json 模块</h2><p><code>json</code> 模块的 <code>dumps()</code> 和 <code>loads()</code> 函数是定义得非常好的接口的典范。</p><h4 id="jsondumpspython对象python对象-json对象-2"><a class="anchor" href="#jsondumpspython对象python对象-json对象-2">#</a> json.dumps (python 对象) python 对象 -》json 对象</h4><p><code>dumps()</code> 方法返回一个 <code>str</code> ，内容就是标准的 JSON</p><h4 id="jsonloadsjson对象json对象-python对象-2"><a class="anchor" href="#jsonloadsjson对象json对象-python对象-2">#</a> json.loads (json 对象) json 对象 -》python 对象</h4><p><code>json.``dump</code> (obj,&nbsp;fp,&nbsp;<em>,&nbsp;skipkeys=False,&nbsp;ensure_ascii=True,&nbsp;check_circular=True,&nbsp;allow_nan=True,&nbsp;cls=None,&nbsp;indent=None,&nbsp;separators=None,&nbsp;default=None,&nbsp;sort_keys=False,&nbsp;<strong>kw</strong>)</em>*</p><h3 id="类变为字典并序列化-2"><a class="anchor" href="#类变为字典并序列化-2">#</a> 类变为字典并序列化</h3><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>json<span class="token punctuation">.</span>dumps<span class="token punctuation">(</span>s<span class="token punctuation">,</span> default<span class="token operator">=</span><span class="token keyword">lambda</span> obj<span class="token punctuation">:</span> obj<span class="token punctuation">.</span>__dict__<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><h2 id="进程和线程-2"><a class="anchor" href="#进程和线程-2">#</a> 进程和线程</h2><p>Python 的标准库提供了两个模块： <code>_thread</code> 和 <code>threading</code> ， <code>_thread</code> 是低级模块， <code>threading</code> 是高级模块</p><p><strong>线程是最小的执行单元，而进程由至少一个线程组成</strong></p><p>操作系统轮流让各个任务交替执行</p><p>真正的并行执行多任务只能在多核 CPU 上实现</p><p>对于操作系统来说，一个任务就是一个进程（Process），比如打开一个浏览器就是启动一个浏览器进程</p><p>Word，它可以同时进行打字、拼写检查、打印等事情。在一个进程内部，要同时干多件事，就需要同时运行多个 “子任务”，我们把进程内的这些 “子任务” 称为线程（Thread）</p><ul><li>多进程模式；</li><li>多线程模式；</li><li>多进程 + 多线程模式。</li></ul><h2 id="多进程-2"><a class="anchor" href="#多进程-2">#</a> 多进程</h2><p>Unix/Linux 操作系统提供了一个 <code>fork()</code> 系统调用，普通的函数调用，调用一次，返回一次，但是 <code>fork()</code> 调用一次，返回两次，因为操作系统自动把当前进程（称为父进程）复制了一份（称为子进程），然后，分别在父进程和子进程内返回。</p><p>创建子进程</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">from</span> multiprocessing <span class="token keyword">import</span> Process</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">import</span> os</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">def</span> <span class="token function">run_pro</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'开始运行子进程%s，%s'</span><span class="token operator">%</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>os<span class="token punctuation">.</span>getpid<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'开始运行进程%s'</span> <span class="token operator">%</span> <span class="token punctuation">(</span>os<span class="token punctuation">.</span>getpid<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    p<span class="token operator">=</span>Process<span class="token punctuation">(</span>target<span class="token operator">=</span>run_pro<span class="token punctuation">,</span>args<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    p<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    p<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'end'</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211111131512-zqm80if.png" alt="image.png"></p><h3 id="启动大量子进程pool-2"><a class="anchor" href="#启动大量子进程pool-2">#</a> 启动大量子进程 pool</h3><p>进程池</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">import</span> time<span class="token punctuation">,</span> threading</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment"># 新线程执行的代码:</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">def</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'thread %s is running...'</span> <span class="token operator">%</span> threading<span class="token punctuation">.</span>current_thread<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    n <span class="token operator">=</span> <span class="token number">0</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">while</span> n <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="8"></td><td><pre>        n <span class="token operator">=</span> n <span class="token operator">+</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="9"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'thread %s &gt;&gt;&gt; %s'</span> <span class="token operator">%</span> <span class="token punctuation">(</span>threading<span class="token punctuation">.</span>current_thread<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre>        time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'thread %s ended.'</span> <span class="token operator">%</span> threading<span class="token punctuation">.</span>current_thread<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'thread %s is running...'</span> <span class="token operator">%</span> threading<span class="token punctuation">.</span>current_thread<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre>t <span class="token operator">=</span> threading<span class="token punctuation">.</span>Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>loop<span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'LoopThread'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="15"></td><td><pre>t<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="16"></td><td><pre>t<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'thread %s ended.'</span> <span class="token operator">%</span> threading<span class="token punctuation">.</span>current_thread<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><h1 id="模块总结-2"><a class="anchor" href="#模块总结-2">#</a> 模块总结</h1><h2 id="doctest文档测试-2"><a class="anchor" href="#doctest文档测试-2">#</a> doctest 文档测试</h2><h2 id="ospath文件路径-2"><a class="anchor" href="#ospath文件路径-2">#</a> os.path 文件路径</h2><h2 id="pickle序列化-2"><a class="anchor" href="#pickle序列化-2">#</a> pickle 序列化</h2><h2 id="json-2"><a class="anchor" href="#json-2">#</a> json</h2><p><span class="exturl" data-url="aHR0cHM6Ly93d3cubGlhb3h1ZWZlbmcuY29tL3dpa2kvMTAxNjk1OTY2MzYwMjQwMC8xMDE3MTA0MzI0MDI4NDQ4">使用 dict 和 set - 廖雪峰的官方网站 (liaoxuefeng.com)</span></p><p>用于学习记录，后期便于复习，参考链接</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009102447-hmq8gs8.png" alt="image.png"></p><p>python file</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009102545-qqmxrgo.png" alt="image.png"></p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009102644-7ny4t2k.png" alt="image.png"></p><p>调用脚本时会先载入 pyhton 解释器，然后运行脚本</p><p>rpm：软件管理包</p><p>操作符优先级：<img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009104337-b66ot2k.png" alt="image.png"></p><p>条件判断：</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009104751-a27qfzb.png" alt="image.png"></p><p>Python 为我们提供了非常完善的基础代码库，覆盖了网络、文件、GUI、数据库、文本等大量内容，被形象地称作 “内置电池（batteries included）”。用 Python 开发，许多功能不必从零编写，直接使用现成的即可。</p><p>语言定位：</p><p>Python 的定位是 “优雅”、“明确”、“简单”</p><p>Python 是解释型语言</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211011172523-7k51l6e.png" alt="image.png"></p><h1 id="python-3"><a class="anchor" href="#python-3">#</a> python</h1><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009110719-7urayjl.png" alt="image.png"></p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009111236-gd1mcju.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009111303-l3bqira.png" alt="image.png"></p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009113303-w7qziw5.png" alt="image.png"></p><h2 id="数据类型-3"><a class="anchor" href="#数据类型-3">#</a> 数据类型</h2><h3 id="int-整型-3"><a class="anchor" href="#int-整型-3">#</a> int 整型</h3><p>long int 长整型</p><p>int 整型</p><h3 id="float-浮点型-3"><a class="anchor" href="#float-浮点型-3">#</a> float 浮点型</h3><p>浮点数也就是小数，之所以称为浮点数，是因为按照科学记数法表示时</p><p>双精度浮点型 e</p><p>浮点型</p><h3 id="string-字符串-3"><a class="anchor" href="#string-字符串-3">#</a> String 字符串</h3><p>字符串是以单引号 <code>'</code> 或双引号 <code>"</code> 括起来的任意文本</p><p>字符串是以 Unicode 编码</p><p>对于单个字符的编码，Python 提供了 <code>ord()</code> 函数获取字符的整数表示， <code>chr()</code> 函数把编码转换为对应的字符：</p><h3 id="bool布尔-3"><a class="anchor" href="#bool布尔-3">#</a> Bool 布尔</h3><p>True</p><p>Flase</p><h3 id="none-空值-3"><a class="anchor" href="#none-空值-3">#</a> None 空值</h3><p>None， <code>None</code> 不能理解为 <code>0</code> ，因为 <code>0</code> 是有意义的，</p><p>Null 无意义</p><p>.</p><p>&lt;iframe src="<span class="exturl" data-url="aHR0cDovLzEyNy4wLjAuMTo2ODA2L3dpZGdldHMvYnJ5dGhvbi1lZGl0b3I=">http://127.0.0.1:6806/widgets/brython-editor</span>" data-src="<span class="exturl" data-url="aHR0cDovLzEyNy4wLjAuMTo2ODA2L3dpZGdldHMvYnJ5dGhvbi1lZGl0b3I=">http://127.0.0.1:6806/widgets/brython-editor</span>" data-subtype="widget" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="width: 1341px; height: 276px;"&gt;&lt;/iframe&gt;</p><h3 id="变量-3"><a class="anchor" href="#变量-3">#</a> 变量</h3><p>变量的概念基本上和初中代数的方程变量是一致的，</p><p>变量不仅可以是数字，还可以是任意数据类型。</p><p>变量名必须是大小写英文、数字和 <code>_</code> 的组合，且不能用数字开头，字母或下划线开头</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token comment">#变量类型</span></pre></td></tr><tr><td data-num="2"></td><td><pre>a<span class="token operator">=</span><span class="token number">1</span></pre></td></tr><tr><td data-num="3"></td><td><pre>b<span class="token operator">=</span><span class="token string">'我是变量'</span></pre></td></tr><tr><td data-num="4"></td><td><pre>c<span class="token operator">=</span><span class="token boolean">True</span></pre></td></tr><tr><td data-num="5"></td><td><pre>d<span class="token operator">=</span><span class="token number">12.2e3</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">,</span>d<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token builtin">type</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token builtin">type</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token builtin">type</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009134601-1cuacaj.png" alt="image.png"></p><p>int a=1 静态语言 此时已经分配的 int 分区之后不能更改变量类型【不支持，Java】</p><p>a=3 动态语言，可以赋值成任意类型</p><h4 id="动态定义-3"><a class="anchor" href="#动态定义-3">#</a> 动态定义</h4><h4 id="静态定义-3"><a class="anchor" href="#静态定义-3">#</a> 静态定义</h4><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>a <span class="token operator">=</span> <span class="token string">'ABC'</span></pre></td></tr><tr><td data-num="2"></td><td><pre>b <span class="token operator">=</span> a</pre></td></tr><tr><td data-num="3"></td><td><pre>a <span class="token operator">=</span> <span class="token string">'XYZ'</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p>执行 <code>a = 'ABC'</code> ，解释器创建了字符串 <code>'ABC'</code> 和变量 <code>a</code> ，并把 <code>a</code> 指向 <code>'ABC'</code> ：</p><p><img data-src="https://www.liaoxuefeng.com/files/attachments/923791878255456/0" alt="py-var-code-1"></p><p>执行 <code>b = a</code> ，解释器创建了变量 <code>b</code> ，并把 <code>b</code> 指向 <code>a</code> 指向的字符串 <code>'ABC'</code> ：</p><p><img data-src="https://www.liaoxuefeng.com/files/attachments/923792058613440/0" alt="py-var-code-2"></p><p>执行 <code>a = 'XYZ'</code> ，解释器创建了字符串 'XYZ'，并把 <code>a</code> 的指向改为 <code>'XYZ'</code> ，但 <code>b</code> 并没有更改：</p><p><img data-src="https://www.liaoxuefeng.com/files/attachments/923792191637760/0" alt="py-var-code-3"></p><h3 id="常量-3"><a class="anchor" href="#常量-3">#</a> 常量</h3><p>所谓常量就是不能变的变量，通常用全部大写的变量名表示常量：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>PI <span class="token operator">=</span> <span class="token number">3.14159265359</span></pre></td></tr></tbody></table></figure><h2 id="list列表-3"><a class="anchor" href="#list列表-3">#</a> list 列表</h2><p>list 是一种有序的集合，可以随时添加和删除其中的元素。</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token builtin">list</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'b'</span><span class="token punctuation">,</span><span class="token string">'c'</span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009154856-r9s5yyu.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009154907-bofhvvd.png" alt="image.png"></p><h3 id="切分-3"><a class="anchor" href="#切分-3">#</a> 切分</h3><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009155126-p31z8um.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009155139-cpsoatf.png" alt="image.png"></p><h3 id="append追加-3"><a class="anchor" href="#append追加-3">#</a> append（）追加</h3><p>str.append('a')</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009155556-qrj4a63.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009155606-dxihfwr.png" alt="image.png"></p><h3 id="insert插入指定位置-3"><a class="anchor" href="#insert插入指定位置-3">#</a> insert 插入指定位置</h3><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009162557-186v350.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009162609-u00z8m3.png" alt="image.png"></p><h3 id="pop删除末尾元素-3"><a class="anchor" href="#pop删除末尾元素-3">#</a> pop（）删除末尾元素</h3><p>要删除指定位置的元素，用 <code>pop(i)</code> 方法，其中 <code>i</code> 是索引位置</p><p>替换元素直接赋值即可</p><p>列表可以嵌套</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>s <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'python'</span><span class="token punctuation">,</span> <span class="token string">'java'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'asp'</span><span class="token punctuation">,</span> <span class="token string">'php'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'scheme'</span><span class="token punctuation">]</span></pre></td></tr></tbody></table></figure><p>类型可以不同</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>L <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Apple'</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">]</span></pre></td></tr></tbody></table></figure><h3 id="切片-3"><a class="anchor" href="#切片-3">#</a> 切片</h3><p>list [:-1] 不包含最后一个元素</p><p>list [:] 全部列表</p><p>list [::] 全部列表</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012161203-1e12zsd.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012161212-0lrqjsm.png" alt="image.png"></p><p>前 10 个数，每两个取一个</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012161428-r6muafj.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012161441-eoc8y55.png" alt="image.png"></p><h4 id="列表生成-3"><a class="anchor" href="#列表生成-3">#</a> 列表生成</h4><p>list（range（1，11））生成 10 个数 1-10</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">[</span>m<span class="token operator">+</span>n <span class="token keyword">for</span> m <span class="token keyword">in</span> <span class="token string">'123'</span> <span class="token keyword">for</span> n <span class="token keyword">in</span> <span class="token string">'yza'</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>k<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">23</span><span class="token punctuation">,</span><span class="token number">45</span><span class="token punctuation">,</span><span class="token number">56</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">467</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">[</span>x <span class="token keyword">for</span> x <span class="token keyword">in</span> k <span class="token keyword">if</span> x<span class="token operator">==</span><span class="token number">1</span> <span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012190810-l1qtxiv.png" alt="image.png"></p><h2 id="tuple元组-3"><a class="anchor" href="#tuple元组-3">#</a> tuple 元组</h2><p>tuple 一旦初始化就不能修改</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009163638-1vpldee.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009163652-xkas3o0.png" alt="image.png"></p><p>但元组初始化后就不能进行更改了</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>b<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">#定义的不是 tuple，是 1 这个数！</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment"># 这是因为括号 () 既可以表示 tuple，又可以表示数学公式中的小括号，</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment"># 这就产生了歧义，因此，Python 规定，</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment"># 这种情况下，按小括号进行计算，计算结果自然是 1</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre>c<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009164221-xl1husx.png" alt="image.png"></p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009164244-780v78f.png" alt="image.png"></p><h2 id="dict字典-3"><a class="anchor" href="#dict字典-3">#</a> dict 字典</h2><p>其他语言叫 map，使用键 - 值（key-value）存储，具有极快的查找速度。dict 的 key 必须是<strong>不可变对象</strong>。key 计算位置的算法称为哈希算法（Hash）。</p><h3 id="定义-5"><a class="anchor" href="#定义-5">#</a> 定义</h3><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>d<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span><span class="token string">'ruanyifen'</span><span class="token punctuation">,</span><span class="token string">'age'</span><span class="token punctuation">:</span><span class="token number">60</span><span class="token punctuation">,</span><span class="token string">'happy'</span><span class="token punctuation">:</span><span class="token string">'write'</span><span class="token punctuation">}</span></pre></td></tr><tr><td data-num="2"></td><td><pre>d<span class="token punctuation">[</span><span class="token string">'add'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">'Im add'</span></pre></td></tr><tr><td data-num="3"></td><td><pre>d<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">'fix'</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012135019-kqmsrcg.png" alt="image.png"></p><h3 id="取value-3"><a class="anchor" href="#取value-3">#</a> 取 value</h3><h4 id="dictkey-3"><a class="anchor" href="#dictkey-3">#</a> dict['key']</h4><h4 id="key-in-dict-3"><a class="anchor" href="#key-in-dict-3">#</a> 'key' in dict</h4><h4 id="dictgetkey-3"><a class="anchor" href="#dictgetkey-3">#</a> dict.get('key')</h4><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>d<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'name'</span> <span class="token keyword">in</span> d<span class="token punctuation">)</span><span class="token comment">#方法一判断是否有这个主键在字典 d 中</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">#方法二 取</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012135119-sniqpw0.png" alt="image.png"></p><h3 id="dictpopkey删除一个key-3"><a class="anchor" href="#dictpopkey删除一个key-3">#</a> dict.pop ('key') 删除一个 key</h3><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012135429-m36ygpu.png" alt="image.png"></p><h3 id="dictkeys返回字典中所有key列表-3"><a class="anchor" href="#dictkeys返回字典中所有key列表-3">#</a> dict.keys 返回字典中所有 key 列表</h3><h3 id="dictupdate将a字典新keyvalue内容加入b字典中-3"><a class="anchor" href="#dictupdate将a字典新keyvalue内容加入b字典中-3">#</a> dict.update () 将 a 字典新 key，value 内容加入 b 字典中</h3><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token assign-left variable">dicta</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">"name"</span><span class="token builtin class-name">:</span><span class="token string">'ruan'</span>,<span class="token string">'age'</span>:20<span class="token punctuation">}</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token assign-left variable">dictb</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">"name"</span><span class="token builtin class-name">:</span><span class="token string">'ruan2'</span>,<span class="token string">'age'</span>:40,<span class="token string">'add'</span><span class="token builtin class-name">:</span><span class="token string">'w shi add'</span><span class="token punctuation">}</span></pre></td></tr><tr><td data-num="3"></td><td><pre>dictb.update<span class="token punctuation">(</span>dicta<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre>print<span class="token punctuation">(</span>dictb<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211101115242-qazr588.png" alt="image.png"></p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211101115348-bb0l147.png" alt="image.png"></p><h4 id="内建函数使用-3"><a class="anchor" href="#内建函数使用-3">#</a> 内建函数使用</h4><p>type（）</p><p>cmp（）</p><p>len（）</p><p>hash（）</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211101114202-rdvz2pt.png" alt="image.png"></p><p>内建 cmp（）函数比较两个 dict 时，先比较长度，后比值，输出 1 或 - 1</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211101114401-h4f1qop.png" alt="image.png"></p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211101114644-qffksiw.png" alt="image.png"></p><h3 id="dict特点-3"><a class="anchor" href="#dict特点-3">#</a> dict 特点</h3><p>dict 有以下几个特点：</p><ol><li>查找和插入的速度极快，不会随着 key 的增加而变慢；</li><li>需要占用大量的内存，内存浪费多。</li></ol><p>而 list 相反：</p><ol><li>查找和插入的时间随着元素的增加而增加；</li><li>占用空间小，浪费内存很少。<br><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211101115427-fu3s2zu.png" alt="image.png"><br><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211101115451-utxi9ct.png" alt="image.png"></li></ol><h2 id="set集合-3"><a class="anchor" href="#set集合-3">#</a> set 集合</h2><p>也是一组 key 的集合，但不存储 value。由于 key 不能重复，所以，在 set 中，没有重复的 key。</p><p>重复元素在 set 中自动被过滤</p><h3 id="定义-6"><a class="anchor" href="#定义-6">#</a> 定义</h3><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012135934-u0n1j77.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012135953-sqa88s1.png" alt="image.png"></p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140114-5azj1sa.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140127-ledkv1s.png" alt="image.png"></p><h3 id="setaddkey添加元素-3"><a class="anchor" href="#setaddkey添加元素-3">#</a> set.add ('key') 添加元素</h3><p>但重复元素不添加，自动去重</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140336-dwf2vgw.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140344-dzsshz2.png" alt="image.png"></p><h3 id="setremovekey删除元素-3"><a class="anchor" href="#setremovekey删除元素-3">#</a> set.remove ('key') 删除元素</h3><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140511-5f9cwm4.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140517-f6iolow.png" alt="image.png"></p><p>set 可以看成数学意义上的无序和无重复元素的集合，</p><p>因此，两个 set 可以做数学意义上的交集、并集等操作：</p><h3 id="两个set交集-3"><a class="anchor" href="#两个set交集-3">#</a> &amp; 两个 set 交集</h3><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140903-1l3we66.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140912-8itf6ek.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211022170721-h5hmgxr.png" alt="image.png"></p><h3 id="两个set并集-3"><a class="anchor" href="#两个set并集-3">#</a> | 两个 set 并集</h3><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140922-5bjlj5g.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012140933-edbys90.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211022171729-b4k8xhd.png" alt="image.png"></p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211101115701-3dt5x4j.png" alt="image.png"></p><h3 id="map的显示-3"><a class="anchor" href="#map的显示-3">#</a> map () 的显示</h3><p>打印 map 对象可以看到 map 对象返回的是一个地址，不是真实的数据</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">map</span>对象<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">[</span>it <span class="token keyword">for</span> it <span class="token keyword">in</span> <span class="token builtin">map</span>对象<span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><h2 id="数据类型转换-3"><a class="anchor" href="#数据类型转换-3">#</a> 数据类型转换</h2><h3 id="int-3"><a class="anchor" href="#int-3">#</a> int（）</h3><h3 id="float-3"><a class="anchor" href="#float-3">#</a> float（）</h3><h3 id="str-3"><a class="anchor" href="#str-3">#</a> str（）</h3><h3 id="bool-3"><a class="anchor" href="#bool-3">#</a> bool（）</h3><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012142636-iblnu9y.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012142645-gb2u1fg.png" alt="image.png"></p><h2 id="条件判断-3"><a class="anchor" href="#条件判断-3">#</a> 条件判断</h2><h3 id="if-3"><a class="anchor" href="#if-3">#</a> if</h3><p>if else</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>a<span class="token operator">=</span><span class="token number">100</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">if</span> a<span class="token operator">&gt;=</span><span class="token number">0</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">else</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token operator">-</span>a<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009165335-jr8xtfq.png" alt="image.png"></p><p>if</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">if</span> <span class="token boolean">True</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'True'</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009165309-ymhiihv.png" alt="image.png"></p><p>if elif elif else</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>name<span class="token operator">=</span><span class="token string">'zhangsan'</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">if</span> name<span class="token operator">==</span><span class="token string">'zhangsan'</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'我是'</span><span class="token punctuation">,</span>name<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">elif</span> name<span class="token operator">==</span><span class="token string">'lisi'</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'我是'</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">elif</span> name<span class="token operator">==</span><span class="token string">'wangwu'</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'我是'</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">else</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'我谁的不是'</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009165511-spws02g.png" alt="image.png"></p><h2 id="input输入输出-3"><a class="anchor" href="#input输入输出-3">#</a> input（）输入输出</h2><p>input () 返回的数据类型是 str</p><p>print（）</p><h2 id="循环-迭代-3"><a class="anchor" href="#循环-迭代-3">#</a> 循环 迭代</h2><p>list，tuple，dict 都可循环</p><p>Python 的 <code>for</code> 循环本质上就是通过不断调用 <code>next()</code> 函数实现的，计算是惰性的</p><p>dict 循环按照 value 时：for value in dict.values</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">for</span> value <span class="token keyword">in</span> d<span class="token punctuation">.</span>values<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><h3 id="for-in-3"><a class="anchor" href="#for-in-3">#</a> for in</h3><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token builtin">sum</span><span class="token operator">=</span><span class="token number">0</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token builtin">sum</span><span class="token operator">=</span><span class="token builtin">sum</span><span class="token operator">+</span>i</pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">sum</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009172805-wrb6kr2.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009172805-wrb6kr2.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009172821-rdyglwd.png" alt="image.png"></p><h3 id="while-3"><a class="anchor" href="#while-3">#</a> while</h3><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>sum2<span class="token operator">=</span><span class="token number">0</span></pre></td></tr><tr><td data-num="2"></td><td><pre>k<span class="token operator">=</span><span class="token number">0</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">while</span><span class="token punctuation">(</span>k<span class="token operator">&lt;</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    sum2<span class="token operator">=</span>sum2<span class="token operator">+</span>k</pre></td></tr><tr><td data-num="5"></td><td><pre>    k<span class="token operator">=</span>k<span class="token operator">+</span><span class="token number">1</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>sum2<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009172821-rdyglwd.png" alt="image.png"></p><h3 id="break-3"><a class="anchor" href="#break-3">#</a> break</h3><p>如果要提前结束循环，可以用 <code>break</code> 语句</p><h3 id="continue-3"><a class="anchor" href="#continue-3">#</a> continue</h3><p>通过 <code>continue</code> 语句，跳过当前的这次循环，直接开始下一次循环</p><h2 id="生成器-3"><a class="anchor" href="#生成器-3">#</a> 生成器</h2><p>在 Python 中，这种一边循环一边计算的机制，称为生成器：generator。</p><p>包括生成器和带 <code>yield</code> 的 generator function。</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>g <span class="token operator">=</span> <span class="token punctuation">(</span>x <span class="token operator">*</span> x <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012191035-5wbqtm5.png" alt="image.png"></p><p>访问大文件</p><p>yield</p><h2 id="isinstance迭代器-3"><a class="anchor" href="#isinstance迭代器-3">#</a> isinstance（）迭代器</h2><p>直接作用于 <code>for</code> 循环的对象统称为可迭代对象，都是迭代器 Iterable</p><p><code>list</code> 、 <code>tuple</code> 、 <code>dict</code> 、 <code>set</code> 、 <code>str</code></p><p><code>list</code> 、 <code>dict</code> 、 <code>str</code> 虽然是 <code>Iterable</code> ，却不是 <code>Iterator</code> 。</p><p><code>list</code> 、 <code>dict</code> 、 <code>str</code> 等 <code>Iterable</code> 变成 <code>Iterator</code> 可以使用 **iter ()** 函数</p><p>以直接作用于 <code>for</code> 循环的数据类型有以下几种：</p><p>一类是集合数据类型，如 <code>list</code> 、 <code>tuple</code> 、 <code>dict</code> 、 <code>set</code> 、 <code>str</code> 等；</p><p>一类是 <code>generator</code> ，包括生成器和带 <code>yield</code> 的 generator function。</p><p>可以使用 **isinstance ()** 判断一个对象是否是 <code>Iterable</code> 对象__iter__：</p><p>迭代对象</p><p>判断是不是可以迭代，用 Iterable</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">from</span> collections <span class="token keyword">import</span> Iterable</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token builtin">isinstance</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> Iterable<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">True</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token builtin">isinstance</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Iterable<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">True</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token builtin">isinstance</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> Iterable<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">False</span></pre></td></tr></tbody></table></figure><p>判断是不是迭代器，用 Iterator</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">from</span> collections <span class="token keyword">import</span> Iterator</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token builtin">isinstance</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> Iterator<span class="token punctuation">)</span>  <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">False</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token builtin">isinstance</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Iterator<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">False</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token builtin">isinstance</span><span class="token punctuation">(</span> <span class="token punctuation">(</span>x <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Iterator<span class="token punctuation">)</span>  <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">True</span></pre></td></tr></tbody></table></figure><p>Python 中 list，truple，str，dict 这些都可以被迭代，但他们并不是迭代器，为什么：：因为和迭代器相比有一个很大的不同，list/truple/map/dict 这些数据的大小是确定的，也就是说有多少事可知的。但迭代器不是，迭代器不知道要执行多少次，所以可以理解为不知道有多少个元素，每调用一次 next ()，就会往下走一步，是惰性的。</p><h2 id="函数-3"><a class="anchor" href="#函数-3">#</a> 函数</h2><p>抽象</p><p>将函数抽象成一个函数名称，不看内部结构直接调用方法</p><p>返回类型 函数名（输入参数）：</p><p>函数体</p><h3 id="调用函数-3"><a class="anchor" href="#调用函数-3">#</a> 调用函数</h3><p>要调用一个函数，需要知道函数的名称和参数</p><p>绝对值 abs</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012142010-d503sa9.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012142024-cscdoiu.png" alt="image.png"></p><h3 id="定义函数-3"><a class="anchor" href="#定义函数-3">#</a> 定义函数</h3><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">myabs</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">if</span> x<span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        <span class="token keyword">return</span> x</pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">if</span> x<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token keyword">return</span> <span class="token operator">-</span>x</pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>myabs<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012144653-0ds9bc4.png" alt="image.png"></p><h3 id="空函数-3"><a class="anchor" href="#空函数-3">#</a> 空函数</h3><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">nufun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">pass</span></pre></td></tr></tbody></table></figure><p><code>pass</code> 可以用来作为占位符</p><h3 id="函数-参数检查-3"><a class="anchor" href="#函数-参数检查-3">#</a> 函数 参数检查</h3><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">my_init_abs</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">if</span> <span class="token keyword">not</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">,</span><span class="token builtin">float</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        <span class="token keyword">raise</span> TypeError<span class="token punctuation">(</span><span class="token string">'no no no'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">else</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token keyword">if</span> x<span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="6"></td><td><pre>            <span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token keyword">if</span> x<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="8"></td><td><pre>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token operator">-</span>x<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre>my_init_abs<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">90</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012144640-6xnfm9s.png" alt="image.png"></p><h3 id="可返回多个值函数-3"><a class="anchor" href="#可返回多个值函数-3">#</a> 可返回多个值，函数</h3><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">return_much</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    a<span class="token operator">=</span><span class="token string">'返回'</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    b<span class="token operator">=</span><span class="token string">'我也返回'</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    c<span class="token operator">=</span><span class="token string">'我也要返回'</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">return</span> a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c</pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>return_much<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>return_much<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012144955-kyvotx4.png" alt="image.png"></p><h3 id="函数参数-3"><a class="anchor" href="#函数参数-3">#</a> 函数参数</h3><p>*<strong>args 是可变参数，args 接收的是一个 tuple；</strong></p><p>**<strong>kw 是关键字参数，kw 接收的是一个 dict</strong>。</p><p><code>power(x)</code> 函数，参数 <code>x</code> 就是一个位置参数，可单个变量，list，set，tuple</p><p><code>power(*x)</code> 函数，可传入单个变量，list，set，tuple，可以传入任意个参数或 0 个参数</p><p><code>power(**kw)</code> 函数，字典 dict</p><p>可变参数允许你传入 0 个或任意个参数，这些可变参数在函数调用时自动组装为一个 tuple。</p><p>而关键字参数允许你传入 0 个或任意个含参数名的参数，这些关键字参数在函数内部自动组装为一个<strong> dict</strong>.</p><p><code>power(x, n)</code> ，用来计算 x<sup>n</sup></p><p><code>power(x, n)</code> 函数有两个参数： <code>x</code> 和 <code>n</code></p><p>默认参数，此时 age 和 city 为默认参数，可传值改变也可不变【不用传值】</p><p><code>power(L=None)</code> 函数有 None 这个不变对象，可用 list</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">enroll</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> gender<span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">,</span> city<span class="token operator">=</span><span class="token string">'Beijing'</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'name:'</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'gender:'</span><span class="token punctuation">,</span> gender<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'age:'</span><span class="token punctuation">,</span> age<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'city:'</span><span class="token punctuation">,</span> city<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012151610-9n1rxhq.png" alt="image.png"></p><h4 id="必选参数-3"><a class="anchor" href="#必选参数-3">#</a> 必选参数</h4><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">a1</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">return</span> x</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">(</span><span class="token number">12.1</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">(</span><span class="token string">'ruan'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">"key"</span><span class="token punctuation">:</span><span class="token string">"vleaue"</span><span class="token punctuation">,</span><span class="token string">'name'</span><span class="token punctuation">:</span><span class="token string">'ruan'</span><span class="token punctuation">,</span><span class="token string">'mun'</span><span class="token punctuation">:</span><span class="token number">23</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012153014-r27ykfm.png" alt="image.png"></p><h4 id="默认参数-3"><a class="anchor" href="#默认参数-3">#</a> = 默认参数</h4><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">a2</span><span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">return</span> x</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">(</span><span class="token number">12.1</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">(</span><span class="token string">'ruan'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">"key"</span><span class="token punctuation">:</span><span class="token string">"vleaue"</span><span class="token punctuation">,</span><span class="token string">'name'</span><span class="token punctuation">:</span><span class="token string">'ruan'</span><span class="token punctuation">,</span><span class="token string">'mun'</span><span class="token punctuation">:</span><span class="token number">23</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012153014-r27ykfm.png" alt="image.png"></p><h4 id="可变参数-3"><a class="anchor" href="#可变参数-3">#</a> * 可变参数</h4><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">a3</span><span class="token punctuation">(</span><span class="token operator">*</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">return</span> x</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">(</span><span class="token number">12.1</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">(</span><span class="token string">'ruan'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">"key"</span><span class="token punctuation">:</span><span class="token string">"vleaue"</span><span class="token punctuation">,</span><span class="token string">'name'</span><span class="token punctuation">:</span><span class="token string">'ruan'</span><span class="token punctuation">,</span><span class="token string">'mun'</span><span class="token punctuation">:</span><span class="token number">23</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012154346-2eahz0b.png" alt="image.png"></p><h4 id="关键字参数-3"><a class="anchor" href="#关键字参数-3">#</a> ** 关键字参数</h4><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">a3</span><span class="token punctuation">(</span><span class="token operator">**</span>kw<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">return</span> kw</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">(</span>kw<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">(</span>kw<span class="token operator">=</span><span class="token number">12.1</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">(</span>kw<span class="token operator">=</span><span class="token string">'ruan'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">(</span>kw<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">(</span>kw<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>a3<span class="token punctuation">(</span>kw<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">(</span>kw<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>a3<span class="token punctuation">(</span>kw<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">(</span>kw<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">"key"</span><span class="token punctuation">:</span><span class="token string">"vleaue"</span><span class="token punctuation">,</span><span class="token string">'name'</span><span class="token punctuation">:</span><span class="token string">'ruan'</span><span class="token punctuation">,</span><span class="token string">'mun'</span><span class="token punctuation">:</span><span class="token number">23</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012154409-tp9u2z5.png" alt="image.png"></p><h3 id="递归函数-3"><a class="anchor" href="#递归函数-3">#</a> 递归函数</h3><p>在函数内部，可以调用其他函数。</p><p>一个函数在<strong>内部调用自身本身</strong>，这个函数就是<strong>递归函数</strong>。</p><p>使用递归函数需要<strong>注意防止栈溢出</strong></p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token comment">#递归函数</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">def</span> <span class="token function">funmyself</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">if</span> x<span class="token operator">&gt;</span><span class="token number">1</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>        <span class="token keyword">return</span> x<span class="token operator">+</span>funmyself<span class="token punctuation">(</span>x<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">elif</span> x<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        <span class="token keyword">return</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>funmyself<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012155139-884p9as.png" alt="image.png"></p><p>解决栈溢出方法：</p><p><strong>尾递归</strong>优化，事实上尾递归和循环的效果是一样的</p><p>尾递归是指，在函数返回的时候，<strong>调用自身</strong>本身，并且，<strong>return 语句不能包含表达式</strong></p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token comment">#尾递归</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">def</span> <span class="token function">funmyself2</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">return</span>  funmyself2_it<span class="token punctuation">(</span>n<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">def</span>  <span class="token function">funmyself2_it</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span>pro<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">if</span> n<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token keyword">return</span> pro</pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">else</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="9"></td><td><pre>        <span class="token keyword">return</span> funmyself2<span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">+</span>n</pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>funmyself2<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211012160333-tngb33o.png" alt="image.png"></p><p>此时 funmyself2 是尾递归函数</p><h2 id="转义字符-3"><a class="anchor" href="#转义字符-3">#</a> 转义字符 <code>\</code></h2><p>转义字符 <code>\</code> 可以转义很多字符，比如</p><p><code>\n</code> 表示换行，</p><p><code>\t</code> 表示制表符，</p><p>字符 <code>\</code> 本身也要转义，所以 <code>\\</code> 表示的字符就是 <code>\</code></p><p>Python 还允许用 <code>r''</code> 表示 <code>''</code> 内部的字符串默认不转义</p><h2 id="运算符and-or和not-3"><a class="anchor" href="#运算符and-or和not-3">#</a> 运算符 and、or 和 not</h2><p>运算优先级：not&gt;or&gt;and</p><h2 id="除法-3"><a class="anchor" href="#除法-3">#</a> 除法 ///</h2><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token operator">/</span><span class="token number">3</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token operator">//</span><span class="token number">3</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><h4 id="除法一-浮点数-3"><a class="anchor" href="#除法一-浮点数-3">#</a> 除法一 / 浮点数</h4><h4 id="除法二-地板除-整数-3"><a class="anchor" href="#除法二-地板除-整数-3">#</a> 除法二 // 地板除 整数</h4><p><code>/</code> 除法计算结果是浮点数，即使是两个整数恰好整除，结果也是浮点数：</p><p><code>//</code> ，称为地板除，两个整数的除法仍然是整数：</p><h2 id="取余-3"><a class="anchor" href="#取余-3">#</a> 取余 %</h2><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token operator">%</span><span class="token number">1</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token operator">%</span><span class="token number">3</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token operator">%</span><span class="token number">7</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">%</span><span class="token number">20</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">#如果 a% b a&gt;b 则结果为 a</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009141744-i2nxg58.png" alt="image.png"></p><h2 id="字符编码-3"><a class="anchor" href="#字符编码-3">#</a> 字符编码</h2><p><code>ASCII</code> 编码</p><p>8 个比特（bit）作为一个字节（byte）</p><p>一个字节能表示的最大的整数就是 255（二进制 11111111 = 十进制 255）</p><p>两个字节可以表示的最大整数是 <code>65535</code> ，4 个字节可以表示的最大整数是 <code>4294967295</code></p><p>大写字母 <code>A</code> 的编码是 <code>65</code> ，二进制的 <code>01000001</code> ，小写字母 <code>z</code> 的编码是 <code>122</code></p><p>Unicode 把所有语言都统一到一套编码里，这样就不会再有乱码问题</p><p>ASCII 编码是 1 个字节，而 Unicode 编码通常是 2 个字节</p><p><strong>ASCll 出现乱码问题引入 Unicode 编码存储空间多了一倍引入 UTF-8 编码</strong></p><p>utf-8：将<strong> Unicode 字符根据不同的数字大小编码成 1-6 个字节，常用的英文字母被编码成 1 个字节，汉字通常是 3 个字节，</strong></p><table><thead><tr><th>字符</th><th>ASCII</th><th>Unicode</th><th>UTF-8</th></tr></thead><tbody><tr><td>A</td><td>01000001</td><td>00000000 01000001</td><td>01000001</td></tr><tr><td>中</td><td>x</td><td>01001110 00101101</td><td>11100100 10111000 10101101</td></tr></tbody></table><p>在计算机内存中，统一使用 Unicode 编码，当需要保存到硬盘或者需要传输的时候，就转换为 UTF-8 编码。</p><p>用记事本编辑的时候，从文件读取的 UTF-8 字符被转换为 Unicode 字符到内存里，编辑完成后，保存的时候再把 Unicode 转换为 UTF-8 保存到文件</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009142650-uopgqob.png" alt="image.png"></p><p>浏览网页的时候，服务器会把动态生成的 Unicode 内容转换为 UTF-8 再传输到浏览器：</p><p><img data-src="https://www.liaoxuefeng.com/files/attachments/923923759189600/0" alt="web-utf-8"></p><h4 id="compile-字符串编译为字节代码-3"><a class="anchor" href="#compile-字符串编译为字节代码-3">#</a> compile () 字符串编译为字节代码</h4><h4 id="编码转化-3"><a class="anchor" href="#编码转化-3">#</a> 编码转化</h4><h4 id="orda-字母转字符-3"><a class="anchor" href="#orda-字母转字符-3">#</a> ord ('A') 字母转字符</h4><h4 id="chr65-字符转字母-3"><a class="anchor" href="#chr65-字符转字母-3">#</a> chr (65) 字符转字母</h4><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>a<span class="token operator">=</span><span class="token builtin">ord</span><span class="token punctuation">(</span><span class="token string">'A'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre>b<span class="token operator">=</span><span class="token builtin">chr</span><span class="token punctuation">(</span><span class="token number">65</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009144810-rm45nsz.png" alt="image.png"></p><h4 id="bstr转为字节类型bytes-3"><a class="anchor" href="#bstr转为字节类型bytes-3">#</a> b'str' 转为字节类型 bytes</h4><p><code>bytes</code> 类型的数据用带 <code>b</code> 前缀的单引号或双引号表示</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>x <span class="token operator">=</span> <span class="token string">b'ABC'</span></pre></td></tr></tbody></table></figure><p>要注意区分 <code>'ABC'</code> 和 <code>b'ABC'</code> ，前者是 <code>str</code> ，后者虽然内容显示得和前者一样，但 <code>bytes</code> 的每个字符都只占用一个字节。</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009145112-3dmegln.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009150224-kn57ioe.png" alt="image.png"></p><h4 id="strencodeascii-str-变为-bytes-3"><a class="anchor" href="#strencodeascii-str-变为-bytes-3">#</a> str.encode('ascii') <code>str</code> 变为 <code>bytes</code></h4><p><code>ASCII</code></p><p><code>UTF-8</code></p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009150118-wy36xea.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009150204-81jvyjd.png" alt="image.png"></p><h4 id="strdecodeutf-8bytes变为-str-3"><a class="anchor" href="#strdecodeutf-8bytes变为-str-3">#</a> str.decode('utf-8') <code>bytes</code> 变为 <code>str</code></h4><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span><span class="token string">b'abc'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">b'abc'</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span><span class="token string">b'abc'</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009150844-zvt6jkv.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009150746-31uq63m.png" alt="image.png"></p><p>len（str）计算字符数</p><p>函数计算的是 <code>str</code> 的字符数，如果换成 <code>bytes</code> ， <code>len()</code> 函数就计算字节数</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span><span class="token string">'abc'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span><span class="token string">b'abc'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span><span class="token string">'中'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span><span class="token string">'中'</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009151234-rhao6fv.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009151321-6k73tn8.png" alt="image.png"></p><h2 id="特殊注释-3"><a class="anchor" href="#特殊注释-3">#</a> 特殊注释</h2><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token comment">#!/usr/bin/env python3</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment"># -*- coding: utf-8 -*-</span></pre></td></tr></tbody></table></figure><p>第一行注释是为了告诉 Linux/OS X 系统，这是一个 Python 可执行程序，<strong>Windows 系统会忽略这个注释</strong>；</p><p>第二行注释是为了告诉 Python 解释器，<strong>按照 UTF-8 编码读取源代码</strong>，否则，你在源代码中写的中文输出可能会有乱码。</p><h2 id="占位符-格式化-3"><a class="anchor" href="#占位符-格式化-3">#</a> 占位符 格式化</h2><h3 id="占位符s-d-f-3"><a class="anchor" href="#占位符s-d-f-3">#</a> 占位符 % s % d % f</h3><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009152324-rmac8lz.png" alt="image.png"></p><p>格式化方式和 C 语言是一致</p><p><code>%</code> 运算符就是用来格式化字符串的。</p><p>在字符串内部，</p><p><code>%s</code> 表示用字符串替换，</p><p><code>%d</code> 表示用整数替换，</p><p>有几个 <code>%?</code> 占位符，后面就跟几个变量或者值，顺序要对应好。如果只有一个 <code>%?</code> ，括号可以省略</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009152708-zy7vi8x.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009152722-wq5flos.png" alt="image.png"></p><table><thead><tr><th>占位符</th><th>替换内容</th></tr></thead><tbody><tr><td>%d</td><td>整数</td></tr><tr><td>%f</td><td>浮点数</td></tr><tr><td>%s</td><td>字符串</td></tr><tr><td>%x</td><td>十六进制整数</td></tr></tbody></table><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009153422-r1s8f5z.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009153433-1uhb1w3.png" alt="image.png"></p><p>转义： <code>%%</code> 来表示一个 <code>%</code></p><h3 id="format格式化字符串-3"><a class="anchor" href="#format格式化字符串-3">#</a> format（）格式化字符串</h3><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009154141-a3v7tnj.png" alt="image.png"></p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009154153-o6u9yd7.png" alt="image.png"></p><h3 id="f-string-格式化字符串-3"><a class="anchor" href="#f-string-格式化字符串-3">#</a> f-string 格式化字符串</h3><p><code>{r}</code> 被变量 <code>r</code> 的值替换， <code>{s:.2f}</code> 被变量 <code>s</code> 的值替换，并且 <code>:</code> 后面的 <code>.2f</code> 指定了格式化参数（即保留两位小数），因此， <code>{s:.2f}</code> 的替换结果是 <code>19.62</code></p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009154406-qahm3f7.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211009154432-m2z0xx5.png" alt="image.png"></p><h2 id="函数式编程-3"><a class="anchor" href="#函数式编程-3">#</a> 函数式编程</h2><p>函数是 Python 内建支持的一种封装，通过层层函数进行调用</p><p>#面向过程的程序设计 #：把复杂任务分解成简单的任务，这种分解可以称之为面向过程的程序设计</p><p>函数式和函数的区别：</p><p>对比例子：计算和计算器的区别</p><p>编程语言，就是越低级的语言，越贴近计算机，抽象程度低，执行效率高，比如 C 语言；越高级的语言，越贴近计算，抽象程度高，执行效率低，比如 Lisp 语言</p><p>Python 不是纯函数式编程语言</p><p>函数式编程就是一种抽象程度很高的编程范式，</p><p>纯粹的函数式编程语言编写的<strong>函数没有变量</strong>，因此，任意一个函数，<strong>只要输入是确定的，输出就是确定的</strong></p><h3 id="函数式编程特点-3"><a class="anchor" href="#函数式编程特点-3">#</a> 函数式编程特点：</h3><ol><li>纯函数式编程语言函数没有变量，输入输出确定</li><li>允许本身作为参数传入另一个函数，允许返回一个函数</li></ol><h2 id="高阶函数-3"><a class="anchor" href="#高阶函数-3">#</a> 高阶函数</h2><p>参数中有函数</p><p>高阶函数除了可以接受函数作为参数外，还可以把函数作为结果值返回</p><h3 id="变量可以指向函数-3"><a class="anchor" href="#变量可以指向函数-3">#</a> 变量可以指向函数</h3><p>a = 函数</p><p>求绝对值的函数 <code>abs()</code> 为例</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">abs</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">abs</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211019114343-h6egecv.png" alt="image.png"></p><p>abs（-10）是函数调用，abs 是函数本身</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>k<span class="token operator">=</span><span class="token builtin">abs</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">#函数本身也可以赋值给变量</span></pre></td></tr><tr><td data-num="4"></td><td><pre>h<span class="token operator">=</span><span class="token builtin">abs</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>h<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211019114757-z778j3c.png" alt="image.png"></p><p>结论：函数本身也可以赋值给变量，即：# 变量可以指向函数。#</p><h3 id="函数名也是变量-3"><a class="anchor" href="#函数名也是变量-3">#</a> 函数名也是变量</h3><p>#函数名 #：<strong>其实就是指向函数的变量</strong></p><p>a () 中 a 是指向函数 a（）的变量</p><h3 id="传入函数-3"><a class="anchor" href="#传入函数-3">#</a> 传入函数</h3><p>既然变量可以指向函数，函数的参数能接收变量，那么一个函数就可以接收另一个函数作为参数，这种函数就称之为高阶函数。</p><p>#高阶函数 #：<strong>一个函数就可以接收另一个函数作为参数</strong></p><p>b()</p><p>a(b)</p><p>x=a</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">return</span> <span class="token builtin">abs</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">def</span> <span class="token function">a</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>f<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">return</span> f<span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token operator">+</span>f<span class="token punctuation">(</span>b<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    a1<span class="token operator">=</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    a2<span class="token operator">=</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">(</span>a1<span class="token punctuation">,</span>a2<span class="token punctuation">,</span>f<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211019115835-q2esytb.png" alt="image.png"></p><p>此时函数 a 为高阶函数，需要调用 f 函数作为参数</p><h2 id="mapreduce-内建函数-3"><a class="anchor" href="#mapreduce-内建函数-3">#</a> map/reduce 内建函数</h2><p>内建了 <code>map()</code> 和 <code>reduce()</code> 函数 高阶函数</p><h3 id="map函数处理生成新iterator迭代器-3"><a class="anchor" href="#map函数处理生成新iterator迭代器-3">#</a> map（）函数处理生成新 Iterator 迭代器</h3><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211019131933-ut47b16.png" alt="image.png"> 两个参数，函数名【函数本身】，需要处理的编程式 iterator</p><p><code>&lt;br /&gt;</code> 创建一个迭代器，使用每个迭代器中的参数计算函数。当最短迭代用尽时停止。</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token builtin">map</span><span class="token punctuation">(</span>func<span class="token punctuation">,</span> <span class="token operator">*</span>iterables<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">map</span> <span class="token builtin">object</span></pre></td></tr></tbody></table></figure><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">return</span> x<span class="token operator">*</span>x</pre></td></tr><tr><td data-num="3"></td><td><pre>r<span class="token operator">=</span><span class="token builtin">map</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211019133740-kxaifya.png" alt="image.png"></p><p>运算规则抽象</p><h3 id="reduce函数作用在序列上-3"><a class="anchor" href="#reduce函数作用在序列上-3">#</a> reduce（）函数作用在序列上</h3><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211019142951-sxqvxp4.png" alt="image.png"></p><p>两个参数，函数名【函数本身】，需要处理的 #序列 #： sequence (序列) 是一组有顺序的元素的集合</p><p>序列基本样式 [下限：上限：步长]</p><p><code>reduce</code> 把结果继续和序列的下一个元素做累积计算</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token builtin">reduce</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span> <span class="token punctuation">[</span>x1<span class="token punctuation">,</span> x2<span class="token punctuation">,</span> x3<span class="token punctuation">,</span> x4<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=</span> f<span class="token punctuation">(</span>f<span class="token punctuation">(</span>f<span class="token punctuation">(</span>x1<span class="token punctuation">,</span> x2<span class="token punctuation">)</span><span class="token punctuation">,</span> x3<span class="token punctuation">)</span><span class="token punctuation">,</span> x4<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">from</span> functools <span class="token keyword">import</span> <span class="token builtin">reduce</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">def</span> <span class="token function">fn</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">return</span> x <span class="token operator">*</span> <span class="token number">10</span> <span class="token operator">+</span> y</pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">reduce</span><span class="token punctuation">(</span>fn<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token number">13579</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211019142820-4tlrn7x.png" alt="image.png"></p><h2 id="filter过滤序列-3"><a class="anchor" href="#filter过滤序列-3">#</a> filter () 过滤序列</h2><p>参数和 map（）相似</p><p><code>filter()</code> 也接收一个函数和一个序列</p><h2 id="sorted排序-3"><a class="anchor" href="#sorted排序-3">#</a> sorted（）排序</h2><p>高阶函数<img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211020184319-dzvm55o.png" alt="image.png"></p><p>参数：排序对象，key = 函数</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>sorted<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">36</span>, <span class="token number">5</span>, -12, <span class="token number">9</span>, -21<span class="token punctuation">]</span>, <span class="token assign-left variable">key</span><span class="token operator">=</span>abs<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p>排序的核心是比较两个元素的大小</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>print<span class="token punctuation">(</span>sorted<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1,2</span>,353,6,3,234,43,435<span class="token punctuation">]</span><span class="token punctuation">))</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211020184421-43dcfax.png" alt="image.png"></p><p>key 指定绝对值大小排序</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>print<span class="token punctuation">(</span>sorted<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1,2</span>,353,6,3,234,43,435,-242,-34,34,35<span class="token punctuation">]</span>,key<span class="token operator">=</span>abs<span class="token punctuation">))</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211020184629-q7j7zxx.png" alt="image.png"></p><h2 id="返回函数-3"><a class="anchor" href="#返回函数-3">#</a> 返回函数</h2><h3 id="函数作为返回值-3"><a class="anchor" href="#函数作为返回值-3">#</a> 函数作为返回值</h3><p>高阶函数除了可以接受函数作为参数外，还可以把函数作为结果值返回</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token comment"># 如果不需要立刻求和，而是在后面的代码中，</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment"># 根据需要再计算怎么办？可以不返回求和的结果，而是返回求和的函数：</span></pre></td></tr><tr><td data-num="3"></td><td><pre>def zary_sum<span class="token punctuation">(</span>a<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="4"></td><td><pre>    def sum<span class="token punctuation">(</span><span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token assign-left variable">sum1</span><span class="token operator">=</span><span class="token number">0</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        <span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> a:</pre></td></tr><tr><td data-num="7"></td><td><pre>            <span class="token assign-left variable">sum1</span><span class="token operator">=</span>sum1+i</pre></td></tr><tr><td data-num="8"></td><td><pre>        <span class="token builtin class-name">return</span> sum1</pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token builtin class-name">return</span> <span class="token function">sum</span></pre></td></tr><tr><td data-num="10"></td><td><pre>print<span class="token punctuation">(</span>type<span class="token punctuation">(</span>zary_sum<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1,2</span>,3,4<span class="token punctuation">]</span><span class="token punctuation">))</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token assign-left variable">f</span><span class="token operator">=</span>zary_sum<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1,2</span>,3,4<span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre>print<span class="token punctuation">(</span>f<span class="token punctuation">(</span><span class="token punctuation">))</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211021100621-oot0dd6.png" alt="image.png"></p><p>调用返回函数时，每次调用都会新生成一个函数</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211021100747-ho01xzp.png" alt="image.png"></p><h2 id="闭包-3"><a class="anchor" href="#闭包-3">#</a> 闭包</h2><p>当一个函数的返回值是另外一个函数，</p><p>而返回的那个函数如果调用了其父函数内部的其它变量，如果 <strong>返回的这个函数在外部被执行，就产生了闭包</strong> 。</p><p><strong>返回函数中，返回的函数调用父函数的内部变量</strong></p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211021100950-gl5liu8.png" alt="image.png"></p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token comment">#返回函数</span></pre></td></tr><tr><td data-num="2"></td><td><pre>def count<span class="token punctuation">(</span><span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token assign-left variable">fs</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">1,4</span><span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="5"></td><td><pre>        def f<span class="token punctuation">(</span><span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="6"></td><td><pre>            <span class="token builtin class-name">return</span> i*i</pre></td></tr><tr><td data-num="7"></td><td><pre>        fs.append<span class="token punctuation">(</span>f<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token builtin class-name">return</span> fs</pre></td></tr><tr><td data-num="9"></td><td><pre>f1,f2,f3<span class="token operator">=</span>count<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre>print<span class="token punctuation">(</span>f1<span class="token punctuation">(</span><span class="token punctuation">)</span>,f2<span class="token punctuation">(</span><span class="token punctuation">)</span>,f3<span class="token punctuation">(</span><span class="token punctuation">))</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211021103727-wtd0kdc.png" alt="image.png"></p><p>返回一个函数时，牢记该函数并未执行，返回函数中不要引用任何可能会变化的变量。</p><h2 id="lambda匿名函数-3"><a class="anchor" href="#lambda匿名函数-3">#</a> lambda（）匿名函数</h2><p>lambda 关键字 函数参数：函数表达式</p><p>传入函数时，有些时候，不需要显式地定义函数</p><p>Python 对匿名函数的支持有限，只有一些简单的情况下可以使用匿名函数。</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>lambda x:x*x</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">#等价于</span></pre></td></tr><tr><td data-num="3"></td><td><pre>def f<span class="token punctuation">(</span>x<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="4"></td><td><pre>   <span class="token builtin class-name">return</span> x*x</pre></td></tr></tbody></table></figure><p>关键字 <code>lambda</code> 表示匿名函数，冒号前面的 <code>x</code> 表示函数参数，只能一个表达式</p><p>不用写 <code>return</code> ，返回值就是该表达式的结果。</p><p>匿名函数也是一个函数对象</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token assign-left variable">f</span><span class="token operator">=</span>lamdba x:x*x</pre></td></tr></tbody></table></figure><p>判断奇数函数</p><p>原函数：</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>def is_odd<span class="token punctuation">(</span>n<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token builtin class-name">return</span> n % <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre>L <span class="token operator">=</span> list<span class="token punctuation">(</span>filter<span class="token punctuation">(</span>is_odd, range<span class="token punctuation">(</span><span class="token number">1</span>, <span class="token number">20</span><span class="token punctuation">))</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p>采用匿名函数修改</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token assign-left variable">l</span><span class="token operator">=</span>list<span class="token punctuation">(</span>filter<span class="token punctuation">(</span>lambda x:x%2<span class="token operator">==</span><span class="token number">1</span>,range<span class="token punctuation">(</span><span class="token number">1,20</span><span class="token punctuation">))</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre>print<span class="token punctuation">(</span>l<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211021143505-wbqh836.png" alt="image.png"></p><h2 id="装饰器-decorator-3"><a class="anchor" href="#装饰器-decorator-3">#</a> 装饰器 Decorator</h2><h3 id="本质上装饰器就是一个返回函数的高阶函数-3"><a class="anchor" href="#本质上装饰器就是一个返回函数的高阶函数-3">#</a> 本质上，装饰器就是一个返回函数的高阶函数</h3><p>@log 等价于</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>now <span class="token operator">=</span> log<span class="token punctuation">(</span>now<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p>由于函数也是一个对象，而且函数对象可以被赋值给变量，</p><p>所以，通过变量也能调用该函数</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211022101101-ncgju0i.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211022101111-tgdwt0q.png" alt="image.png"></p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>def log<span class="token punctuation">(</span>func<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="2"></td><td><pre>    def wrapper<span class="token punctuation">(</span>*args,**kwargs<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="3"></td><td><pre>        print<span class="token punctuation">(</span><span class="token string">'call %s'</span>% func.__name__<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre>        <span class="token builtin class-name">return</span> func<span class="token punctuation">(</span>*args,**kwargs<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token builtin class-name">return</span> wrapper<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">#func 为参数所以是高阶函数</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">#return 函数所以是返回函数，</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token comment">#没有调用父函数中参数，所以不是闭包</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211022110733-h27x1zh.png" alt="image.png"><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211022110058-zyo7xpn.png" alt="image.png"></p><p>场景注意：</p><p>无 @装饰器时函数不调用，需要参数才调用</p><p>当 @时会直接调用装饰器定义函数然后执行函数，不用调用函数</p><p>三层时，传入参数</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>def log1<span class="token punctuation">(</span>text<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="2"></td><td><pre>    def decorator<span class="token punctuation">(</span>func<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="3"></td><td><pre>        def wapper<span class="token punctuation">(</span>*args,**kw<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="4"></td><td><pre>            print<span class="token punctuation">(</span><span class="token string">'%s %s'</span>%<span class="token punctuation">(</span>text,func.__name__<span class="token punctuation">))</span></pre></td></tr><tr><td data-num="5"></td><td><pre>            <span class="token builtin class-name">return</span> func<span class="token punctuation">(</span>*args,**kw<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        <span class="token builtin class-name">return</span> wapper</pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token builtin class-name">return</span> decorator</pre></td></tr><tr><td data-num="8"></td><td><pre>@log1<span class="token punctuation">(</span><span class="token string">'ruan'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre>def now3<span class="token punctuation">(</span><span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="10"></td><td><pre>    print<span class="token punctuation">(</span><span class="token string">"hhh"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre>now3<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p>相当于在返回高阶函数上还有一个函数，所以返回时应该还要调用一次</p><h2 id="wraps-常用装饰器-3"><a class="anchor" href="#wraps-常用装饰器-3">#</a> @wraps 常用装饰器</h2><p>当装饰器是个闭包时，装饰器调用变量会改变增加 @wraps 后装饰器内的变量不变</p><p>装饰器在装饰一个函数时，，原函数就成了一个新的函数，也</p><p>就是说其属性会发生变化，所以为了 <strong>不改变原函数的属性</strong>，</p><p>我们会调用 functools 中的 wraps 装饰器来保证原函数的属性不变</p><h4 id="不加wraps时-3"><a class="anchor" href="#不加wraps时-3">#</a> 不加 wraps 时</h4><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>@wraps<span class="token punctuation">(</span>func<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>from functools <span class="token function">import</span> wraps</pre></td></tr><tr><td data-num="2"></td><td><pre>def wrap<span class="token punctuation">(</span>func<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="3"></td><td><pre>   </pre></td></tr><tr><td data-num="4"></td><td><pre>    def b<span class="token punctuation">(</span><span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token string">'b'</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        print<span class="token punctuation">(</span><span class="token string">'decorator:'</span>,b.__name__<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        print<span class="token punctuation">(</span><span class="token string">'funname'</span>,func.__name__<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre>        func<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token builtin class-name">return</span> b</pre></td></tr><tr><td data-num="10"></td><td><pre>@wrap</pre></td></tr><tr><td data-num="11"></td><td><pre>def a<span class="token punctuation">(</span><span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token string">'a'</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    print<span class="token punctuation">(</span><span class="token string">'name'</span>,a.__name__<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre>a<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211022115935-kgsz7b2.png" alt="image.png"></p><p>加装饰器 wraps 时</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>from functools <span class="token function">import</span> wraps</pre></td></tr><tr><td data-num="2"></td><td><pre>def wrap<span class="token punctuation">(</span>func<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="3"></td><td><pre>    @wraps<span class="token punctuation">(</span>func<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    def b<span class="token punctuation">(</span><span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token string">'b'</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        print<span class="token punctuation">(</span><span class="token string">'decorator:'</span>,b.__name__<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        print<span class="token punctuation">(</span><span class="token string">'funname'</span>,func.__name__<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre>        func<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token builtin class-name">return</span> b</pre></td></tr><tr><td data-num="10"></td><td><pre>@wrap</pre></td></tr><tr><td data-num="11"></td><td><pre>def a<span class="token punctuation">(</span><span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token string">'a'</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    print<span class="token punctuation">(</span><span class="token string">'name'</span>,a.__name__<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre>a<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211022115950-2j3i7ht.png" alt="image.png"></p><p>闭包的概念：调用父函数中的变量的函数，为了保证数据安全。变量作用域只在函数内部，可在闭包中操作数据。</p><p>装饰器返回为什么是函数名（函数内存地址）而不直接执行函数？</p><p>当有参数传入时，可直接与调用的函数中的值传入参数执行。</p><p>（）是运算符 f () 与 f.<strong>call</strong> () 等价：将 f 对象变成变成可调用的对象</p><h2 id="偏函数functools模块-3"><a class="anchor" href="#偏函数functools模块-3">#</a> 偏函数（functools 模块）</h2><p>属于 functools 模块</p><h3 id="作用-5"><a class="anchor" href="#作用-5">#</a> 作用：</h3><p>通过设定参数的默认值，降低函数调用的参数</p><p><code>int()</code> 函数默认按十进制转换</p><p>print(int('100',base=8))</p><p>经常调用于是重写一个函数 int2</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>def int2<span class="token punctuation">(</span>x, <span class="token assign-left variable">base</span><span class="token operator">=</span><span class="token number">8</span><span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="2"></td><td><pre>    print<span class="token punctuation">(</span>int<span class="token punctuation">(</span>x, base<span class="token punctuation">))</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token builtin class-name">return</span> int<span class="token punctuation">(</span>x, base<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre>print<span class="token punctuation">(</span>int2<span class="token punctuation">(</span><span class="token string">'2334'</span><span class="token punctuation">))</span></pre></td></tr></tbody></table></figure><p>采用偏函数</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token function">import</span> functools</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token assign-left variable">int3</span><span class="token operator">=</span>functools.partial<span class="token punctuation">(</span>int,base<span class="token operator">=</span><span class="token number">8</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>print<span class="token punctuation">(</span>int3<span class="token punctuation">(</span><span class="token string">'46'</span><span class="token punctuation">))</span></pre></td></tr><tr><td data-num="4"></td><td><pre>print<span class="token punctuation">(</span>int<span class="token punctuation">(</span><span class="token punctuation">))</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211028103219-mdbldp6.png" alt="image.png"></p><p>functools.partial 的作用是将函数的特定参数固定住（设定为默认值）</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211028103645-7po81oc.png" alt="image.png"></p><p>创建偏函数的时候也可以接收，函数对象，*args，**kw</p><h2 id="模块-3"><a class="anchor" href="#模块-3">#</a> 模块</h2><p>python 包：作用区分相同名称的模块</p><p>模块相当于一个 py 文件</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211028105055-2xv0z2i.png" alt="image.png"></p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211028105133-tkzgcka.png" alt="image.png"></p><h2 id="作用域-3"><a class="anchor" href="#作用域-3">#</a> 作用域</h2><p>仅仅在模块内部使用。在 Python 中，是通过 <code>_</code> 前缀来实现的。</p><h3 id="pubilc公开-3"><a class="anchor" href="#pubilc公开-3">#</a> pubilc 公开</h3><p>正常的函数和变量名是公开的（public）</p><h3 id="private非公开___-3"><a class="anchor" href="#private非公开___-3">#</a> private 非公开_,__</h3><p>_xxx 和__xxx 这样的函数或变量就是非公开的（private）</p><h2 id="安装第三方模块pip-3"><a class="anchor" href="#安装第三方模块pip-3">#</a> 安装第三方模块 pip</h2><p>pip install 模块名</p><h3 id="模块搜索路径-3"><a class="anchor" href="#模块搜索路径-3">#</a> 模块搜索路径</h3><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token function">import</span> sys</pre></td></tr><tr><td data-num="2"></td><td><pre>print<span class="token punctuation">(</span>sys.path<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p>两种方式：</p><ol><li>添加搜索路径<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token function">import</span> sys</pre></td></tr><tr><td data-num="2"></td><td><pre>sys.path.append<span class="token punctuation">(</span><span class="token string">'/Users/michael/my_py_scripts'</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure></li><li>设置环境变量</li></ol><p>第二种方法是设置环境变量 <code>PYTHONPATH</code></p><h2 id="面向对象编程-3"><a class="anchor" href="#面向对象编程-3">#</a> 面向对象编程</h2><p>面向对象编程 ——Object Oriented Programming，简称 OOP，是一种程序设计思想</p><p>对象作为程序的基本单元，</p><p>一个对象包含了数据和操作数据的函数</p><p>数据封装、继承和多态是面向对象的三大特点</p><h2 id="类和实例-3"><a class="anchor" href="#类和实例-3">#</a> 类和实例</h2><p>面向对象最重要的概念就是类（Class）和实例（Instance）</p><p>类是抽象出来的模板</p><p>实例是根据类创建出的对象，每个对象可能有属性和方法</p><p>定义类是通过 <code>class</code> 关键字，类名通常是大写开头的单词</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>class Student<span class="token punctuation">(</span>object<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="2"></td><td><pre>    pass</pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211028113324-1nch2o5.png" alt="image.png"></p><p>！！！在类中定义函数有一点不同，定义佛如方法第一个参数永远是实例变量本身 self</p><p>仍然可以用默认参数、可变参数、关键字参数和命名关键字参数</p><h2 id="数据封装-3"><a class="anchor" href="#数据封装-3">#</a> 数据封装</h2><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>class Student<span class="token punctuation">(</span>object<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="2"></td><td><pre>    def __init__<span class="token punctuation">(</span>self, name, score<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="3"></td><td><pre>        self.name <span class="token operator">=</span> name</pre></td></tr><tr><td data-num="4"></td><td><pre>        self.score <span class="token operator">=</span> score</pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre>    def get_grade<span class="token punctuation">(</span>self<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token keyword">if</span> self.score <span class="token operator">&gt;</span><span class="token operator">=</span> <span class="token number">90</span>:</pre></td></tr><tr><td data-num="8"></td><td><pre>            <span class="token builtin class-name">return</span> <span class="token string">'A'</span></pre></td></tr><tr><td data-num="9"></td><td><pre>        <span class="token keyword">elif</span> self.score <span class="token operator">&gt;</span><span class="token operator">=</span> <span class="token number">60</span>:</pre></td></tr><tr><td data-num="10"></td><td><pre>            <span class="token builtin class-name">return</span> <span class="token string">'B'</span></pre></td></tr><tr><td data-num="11"></td><td><pre>        else:</pre></td></tr><tr><td data-num="12"></td><td><pre>            <span class="token builtin class-name">return</span> <span class="token string">'C'</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211028113713-vhhvowi.png" alt="image.png"></p><h2 id="访问限制-3"><a class="anchor" href="#访问限制-3">#</a> 访问限制</h2><h3 id="作用-6"><a class="anchor" href="#作用-6">#</a> 作用：</h3><p><strong>确保了外部代码不能随意修改对象内部的状态</strong></p><p>实例的变量名如果以 <code>__</code> 开头，就变成了一个私有变量（private）</p><p>外部无法访问_name</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>class Student<span class="token punctuation">(</span>object<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="2"></td><td><pre>    def __init__<span class="token punctuation">(</span>self,name,age<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="3"></td><td><pre>        self._name<span class="token operator">=</span>name</pre></td></tr><tr><td data-num="4"></td><td><pre>        self.age<span class="token operator">=</span>age</pre></td></tr><tr><td data-num="5"></td><td><pre>    def print_name<span class="token punctuation">(</span>self<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="6"></td><td><pre>        print<span class="token punctuation">(</span>self._name<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token builtin class-name">return</span> self.age,self._name</pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token assign-left variable">a</span><span class="token operator">=</span>Student<span class="token punctuation">(</span><span class="token string">'ruan'</span>,23<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token assign-left variable">h</span><span class="token operator">=</span>a.print_name<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre>print<span class="token punctuation">(</span>h<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211028114732-awu2k2m.png" alt="image.png"></p><p>若是要获取，修改变量增加 get，set 方式即可</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>class Student<span class="token punctuation">(</span>object<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="2"></td><td><pre>    def __init__<span class="token punctuation">(</span>self,name,age<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="3"></td><td><pre>        self._name<span class="token operator">=</span>name</pre></td></tr><tr><td data-num="4"></td><td><pre>        self.age<span class="token operator">=</span>age </pre></td></tr><tr><td data-num="5"></td><td><pre>    def get_name<span class="token punctuation">(</span>self<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="6"></td><td><pre>        <span class="token builtin class-name">return</span> self.name</pre></td></tr><tr><td data-num="7"></td><td><pre>    def set_name<span class="token punctuation">(</span>self,name<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="8"></td><td><pre>        self._name<span class="token operator">=</span>name</pre></td></tr></tbody></table></figure><p>Python 本身没有任何机制阻止你干坏事，一切全靠自觉。</p><p>类外部无法访问</p><h2 id="继承和多态-3"><a class="anchor" href="#继承和多态-3">#</a> 继承和多态</h2><h3 id="继承-3"><a class="anchor" href="#继承-3">#</a> 继承</h3><h4 id="多态-3"><a class="anchor" href="#多态-3">#</a> 多态</h4><p>在继承关系中，如果一个实例的数据类型是某个子类，那它的数据类型也可以被看做是父类。</p><p>比如：动物是父类，狗和鱼是子类；鱼是鱼类，鱼是动物都成立。</p><p>判断一个变量是否是某个类型可以用 <code>isinstance()</code> 判断</p><h3 id="鸭子类型-3"><a class="anchor" href="#鸭子类型-3">#</a> 鸭子类型</h3><p>并不要求严格的继承体，一个对象只要 “看起来像鸭子，走起路来像鸭子”，那它就可以被看做是鸭子。</p><h2 id="获取对象信息-3"><a class="anchor" href="#获取对象信息-3">#</a> 获取对象信息</h2><h3 id="type判断对象类型-3"><a class="anchor" href="#type判断对象类型-3">#</a> type（）判断对象类型</h3><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211102183643-gwgjuho.png" alt="image.png"></p><h3 id="isinstance对于继承关系判断class的类型-3"><a class="anchor" href="#isinstance对于继承关系判断class的类型-3">#</a> isinstance () 对于继承关系，判断 class 的类型</h3><h3 id="dir获取对象的所有属性和方法-3"><a class="anchor" href="#dir获取对象的所有属性和方法-3">#</a> dir（）获取对象的所有属性和方法</h3><h4 id="len对象长度-3"><a class="anchor" href="#len对象长度-3">#</a> len（）对象长度</h4><h4 id="lower返回小写的字符串-3"><a class="anchor" href="#lower返回小写的字符串-3">#</a> lower（）返回小写的字符串</h4><h4 id="getattr获取属性a-3"><a class="anchor" href="#getattr获取属性a-3">#</a> getattr（）获取属性 a</h4><h4 id="setattr设置属性a-3"><a class="anchor" href="#setattr设置属性a-3">#</a> setattr（）设置属性 a</h4><h4 id="hasattrobja判断是否有属性a-3"><a class="anchor" href="#hasattrobja判断是否有属性a-3">#</a> hasattr（obj,'a'）判断是否有属性 a</h4><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>getattr<span class="token punctuation">(</span>obj, <span class="token string">'z'</span>, <span class="token number">404</span><span class="token punctuation">)</span> <span class="token comment"># 获取属性 'z'，如果不存在，返回默认值 404</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token number">404</span></pre></td></tr></tbody></table></figure><h2 id="实例属性和类属性-3"><a class="anchor" href="#实例属性和类属性-3">#</a> 实例属性和类属性</h2><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211102184822-83nvy25.png" alt="image.png"></p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>class Student<span class="token punctuation">(</span>object<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token string">'ruan'</span></pre></td></tr><tr><td data-num="3"></td><td><pre>   </pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token assign-left variable">h</span><span class="token operator">=</span>Student<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre>h.name<span class="token operator">=</span><span class="token string">'hhh'</span></pre></td></tr></tbody></table></figure><p>类中的 name 是类属性，</p><p>创建 h 类对象即实例后赋值的是实例属性 name，但由于实例对象的优先级比类属性高，会屏蔽类中的 name 属性，即 h.name 的值为 hhh</p><h3 id="总结-7"><a class="anchor" href="#总结-7">#</a> 总结：</h3><ol><li>实例属性属于各个实例所有，互不干扰；</li><li>类属性属于类所有，所有实例共享一个属性；</li><li>不要对实例属性和类属性使用相同的名字，否则将产生难以发现的错误</li></ol><h1 id="面向对象高级编程-3"><a class="anchor" href="#面向对象高级编程-3">#</a> 面向对象高级编程</h1><p>数据封装、继承和多态只是面向对象程序设计中最基础的 3 个概念</p><p>多重继承、定制类、元类</p><h1 id="_slots_使用-3"><a class="anchor" href="#_slots_使用-3">#</a> _slots_使用</h1><p>可以给创建的实例绑定属性和方法</p><p>给一个实例绑定的方法对另外一个实例对象是不起作用的</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>class A:</pre></td></tr><tr><td data-num="2"></td><td><pre>    def run<span class="token punctuation">(</span>self<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="3"></td><td><pre>        print<span class="token punctuation">(</span><span class="token string">"i im ferther runing...."</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token assign-left variable">sun1</span><span class="token operator">=</span>A<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">#给实例 sun1 设置 name 属性</span></pre></td></tr><tr><td data-num="6"></td><td><pre>sun1.name<span class="token operator">=</span><span class="token string">'i im name'</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">#创建实例对象 2</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token assign-left variable">sun2</span><span class="token operator">=</span>A<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment">#实例对象 sun1 的属性和 sun2 无关，即 sun2 没有 name 属性</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token comment">#给实例 sun1 绑定方法，方法和属性同理</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment">#定义方法</span></pre></td></tr><tr><td data-num="12"></td><td><pre>def setAll<span class="token punctuation">(</span>self,num<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="13"></td><td><pre>    print<span class="token punctuation">(</span>num<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre>sun1.newfun<span class="token operator">=</span>MethodType<span class="token punctuation">(</span>setAll, sun1<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="15"></td><td><pre>sun1.newfun<span class="token punctuation">(</span><span class="token number">37</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token comment">#若所有实例都需要绑定方法则给类绑定方法</span></pre></td></tr><tr><td data-num="17"></td><td><pre>A.setAll<span class="token operator">=</span>setAll</pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token comment">#给类绑定方法后，所有创建的实例的均可调用</span></pre></td></tr></tbody></table></figure><pre><code>def set_age(self, age): # 定义一个函数作为实例方法
...     self.age = age
...
&gt;&gt;&gt; from types import MethodType
&gt;&gt;&gt; s.set_age = MethodType(set_age, s) # 给实例绑定一个方法
&gt;&gt;&gt; s.set_age(25) # 调用实例方法
</code></pre><h2 id="限制实例属性定义一个特殊的-__slots__变量-3"><a class="anchor" href="#限制实例属性定义一个特殊的-__slots__变量-3">#</a> 限制实例属性，定义一个特殊的 <code>__slots__</code> 变量</h2><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    __slots__ <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">)</span> <span class="token comment"># 用 tuple 定义允许绑定的属性名称</span></pre></td></tr><tr><td data-num="3"></td><td><pre>s<span class="token operator">=</span>Student<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre>s<span class="token punctuation">.</span>name<span class="token operator">=</span><span class="token string">'ruan'</span></pre></td></tr><tr><td data-num="5"></td><td><pre>s<span class="token punctuation">.</span>firstname<span class="token operator">=</span><span class="token string">'i im firstname'</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">#输出的时候 firstname 的属性会报错，</span></pre></td></tr><tr><td data-num="7"></td><td><pre>Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="8"></td><td><pre>  File <span class="token string">"&lt;stdin&gt;"</span><span class="token punctuation">,</span> line <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">&gt;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>AttributeError<span class="token punctuation">:</span> <span class="token string">'Student'</span> <span class="token builtin">object</span> has no attribute <span class="token string">'firstaname'</span></pre></td></tr></tbody></table></figure><h3 id="注意-3"><a class="anchor" href="#注意-3">#</a> 注意：</h3><p>_slots_使用时要注意，定义的属性只在当前的类的实例中，对于继承的子类是不起作用的</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">People</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    __slots__ <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span><span class="token string">'age'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'i im run people......'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Teacher</span><span class="token punctuation">(</span>People<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">say</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="8"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'i im teacher....'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre>t<span class="token operator">=</span>Teacher<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre>t<span class="token punctuation">.</span>tall<span class="token operator">=</span><span class="token string">'shouhua'</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>tall<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre>p<span class="token operator">=</span>People<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="13"></td><td><pre>p<span class="token punctuation">.</span>tall<span class="token punctuation">(</span><span class="token string">'shouhuap'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>tall<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211103140608-7ezqmvs.png" alt="image.png"></p><p>只限制父类 People 的属性，而子类 Teacher 中不限制</p><h2 id="property-3"><a class="anchor" href="#property-3">#</a> @property</h2><p>在绑定属性时，如果我们直接把属性暴露出去，导致可以随意更改。通过 get，set 来获取更改属性值。</p><p>在 python 中直接调用装饰器将一个方法变成属性调用</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token decorator annotation punctuation">@property</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token comment">#使用 get 方法是调用装饰器 @peoperty，</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token comment"># 同时自动创建了另一个装饰器 @属性.setter</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">score</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>score</pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token decorator annotation punctuation">@score<span class="token punctuation">.</span>setter</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">score</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>value<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="9"></td><td><pre>        self<span class="token punctuation">.</span>_score<span class="token operator">=</span>value</pre></td></tr></tbody></table></figure><h2 id="总结-8"><a class="anchor" href="#总结-8">#</a> 总结：</h2><p>- 权限限制只对类对象实际起作用，想要达到方法和属性强制访问权限，需要使用 @property 装饰器进行 get，set 方法</p><p>属性名与方法名一定要区分开，不然会进入死循环（self._age，def age ()）<br>实例化的对象使用属性时，不是调用属性（meizi._age），而是用的方法名（meizi.age）<br>@property 其实就是实现了 getter 功能； @xxx.setter 实现的是 setter 功能；还有一个 @xxx.deleter 实现删除功能<br>定义方法的时候 @property 必须在 @xxx.setter 之前，且二者修饰的方法名相同（age ()）<br>如果只实现了 @property（而没有实现 @xxx.setter），那么该属性为 只读属性</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token comment">#请利用 @property 给一个 Screen 对象加上 width 和 height 属性，</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment"># 以及一个只读属性 resolution：</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Screen</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    __slots__ <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">'_width'</span><span class="token punctuation">,</span><span class="token string">'_height'</span><span class="token punctuation">,</span><span class="token string">'_resolution'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token decorator annotation punctuation">@property</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">width</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="8"></td><td><pre>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>_width</pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token comment"># 方法名称和实例变量均为 width:</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token decorator annotation punctuation">@width<span class="token punctuation">.</span>setter</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">width</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>widthValue<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="13"></td><td><pre>        self<span class="token punctuation">.</span>_width<span class="token operator">=</span>widthValue</pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token decorator annotation punctuation">@property</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">height</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="17"></td><td><pre>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>_height</pre></td></tr><tr><td data-num="18"></td><td><pre></pre></td></tr><tr><td data-num="19"></td><td><pre>    <span class="token decorator annotation punctuation">@width<span class="token punctuation">.</span>setter</span></pre></td></tr><tr><td data-num="20"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">height</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="21"></td><td><pre>        self<span class="token punctuation">.</span>_height <span class="token operator">=</span> height</pre></td></tr><tr><td data-num="22"></td><td><pre></pre></td></tr><tr><td data-num="23"></td><td><pre>    <span class="token decorator annotation punctuation">@property</span></pre></td></tr><tr><td data-num="24"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">resolution</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="25"></td><td><pre>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>_width <span class="token operator">*</span> self<span class="token punctuation">.</span>_height</pre></td></tr><tr><td data-num="26"></td><td><pre>s<span class="token operator">=</span>Screen<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="27"></td><td><pre>s<span class="token punctuation">.</span>width<span class="token operator">=</span><span class="token number">23</span></pre></td></tr><tr><td data-num="28"></td><td><pre>s<span class="token punctuation">.</span>height<span class="token operator">=</span><span class="token number">12</span></pre></td></tr><tr><td data-num="29"></td><td><pre></pre></td></tr><tr><td data-num="30"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>resolution<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211103150647-dge6za2.png" alt="image.png"></p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>s<span class="token punctuation">.</span>score <span class="token operator">=</span> <span class="token number">60</span> <span class="token comment"># OK，实际转化为 s.set_score (60)</span></pre></td></tr><tr><td data-num="2"></td><td><pre>s<span class="token punctuation">.</span>score <span class="token comment"># OK，实际转化为 s.get_score ()</span></pre></td></tr></tbody></table></figure><p>要特别注意：属性的方法名不要和实例变量重名。例如，以下的代码是错误的：</p><pre><code>class Student(object):

    # 方法名称和实例变量均为birth:
    @property
    def birth(self):
        return self.birth
</code></pre><p>出现递归调用错误</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211103151046-5z499ew.png" alt="image.png"></p><p>之前的例子中 width 和_width 不同所以可以运行</p><h2 id="多重继承-5"><a class="anchor" href="#多重继承-5">#</a> 多重继承</h2><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211103151750-dvwa7qb.png" alt="image.png"></p><p>python 可以支持多继承，即一个子类可以继承多个父类；但 java 是单继承，只能有一个父类</p><p>Tercher（Name，study，teach）即 Teacher 可以继承多个父类</p><h3 id="mixin-3"><a class="anchor" href="#mixin-3">#</a> MixIn</h3><p>在设计类的继承关系时，通常，主线都是单一继承下来的，例如， <code>Teacher</code> 继承自 Name。但是，如果需要 “混入” 额外的功能，通过多重继承就可以实现，比如 Teacher 除了继承自 <code>Name</code> 外，再同时继承 <code>Teach</code> 。这种设计通常称之为 MixIn</p><p>Python 自带了 <code>TCPServer</code> 和 <code>UDPServer</code> 这两类网络服务，而要同时服务多个用户就必须使用多进程或多线程模型，这两种模型由 <code>ForkingMixIn</code> 和 <code>ThreadingMixIn</code> 提供。</p><h3 id="多继承-3"><a class="anchor" href="#多继承-3">#</a> 多继承</h3><p>多重继承这个名词一般用来形容继承链条可以很长，多个层次。</p><h3 id="多重继承-6"><a class="anchor" href="#多重继承-6">#</a> 多重继承</h3><p><strong>多继承则指一个类可以有多个基类，相反则是单继承</strong>。任何面向对象编程语言都支持多重继承，但像 java 这种只能通过接口实现有限程度的多继承</p><p>问：多继承 如果多个类有共同得方法名 怎么区分是调得哪个类🤡</p><p>答：调用该方法的时候，会调用第一顺位继承父类的方法</p><h3 id="总结-9"><a class="anchor" href="#总结-9">#</a> 总结：</h3><ol><li>Python 允许使用多重继承，因此，MixIn 就是一种常见的设计</li><li>只允许单一继承的语言（如 Java）不能使用 MixIn 的设计</li></ol><h2 id="定制类-3"><a class="anchor" href="#定制类-3">#</a> 定制类</h2><p>Python 的 class 中还有__xxx__有特殊用途的函数，可以帮助我们定制类</p><h3 id="str回用户看到的字符串-3"><a class="anchor" href="#str回用户看到的字符串-3">#</a> <strong>str</strong> () 回用户看到的字符串</h3><p>将对象 <code>&lt;__main__.Student object at 0x109afb190&gt;</code> 变成易读的数据</p><p>只在调用 print 时会调用__str__，交互界面时还是现实上方不易读的对象内容，此时用</p><h3 id="repr返回程序开发者看到的字符串-3"><a class="anchor" href="#repr返回程序开发者看到的字符串-3">#</a> <strong>repr</strong> () 返回程序开发者看到的字符串</h3><p><code>__str__()</code> 返回用户看到的字符串，而 <code>__repr__()</code> 返回程序开发者看到的字符串，</p><p>也就是说， <code>__repr__()</code> 是为调试服务的</p><p>简写</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">__str__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>        <span class="token keyword">return</span> <span class="token string">'xxx object (name=%s)'</span> <span class="token operator">%</span> self<span class="token punctuation">.</span>name</pre></td></tr><tr><td data-num="3"></td><td><pre>__repr__ <span class="token operator">=</span> __str__</pre></td></tr></tbody></table></figure><h3 id="_iter返回一个迭代对象-3"><a class="anchor" href="#_iter返回一个迭代对象-3">#</a> _<strong>iter</strong> () 返回一个迭代对象</h3><p>需要用到 for in 迭代，需要转化为迭代对象</p><p>该方法返回一个迭代对象，然后，Python 的 for 循环就会不断调用该迭代对象的 <code>__next__()</code> 方法拿到循环的下一个值，直到遇到 <code>StopIteration</code> 错误时退出循环</p><p>例子：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Fib</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        self<span class="token punctuation">.</span>a<span class="token punctuation">,</span>self<span class="token punctuation">.</span>b<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__iter__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token keyword">return</span> self</pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__next__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        self<span class="token punctuation">.</span>a<span class="token punctuation">,</span>self<span class="token punctuation">.</span>b<span class="token operator">=</span>self<span class="token punctuation">.</span>b<span class="token punctuation">,</span>self<span class="token punctuation">.</span>a<span class="token operator">+</span>self<span class="token punctuation">.</span>b</pre></td></tr><tr><td data-num="8"></td><td><pre>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>a<span class="token operator">&gt;</span><span class="token number">1000</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="9"></td><td><pre>            <span class="token keyword">raise</span>  StopIteration</pre></td></tr><tr><td data-num="10"></td><td><pre>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>a</pre></td></tr><tr><td data-num="11"></td><td><pre>a<span class="token operator">=</span>Fib<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">for</span> i <span class="token keyword">in</span> a<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211103155046-1xs33i9.png" alt="image.png"></p><h3 id="getitem表现得像list那样按照下标取出元素-3"><a class="anchor" href="#getitem表现得像list那样按照下标取出元素-3">#</a> <strong><strong>getitem</strong></strong> () 表现得像 list 那样按照下标取出元素</h3><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Fib</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        self<span class="token punctuation">.</span>a<span class="token punctuation">,</span>self<span class="token punctuation">.</span>b<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__iter__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token keyword">return</span> self</pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__next__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        self<span class="token punctuation">.</span>a<span class="token punctuation">,</span>self<span class="token punctuation">.</span>b<span class="token operator">=</span>self<span class="token punctuation">.</span>b<span class="token punctuation">,</span>self<span class="token punctuation">.</span>a<span class="token operator">+</span>self<span class="token punctuation">.</span>b</pre></td></tr><tr><td data-num="8"></td><td><pre>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>a<span class="token operator">&gt;</span><span class="token number">1000</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="9"></td><td><pre>            <span class="token keyword">raise</span>  StopIteration</pre></td></tr><tr><td data-num="10"></td><td><pre>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>a</pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__getitem__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="12"></td><td><pre>        a<span class="token punctuation">,</span>b<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span></pre></td></tr><tr><td data-num="13"></td><td><pre>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="14"></td><td><pre>            a<span class="token punctuation">,</span>b<span class="token operator">=</span>b<span class="token punctuation">,</span>a<span class="token operator">+</span>b</pre></td></tr><tr><td data-num="15"></td><td><pre>        <span class="token keyword">return</span> a</pre></td></tr><tr><td data-num="16"></td><td><pre>a<span class="token operator">=</span>Fib<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211103155122-fo5pjxz.png" alt="image.png"></p><p>以上是传入 int，切片功能实现，isinstance 判断类型</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Fib</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        self<span class="token punctuation">.</span>a<span class="token punctuation">,</span>self<span class="token punctuation">.</span>b<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__iter__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token keyword">return</span> self</pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__next__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        self<span class="token punctuation">.</span>a<span class="token punctuation">,</span>self<span class="token punctuation">.</span>b<span class="token operator">=</span>self<span class="token punctuation">.</span>b<span class="token punctuation">,</span>self<span class="token punctuation">.</span>a<span class="token operator">+</span>self<span class="token punctuation">.</span>b</pre></td></tr><tr><td data-num="8"></td><td><pre>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>a<span class="token operator">&gt;</span><span class="token number">1000</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="9"></td><td><pre>            <span class="token keyword">raise</span>  StopIteration</pre></td></tr><tr><td data-num="10"></td><td><pre>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>a</pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__getitem__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="12"></td><td><pre>        <span class="token keyword">if</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span><span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="13"></td><td><pre>            a<span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="14"></td><td><pre>            <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="15"></td><td><pre>                a<span class="token punctuation">,</span> b <span class="token operator">=</span> b<span class="token punctuation">,</span> a <span class="token operator">+</span> b</pre></td></tr><tr><td data-num="16"></td><td><pre>            <span class="token keyword">return</span> a</pre></td></tr><tr><td data-num="17"></td><td><pre>        <span class="token keyword">if</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span><span class="token builtin">slice</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="18"></td><td><pre>            start<span class="token operator">=</span>item<span class="token punctuation">.</span>start</pre></td></tr><tr><td data-num="19"></td><td><pre>            stop<span class="token operator">=</span>item<span class="token punctuation">.</span>stop</pre></td></tr><tr><td data-num="20"></td><td><pre>            <span class="token keyword">if</span> start <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="21"></td><td><pre>                start<span class="token operator">=</span><span class="token number">0</span></pre></td></tr><tr><td data-num="22"></td><td><pre>            a<span class="token punctuation">,</span>b<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span></pre></td></tr><tr><td data-num="23"></td><td><pre>            L<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="24"></td><td><pre>            <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>stop<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="25"></td><td><pre>                L<span class="token punctuation">.</span>append<span class="token punctuation">(</span>a<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="26"></td><td><pre>                a<span class="token punctuation">,</span>b<span class="token operator">=</span>b<span class="token punctuation">,</span>a<span class="token operator">+</span>b</pre></td></tr><tr><td data-num="27"></td><td><pre>        <span class="token keyword">return</span> L</pre></td></tr><tr><td data-num="28"></td><td><pre></pre></td></tr><tr><td data-num="29"></td><td><pre>a<span class="token operator">=</span>Fib<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="30"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211103155838-wdwjies.png" alt="image.png"></p><h3 id="getattr动态返回一个属性-3"><a class="anchor" href="#getattr动态返回一个属性-3">#</a> <strong>getattr</strong> () 动态返回一个属性</h3><p>调用类属性或方法时，先在__init__() 获取后，再从__getattr__() 获取，获取不到才报错</p><h3 id="call直接调用实例本身-3"><a class="anchor" href="#call直接调用实例本身-3">#</a> <strong>call</strong> () 直接调用实例本身</h3><p>与直接调用这个函数一样</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">People</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        self<span class="token punctuation">.</span>name<span class="token operator">=</span>name</pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__call__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'i im call %s'</span><span class="token operator">%</span> self<span class="token punctuation">.</span>name<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>p<span class="token operator">=</span>People<span class="token punctuation">(</span><span class="token string">'ruan'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre>p<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211104150832-d8wkn0m.png" alt="image.png"></p><h2 id="使用枚举类-3"><a class="anchor" href="#使用枚举类-3">#</a> 使用枚举类</h2><p>枚举类：在某些情况下，一个类的 实例对象 的<strong>数量</strong>是 <strong>有限且固定</strong> 的，如季节类，它的实例对象只有春、夏、秋、冬。 在 Java 中像这种对象实例有限且固定的类被称为枚举类；这样的枚举类型定义一个 class 类型，然后，每个常量都是 class 的一个唯一实例。Python 提供了 <code>Enum</code> 类来实现这个功能。</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">from</span> enum <span class="token keyword">import</span> Enum</pre></td></tr><tr><td data-num="2"></td><td><pre>M<span class="token operator">=</span>Enum<span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">'sun1'</span><span class="token punctuation">,</span><span class="token string">'sun2'</span><span class="token punctuation">,</span><span class="token string">'sun3'</span><span class="token punctuation">,</span><span class="token string">'sun4'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>M<span class="token punctuation">.</span>sun1<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211104151622-x7yqw9j.png" alt="image.png"></p><p>自定义枚举类</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">from</span> enum <span class="token keyword">import</span> Enum<span class="token punctuation">,</span>unique</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token decorator annotation punctuation">@unique</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Week</span><span class="token punctuation">(</span>Enum<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    sun1<span class="token operator">=</span><span class="token number">1</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    sun2<span class="token operator">=</span><span class="token number">2</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    sun3<span class="token operator">=</span><span class="token number">3</span></pre></td></tr><tr><td data-num="7"></td><td><pre>day2<span class="token operator">=</span>Week<span class="token punctuation">.</span>sun2</pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>day2<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211104152125-y6nm9vn.png" alt="image.png"></p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">from</span> enum <span class="token keyword">import</span> Enum<span class="token punctuation">,</span>unique</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token decorator annotation punctuation">@unique</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Gender</span><span class="token punctuation">(</span>Enum<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    Male<span class="token operator">=</span><span class="token number">0</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    Female<span class="token operator">=</span><span class="token number">1</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">,</span>gender<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="8"></td><td><pre>        self<span class="token punctuation">.</span>name<span class="token operator">=</span>name</pre></td></tr><tr><td data-num="9"></td><td><pre>        self<span class="token punctuation">.</span>gender<span class="token operator">=</span>gender</pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment"># 测试:</span></pre></td></tr><tr><td data-num="12"></td><td><pre>bart <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token string">'Bart'</span><span class="token punctuation">,</span> Gender<span class="token punctuation">.</span>Male<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token keyword">if</span> bart<span class="token punctuation">.</span>gender <span class="token operator">==</span> Gender<span class="token punctuation">.</span>Male<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'测试通过!'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token keyword">else</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'测试失败!'</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211104152731-wmdziil.png" alt="image.png"></p><h2 id="使用元类创建类-3"><a class="anchor" href="#使用元类创建类-3">#</a> 使用元类 [创建类]</h2><p>实例对象是类创建</p><p>类是元类创建</p><p>创建类的方式</p><h3 id="方式一type-3"><a class="anchor" href="#方式一type-3">#</a> 方式一：type（）</h3><p><code>type()</code> 函数既可以返回一个对象的类型，又可以创建出新的类型，比如，我们可以通过 <code>type()</code> 函数创建出 <code>Hello</code> 类</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">from</span> class1104 <span class="token keyword">import</span> <span class="token operator">*</span></pre></td></tr><tr><td data-num="2"></td><td><pre>h<span class="token operator">=</span>Hello<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>Hello<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211104153538-6iulybe.png" alt="image.png"></p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>Hello <span class="token operator">=</span> <span class="token builtin">type</span><span class="token punctuation">(</span><span class="token string">'Hello'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">dict</span><span class="token punctuation">(</span>hello<span class="token operator">=</span>fn<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p>要创建一个 class 对象， <code>type()</code> 函数依次传入 3 个参数：</p><ol><li>class 的名称；</li><li>继承的父类集合，注意 Python 支持多重继承，如果只有一个父类，别忘了 tuple 的单元素写法；</li><li>class 的方法名称与函数绑定，这里我们把函数 <code>fn</code> 绑定到方法名 <code>hello</code> 上</li></ol><h3 id="方式二元类metaclass-3"><a class="anchor" href="#方式二元类metaclass-3">#</a> 方式二：元类 metaclass</h3><p>先定义 metaclass，然后创建类。</p><p>先定义类，然后创建实例。</p><p><s>metaclass 是 Python 面向对象里最难理解，也是最难使用的魔术代码。</s></p><p>按照默认习惯，metaclass 的类名总是以 Metaclass 结尾，以便清楚地表示这是一个 metaclass</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token comment"># metaclass 采用 type 创建类 ，metaclass 是类的模板，所以必须从 `type` 类型派生</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">ListMetaclass</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__new__</span><span class="token punctuation">(</span>cls<span class="token punctuation">,</span> name<span class="token punctuation">,</span>bases<span class="token punctuation">,</span>attrs<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>        attrs<span class="token punctuation">[</span><span class="token string">'add'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token keyword">lambda</span> self<span class="token punctuation">,</span> value<span class="token punctuation">:</span>self<span class="token punctuation">.</span>append<span class="token punctuation">(</span>value<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token keyword">return</span> <span class="token builtin">type</span><span class="token punctuation">.</span>__new__<span class="token punctuation">(</span>cls<span class="token punctuation">,</span>name<span class="token punctuation">,</span>bases<span class="token punctuation">,</span>attrs<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">MyList</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">,</span>metaclass<span class="token operator">=</span>ListMetaclass<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">pass</span></pre></td></tr><tr><td data-num="9"></td><td><pre>mylist<span class="token operator">=</span>MyList<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre>mylist<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>mylist<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211104155010-cbldtfp.png" alt="image.png"></p><p><code>__new__()</code> 方法接收到的参数依次是：</p><ol><li>当前准备创建的类的对象；</li><li>类的名字；</li><li>类继承的父类集合；</li><li>类的方法集合</li></ol><h3 id="应用场景-3"><a class="anchor" href="#应用场景-3">#</a> 应用场景</h3><p>ORM 全称 “Object Relational Mapping”，即对象 - 关系映射，就是把关系数据库的一行映射为一个对象，也就是一个类对应一个表，这样，写代码更简单，不用直接操作 SQL 语句。</p><p>要编写一个 ORM 框架，所有的类都只能动态定义，因为只有使用者才能根据表的结构定义出对应的类来。</p><h2 id="错误处理try-3"><a class="anchor" href="#错误处理try-3">#</a> 错误处理 try</h2><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">try</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'try...'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    r <span class="token operator">=</span> <span class="token number">10</span> <span class="token operator">/</span> <span class="token number">0</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'result:'</span><span class="token punctuation">,</span> r<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">except</span> ValueError <span class="token keyword">as</span> e<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'ValueError:'</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">except</span> ZeroDivisionError <span class="token keyword">as</span> e<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'ZeroDivisionError:'</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span>e<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">finally</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'finally...'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'END'</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p>Python 的错误其实也是 class，所有的错误类型都继承自 <code>BaseException</code></p><p><code>UnicodeError</code> 是 <code>ValueError</code> 的子类🤡</p><p><span class="exturl" data-url="aHR0cHM6Ly9kb2NzLnB5dGhvbi5vcmcvMy9saWJyYXJ5L2V4Y2VwdGlvbnMuaHRtbCNleGNlcHRpb24taGllcmFyY2h5">Built-in Exceptions — Python 3.10.0 documentation</span></p><h2 id="调用栈-3"><a class="anchor" href="#调用栈-3">#</a> 调用栈</h2><p>让 Python 解释器来打印出错误堆栈</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211104162726-fird23x.png" alt="image.png"></p><h2 id="记录错误logging-3"><a class="anchor" href="#记录错误logging-3">#</a> 记录错误 logging</h2><p>可将 logging 生成一个 txt 方便查看</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">try</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>        xxx</pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>        logging<span class="token punctuation">.</span>exception<span class="token punctuation">(</span>e<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><h3 id="抛出错误raise-3"><a class="anchor" href="#抛出错误raise-3">#</a> 抛出错误 raise</h3><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">except</span> ValueError <span class="token keyword">as</span> e<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'ValueError!'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        <span class="token keyword">raise</span></pre></td></tr></tbody></table></figure><p>在 <code>bar()</code> 函数中，我们明明已经捕获了错误，但是，打印一个 <code>ValueError!</code> 后，又把错误通过 <code>raise</code> 语句抛出去了，这不有病么？</p><p>其实这种错误处理方式不但没病，而且相当常见。捕获错误目的只是记录一下，便于后续追踪。但是，由于当前函数不知道应该怎么处理该错误，所以，最恰当的方式是继续往上抛，让顶层调用者去处理。</p><h2 id="调试方法-3"><a class="anchor" href="#调试方法-3">#</a> 调试方法</h2><h3 id="1-print-3"><a class="anchor" href="#1-print-3">#</a> 1. print（）</h3><h3 id="2-断言assert-3"><a class="anchor" href="#2-断言assert-3">#</a> 2. 断言 assert</h3><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">assert</span> n <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'n is zero!'</span></pre></td></tr></tbody></table></figure><p><code>assert</code> 的意思是，表达式 <code>n != 0</code> 应该是 <code>True</code> ，否则，根据程序运行的逻辑，后面的代码肯定会出错。</p><p>采用断言的好处：</p><p>启动 Python 解释器时可以用 <code>-O</code> 参数来关闭 <code>assert</code> ：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>$ python <span class="token operator">-</span>O err<span class="token punctuation">.</span>py</pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211104164034-js5sidi.png" alt="image.png"></p><p>关闭后，你可以把所有的 <code>assert</code> 语句当成 <code>pass</code> 来看</p><h3 id="3-logging-3"><a class="anchor" href="#3-logging-3">#</a> 3. logging</h3><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">import</span> logging</pre></td></tr><tr><td data-num="2"></td><td><pre>s <span class="token operator">=</span> <span class="token string">'0'</span></pre></td></tr><tr><td data-num="3"></td><td><pre>n <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre>logging<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">'n = %d'</span> <span class="token operator">%</span> n<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">/</span> n<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><h3 id="4pbd单步执行-3"><a class="anchor" href="#4pbd单步执行-3">#</a> 4.pbd 单步执行</h3><p>启动 Python 的调试器 pdb，让程序以单步方式运行，可以随时查看运行状态。</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>python <span class="token operator">-</span>m pdb xxx<span class="token punctuation">.</span>py</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">(</span>Pbd<span class="token punctuation">)</span> <span class="token number">1</span><span class="token comment">#查看第一行代码，单步执行第一行代码</span></pre></td></tr></tbody></table></figure><h3 id="5-pdbset_trace-3"><a class="anchor" href="#5-pdbset_trace-3">#</a> 5. pdb.set_trace()</h3><p>这个方法也是用 pdb，但是不需要单步执行，我们只需要 <code>import pdb</code> ，然后，在可能出错的地方放一个 <code>pdb.set_trace()</code> ，就可以设置一个断点：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">import</span> pdb</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>s <span class="token operator">=</span> <span class="token string">'0'</span></pre></td></tr><tr><td data-num="4"></td><td><pre>n <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre>pdb<span class="token punctuation">.</span>set_trace<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 运行到这里会自动暂停</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">/</span> n<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p>可以用命令 <code>p</code> 查看变量，或者用命令 <code>c</code> 继续运行：</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211104164634-anjnpuu.png" alt="image.png"></p><h3 id="6ide工具-3"><a class="anchor" href="#6ide工具-3">#</a> 6.IDE 工具</h3><p>vscode,pycharm....</p><h2 id="单元测试-3"><a class="anchor" href="#单元测试-3">#</a> 单元测试</h2><p>单元测试是用来对一个模块、一个函数或者一个类来进行正确性检验的测试工作。</p><h2 id="文档测试-3"><a class="anchor" href="#文档测试-3">#</a> 文档测试</h2><p>doctest 非常有用，不但可以用来测试，还可以直接作为示例代码。通过某些文档生成工具，就可以自动把包含 doctest 的注释提取出来。用户看文档的时候，同时也看到了 doctest。</p><p>Python 内置的 “文档测试”（doctest）模块可以直接提取注释中的代码并执行测试.</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Dict</span><span class="token punctuation">(</span><span class="token builtin">dict</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token triple-quoted-string string">""""</span></pre></td></tr><tr><td data-num="3"></td><td><pre>      这一段就是文档测试</pre></td></tr><tr><td data-num="4"></td><td><pre>       Simple dict but also support access as x.y style.</pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre>       &gt;&gt;&gt; d1 = Dict()</pre></td></tr><tr><td data-num="7"></td><td><pre>       &gt;&gt;&gt; d1['x'] = 100</pre></td></tr><tr><td data-num="8"></td><td><pre>       &gt;&gt;&gt; d1.x</pre></td></tr><tr><td data-num="9"></td><td><pre>       100</pre></td></tr><tr><td data-num="10"></td><td><pre>       &gt;&gt;&gt; d1.y = 200</pre></td></tr><tr><td data-num="11"></td><td><pre>       &gt;&gt;&gt; d1['y']</pre></td></tr><tr><td data-num="12"></td><td><pre>       200</pre></td></tr><tr><td data-num="13"></td><td><pre>       &gt;&gt;&gt; d2 = Dict(a=1, b=2, c='3')</pre></td></tr><tr><td data-num="14"></td><td><pre>       &gt;&gt;&gt; d2.c</pre></td></tr><tr><td data-num="15"></td><td><pre>       '3'</pre></td></tr><tr><td data-num="16"></td><td><pre>       &gt;&gt;&gt; d2['empty']</pre></td></tr><tr><td data-num="17"></td><td><pre>       Traceback (most recent call last):</pre></td></tr><tr><td data-num="18"></td><td><pre>           ...</pre></td></tr><tr><td data-num="19"></td><td><pre>       KeyError: 'empty'</pre></td></tr><tr><td data-num="20"></td><td><pre>       &gt;&gt;&gt; d2.empty</pre></td></tr><tr><td data-num="21"></td><td><pre>       Traceback (most recent call last):</pre></td></tr><tr><td data-num="22"></td><td><pre>           ...</pre></td></tr><tr><td data-num="23"></td><td><pre>       AttributeError: 'Dict' object has no attribute 'empty'</pre></td></tr><tr><td data-num="24"></td><td><pre>       """</pre></td></tr><tr><td data-num="25"></td><td><pre></pre></td></tr><tr><td data-num="26"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token operator">**</span>kw<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="27"></td><td><pre>        <span class="token builtin">super</span><span class="token punctuation">(</span>Dict<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token operator">**</span>kw<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="28"></td><td><pre></pre></td></tr><tr><td data-num="29"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__getattr__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="30"></td><td><pre>        <span class="token keyword">try</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="31"></td><td><pre>            <span class="token keyword">return</span> self<span class="token punctuation">[</span>key<span class="token punctuation">]</span></pre></td></tr><tr><td data-num="32"></td><td><pre>        <span class="token keyword">except</span> KeyError<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="33"></td><td><pre>            <span class="token keyword">raise</span> AttributeError<span class="token punctuation">(</span><span class="token string">r"'Dict' object has no attribute '%s'"</span> <span class="token operator">%</span> key<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="34"></td><td><pre></pre></td></tr><tr><td data-num="35"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__setattr__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="36"></td><td><pre>        self<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> value</pre></td></tr><tr><td data-num="37"></td><td><pre></pre></td></tr><tr><td data-num="38"></td><td><pre><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="39"></td><td><pre>    <span class="token keyword">import</span> doctest</pre></td></tr><tr><td data-num="40"></td><td><pre>    doctest<span class="token punctuation">.</span>testmod<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p>将其中一个函数注释，运行让它报错</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211108110503-erlvnk1.png" alt="image.png"></p><h2 id="io编程-3"><a class="anchor" href="#io编程-3">#</a> IO 编程</h2><p>程序和运行时的数据在内存中驻留</p><p>涉及到数据交换的地方，通常是磁盘、网络等，就需要 IO 接口</p><p>通常，程序完成 IO 操作会有 Input 和 Output 两个数据流</p><p>Stream（流）是一个很重要的概念，可以把流想象成一个水管，数据就是水管里的水，但是只能单向流动。</p><p>在 IO 编程中，就存在<strong>速度严重不匹配的问题</strong>。举个例子来说，比如要把 100M 的数据写入磁盘，CPU 输出 100M 的数据只需要 0.01 秒，可是磁盘要接收这 100M 数据可能需要 10 秒，怎么办呢？有两种办法：</p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211108111749-yobbduz.png" alt="image.png"></p><h2 id="同步io-3"><a class="anchor" href="#同步io-3">#</a> 同步 IO</h2><p>第一种是 CPU 等着，也就是程序暂停执行后续代码，等 100M 的数据在 10 秒后写入磁盘，再接着往下执行，这种模式称为同步 IO；</p><h2 id="异步io-3"><a class="anchor" href="#异步io-3">#</a> 异步 IO</h2><p>另一种方法是 CPU 不等待，只是告诉磁盘，“您老慢慢写，不着急，我接着干别的事去了”，于是，后续代码可以立刻接着执行，这种模式称为异步 IO。</p><p>如果是服务员跑过来找到你，这是回调模式，如果服务员发短信通知你，你就得不停地检查手机，这是轮询模式。总之，异步 IO 的复杂度远远高于同步 IO。</p><h2 id="文件读写-3"><a class="anchor" href="#文件读写-3">#</a> 文件读写</h2><h3 id="读文件open-3"><a class="anchor" href="#读文件open-3">#</a> 读文件 open（）</h3><p>传入文件名，标示符</p><p>参数：'rb' 二进制</p><p>encoding='gbk' 字符编码</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>f <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'/Users/michael/test.txt'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><h3 id="read一次读取全部内容-3"><a class="anchor" href="#read一次读取全部内容-3">#</a> read () 一次读取全部内容</h3><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token string">'Hello, world!'</span></pre></td></tr></tbody></table></figure><h3 id="fclose关闭文件-3"><a class="anchor" href="#fclose关闭文件-3">#</a> f.close（）关闭文件</h3><p>简化方法</p><h3 id="with-openfilepath-r-as-f-printfread-3"><a class="anchor" href="#with-openfilepath-r-as-f-printfread-3">#</a> with open('filepath', 'r') as f: print(f.read())</h3><p>Python 引入了 <code>with</code> 语句来自动帮我们调用 <code>close()</code> 方法，并且不必调用 <code>f.close()</code> 方法</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'/path/to/file'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p>如果文件很小， <code>read()</code> 一次性读取最方便；</p><p>如果不能确定文件大小，反复调用 <code>read(size)</code> 比较保险；</p><p>如果是配置文件，调用 <code>readlines()</code> 最方便</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">for</span> line <span class="token keyword">in</span> f<span class="token punctuation">.</span>readlines<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span>line<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 把末尾的 '\n' 删掉</span></pre></td></tr></tbody></table></figure><p>file 和缓存时 = 是 file-like Object 对象，不要求从特定类继承，只要写个 <code>read()</code> 方法就行</p><h3 id="fwrite写文件-3"><a class="anchor" href="#fwrite写文件-3">#</a> f.write () 写文件</h3><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>f <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'/Users/michael/test.txt'</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre>f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'Hello, world!'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p>或</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'/Users/michael/test.txt'</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'Hello, world!'</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p>使用 <code>with</code> 语句操作文件 IO 是个好习惯</p><h2 id="stringio和bytesio-3"><a class="anchor" href="#stringio和bytesio-3">#</a> StringIO 和 BytesIO</h2><h3 id="stringio-3"><a class="anchor" href="#stringio-3">#</a> StringIO</h3><p>StringIO 顾名思义就是在内存中读写 str</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">from</span> io <span class="token keyword">import</span> StringIO</pre></td></tr><tr><td data-num="2"></td><td><pre> f <span class="token operator">=</span> StringIO<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><code>getvalue()</code> 方法用于获得写入后的 str</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">from</span> io <span class="token keyword">import</span> StringIO</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> f <span class="token operator">=</span> StringIO<span class="token punctuation">(</span><span class="token string">'Hello!\nHi!\nGoodbye!'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     s <span class="token operator">=</span> f<span class="token punctuation">.</span>readline<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">if</span> s <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>         <span class="token keyword">break</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><h3 id="bytesio-3"><a class="anchor" href="#bytesio-3">#</a> BytesIO</h3><p>操作二进制数据，就需要使用 BytesIO</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">from</span> io <span class="token keyword">import</span> BytesIO</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> f <span class="token operator">=</span> BytesIO<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'中文'</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token number">6</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span>getvalue<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token string">b'\xe4\xb8\xad\xe6\x96\x87'</span></pre></td></tr></tbody></table></figure><h2 id="os模块-3"><a class="anchor" href="#os模块-3">#</a> os 模块</h2><h3 id="osname操作系统类型-3"><a class="anchor" href="#osname操作系统类型-3">#</a> os.name 操作系统类型</h3><h3 id="osuname详细系统信息-3"><a class="anchor" href="#osuname详细系统信息-3">#</a> os.uname () 详细系统信息</h3><h3 id="osenciron环境变量-3"><a class="anchor" href="#osenciron环境变量-3">#</a> os.enciron 环境变量</h3><p>要获取某个环境变量的值，可以调用 <code>os.environ.get('key')</code></p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token comment"># 查看当前目录的绝对路径:</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>abspath<span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token string">'/Users/michael'</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment"># 在某个目录下创建一个新目录，首先把新目录的完整路径表示出来:</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token string">'/Users/michael'</span><span class="token punctuation">,</span> <span class="token string">'testdir'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token string">'/Users/michael/testdir'</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment"># 然后创建一个目录:</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> os<span class="token punctuation">.</span>mkdir<span class="token punctuation">(</span><span class="token string">'/Users/michael/testdir'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment"># 删掉一个目录:</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> os<span class="token punctuation">.</span>rmdir<span class="token punctuation">(</span><span class="token string">'/Users/michael/testdir'</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p>通过 <code>os.path.join()</code> 函数，这样可以正确处理不同操作系统的路径分隔符</p><h3 id="ospathjoin连接路径-3"><a class="anchor" href="#ospathjoin连接路径-3">#</a> <code>os.path.join(</code> ) 连接路径</h3><h3 id="ospathsplit拆分路径-3"><a class="anchor" href="#ospathsplit拆分路径-3">#</a> <code>os.path.split()</code> 拆分路径</h3><h3 id="ospathsplitext-文件扩展名-3"><a class="anchor" href="#ospathsplitext-文件扩展名-3">#</a> <code>os.path.splitext()</code> 文件扩展名</h3><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token comment"># 对文件重命名:</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> os<span class="token punctuation">.</span>rename<span class="token punctuation">(</span><span class="token string">'test.txt'</span><span class="token punctuation">,</span> <span class="token string">'test.py'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment"># 删掉文件:</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> os<span class="token punctuation">.</span>remove<span class="token punctuation">(</span><span class="token string">'test.py'</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><code>shutil</code> 模块提供了 <code>copyfile()</code> 的函数，它们可以看做是 <code>os</code> 模块的补充</p><p>最后看看如何利用 Python 的特性来过滤文件。比如我们要列出当前目录下的所有目录，只需要一行代码：</p><pre><code>&gt;&gt;&gt; [x for x in os.listdir('.') if os.path.isdir(x)]
['.lein', '.local', '.m2', '.npm', '.ssh', '.Trash', '.vim', 'Applications', 'Desktop', ...]
</code></pre><p>要列出所有的 <code>.py</code> 文件，也只需一行代码：</p><pre><code>&gt;&gt;&gt; [x for x in os.listdir('.') if os.path.isfile(x) and os.path.splitext(x)[1]=='.py']
['apis.py', 'config.py', 'models.py', 'pymonitor.py', 'test_db.py', 'urls.py', 'wsgiapp.py']
</code></pre><h2 id="序列化pickle模块-3"><a class="anchor" href="#序列化pickle模块-3">#</a> 序列化 pickle 模块</h2><p>变量从内存中变成可存储或传输的过程称之为序列化，Python 中叫 pickling</p><p>变量内容从序列化的对象重新读到内存里称之为反序列化，即 unpickling</p><h3 id="pickledumps对象-字节序列化-3"><a class="anchor" href="#pickledumps对象-字节序列化-3">#</a> pickle.dumps () 对象 -》字节 [序列化]</h3><p><code>pickle.dumps()</code> 方法把任意对象序列化成一个 <code>bytes</code></p><p><code>pickle.dumps()</code> 方法把任意对象序列化成一个 <code>bytes</code> , 并写入文件中</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">import</span> pickle</pre></td></tr><tr><td data-num="2"></td><td><pre>d<span class="token operator">=</span><span class="token builtin">dict</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">'ruan'</span><span class="token punctuation">,</span>age<span class="token operator">=</span><span class="token number">34</span><span class="token punctuation">,</span>freand<span class="token operator">=</span><span class="token string">'woman'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment"># print(pickle.dumps(d))</span></pre></td></tr><tr><td data-num="4"></td><td><pre>f <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'timezone.txt'</span><span class="token punctuation">,</span> <span class="token string">'wb'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre>pickle<span class="token punctuation">.</span>dump<span class="token punctuation">(</span>d<span class="token punctuation">,</span> f<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre>f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><h3 id="pickleload字节-对象反序列化-3"><a class="anchor" href="#pickleload字节-对象反序列化-3">#</a> pickle.load () 字节 -》对象【反序列化】</h3><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">import</span> pickle</pre></td></tr><tr><td data-num="2"></td><td><pre>f<span class="token operator">=</span><span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">r'C:\Users\yangs\PycharmProjects\python_study\fun\timezone.txt'</span><span class="token punctuation">,</span><span class="token string">'rb'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>d<span class="token operator">=</span>pickle<span class="token punctuation">.</span>load<span class="token punctuation">(</span>f<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre>f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211108132946-rtt8k8p.png" alt="image.png"></p><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211108133035-b8gyft4.png" alt="image.png"></p><h2 id="json模块-3"><a class="anchor" href="#json模块-3">#</a> json 模块</h2><p><code>json</code> 模块的 <code>dumps()</code> 和 <code>loads()</code> 函数是定义得非常好的接口的典范。</p><h4 id="jsondumpspython对象python对象-json对象-3"><a class="anchor" href="#jsondumpspython对象python对象-json对象-3">#</a> json.dumps (python 对象) python 对象 -》json 对象</h4><p><code>dumps()</code> 方法返回一个 <code>str</code> ，内容就是标准的 JSON</p><h4 id="jsonloadsjson对象json对象-python对象-3"><a class="anchor" href="#jsonloadsjson对象json对象-python对象-3">#</a> json.loads (json 对象) json 对象 -》python 对象</h4><p><code>json.``dump</code> (obj,&nbsp;fp,&nbsp;<em>,&nbsp;skipkeys=False,&nbsp;ensure_ascii=True,&nbsp;check_circular=True,&nbsp;allow_nan=True,&nbsp;cls=None,&nbsp;indent=None,&nbsp;separators=None,&nbsp;default=None,&nbsp;sort_keys=False,&nbsp;<strong>kw</strong>)</em>*</p><h3 id="类变为字典并序列化-3"><a class="anchor" href="#类变为字典并序列化-3">#</a> 类变为字典并序列化</h3><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>json<span class="token punctuation">.</span>dumps<span class="token punctuation">(</span>s<span class="token punctuation">,</span> default<span class="token operator">=</span><span class="token keyword">lambda</span> obj<span class="token punctuation">:</span> obj<span class="token punctuation">.</span>__dict__<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><h2 id="进程和线程-3"><a class="anchor" href="#进程和线程-3">#</a> 进程和线程</h2><p>Python 的标准库提供了两个模块： <code>_thread</code> 和 <code>threading</code> ， <code>_thread</code> 是低级模块， <code>threading</code> 是高级模块</p><p><strong>线程是最小的执行单元，而进程由至少一个线程组成</strong></p><p>操作系统轮流让各个任务交替执行</p><p>真正的并行执行多任务只能在多核 CPU 上实现</p><p>对于操作系统来说，一个任务就是一个进程（Process），比如打开一个浏览器就是启动一个浏览器进程</p><p>Word，它可以同时进行打字、拼写检查、打印等事情。在一个进程内部，要同时干多件事，就需要同时运行多个 “子任务”，我们把进程内的这些 “子任务” 称为线程（Thread）</p><ul><li>多进程模式；</li><li>多线程模式；</li><li>多进程 + 多线程模式。</li></ul><h2 id="多进程-3"><a class="anchor" href="#多进程-3">#</a> 多进程</h2><p>Unix/Linux 操作系统提供了一个 <code>fork()</code> 系统调用，普通的函数调用，调用一次，返回一次，但是 <code>fork()</code> 调用一次，返回两次，因为操作系统自动把当前进程（称为父进程）复制了一份（称为子进程），然后，分别在父进程和子进程内返回。</p><p>创建子进程</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">from</span> multiprocessing <span class="token keyword">import</span> Process</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">import</span> os</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">def</span> <span class="token function">run_pro</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'开始运行子进程%s，%s'</span><span class="token operator">%</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>os<span class="token punctuation">.</span>getpid<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'开始运行进程%s'</span> <span class="token operator">%</span> <span class="token punctuation">(</span>os<span class="token punctuation">.</span>getpid<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    p<span class="token operator">=</span>Process<span class="token punctuation">(</span>target<span class="token operator">=</span>run_pro<span class="token punctuation">,</span>args<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    p<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    p<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'end'</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p><img data-src="https://b3logfile.com/siyuan/1629903953048/assets/image-20211111131512-zqm80if.png" alt="image.png"></p><h3 id="启动大量子进程pool-3"><a class="anchor" href="#启动大量子进程pool-3">#</a> 启动大量子进程 pool</h3><p>进程池</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token keyword">import</span> time<span class="token punctuation">,</span> threading</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment"># 新线程执行的代码:</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">def</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'thread %s is running...'</span> <span class="token operator">%</span> threading<span class="token punctuation">.</span>current_thread<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    n <span class="token operator">=</span> <span class="token number">0</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">while</span> n <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="8"></td><td><pre>        n <span class="token operator">=</span> n <span class="token operator">+</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="9"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'thread %s &gt;&gt;&gt; %s'</span> <span class="token operator">%</span> <span class="token punctuation">(</span>threading<span class="token punctuation">.</span>current_thread<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre>        time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'thread %s ended.'</span> <span class="token operator">%</span> threading<span class="token punctuation">.</span>current_thread<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'thread %s is running...'</span> <span class="token operator">%</span> threading<span class="token punctuation">.</span>current_thread<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre>t <span class="token operator">=</span> threading<span class="token punctuation">.</span>Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>loop<span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'LoopThread'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="15"></td><td><pre>t<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="16"></td><td><pre>t<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'thread %s ended.'</span> <span class="token operator">%</span> threading<span class="token punctuation">.</span>current_thread<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><h1 id="模块总结-3"><a class="anchor" href="#模块总结-3">#</a> 模块总结</h1><h2 id="doctest文档测试-3"><a class="anchor" href="#doctest文档测试-3">#</a> doctest 文档测试</h2><h2 id="ospath文件路径-3"><a class="anchor" href="#ospath文件路径-3">#</a> os.path 文件路径</h2><h2 id="pickle序列化-3"><a class="anchor" href="#pickle序列化-3">#</a> pickle 序列化</h2><h2 id="json-3"><a class="anchor" href="#json-3">#</a> json</h2><script>document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });</script></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2023-11-30 17:56:16" itemprop="dateModified" datetime="2023-11-30T17:56:16+08:00">2023-11-30</time> </span><span id="python学习廖雪峰/" class="item leancloud_visitors" data-flag-title="python学习廖雪峰" title="阅读次数"><span class="icon"><i class="ic i-eye"></i> </span><span class="text">阅读次数</span> <span class="leancloud-visitors-count"></span> <span class="text">次</span></span></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>Yang shuping <i class="ic i-at"><em>@</em></i>SUM</li><li class="link"><strong>本文链接：</strong> <a href="https://ppxpython.github.io/python%E5%AD%A6%E4%B9%A0%E5%BB%96%E9%9B%AA%E5%B3%B0/" title="python学习廖雪峰">https://ppxpython.github.io/python学习廖雪峰/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/computer-science/python/django/course-1/Django%E8%AF%A6%E7%BB%86%E4%BB%8B%E7%BB%8Dtodolist%E5%AE%9E%E4%BE%8B/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;tva4.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gipewr8iypj20zk0m8b29.jpg" title="Django详细介绍todolist实例"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> 零基础学Django框架</span><h3>Django详细介绍todolist实例</h3></a></div><div class="item right"><a href="/shell%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;tva4.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1giclga70tsj20zk0m84mr.jpg" title="shell学习"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i></span><h3>shell学习</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#python"><span class="toc-number">1.</span> <span class="toc-text">python</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.1.</span> <span class="toc-text">数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#int-%E6%95%B4%E5%9E%8B"><span class="toc-number">1.1.1.</span> <span class="toc-text">int 整型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#float-%E6%B5%AE%E7%82%B9%E5%9E%8B"><span class="toc-number">1.1.2.</span> <span class="toc-text">float 浮点型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#string-%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">1.1.3.</span> <span class="toc-text">String 字符串</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#bool%E5%B8%83%E5%B0%94"><span class="toc-number">1.1.4.</span> <span class="toc-text">Bool 布尔</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#none-%E7%A9%BA%E5%80%BC"><span class="toc-number">1.1.5.</span> <span class="toc-text">None 空值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%98%E9%87%8F"><span class="toc-number">1.1.6.</span> <span class="toc-text">变量</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E5%AE%9A%E4%B9%89"><span class="toc-number">1.1.6.1.</span> <span class="toc-text">动态定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E5%AE%9A%E4%B9%89"><span class="toc-number">1.1.6.2.</span> <span class="toc-text">静态定义</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E9%87%8F"><span class="toc-number">1.1.7.</span> <span class="toc-text">常量</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#list%E5%88%97%E8%A1%A8"><span class="toc-number">1.2.</span> <span class="toc-text">list 列表</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%87%E5%88%86"><span class="toc-number">1.2.1.</span> <span class="toc-text">切分</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#append%E8%BF%BD%E5%8A%A0"><span class="toc-number">1.2.2.</span> <span class="toc-text">append（）追加</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#insert%E6%8F%92%E5%85%A5%E6%8C%87%E5%AE%9A%E4%BD%8D%E7%BD%AE"><span class="toc-number">1.2.3.</span> <span class="toc-text">insert 插入指定位置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#pop%E5%88%A0%E9%99%A4%E6%9C%AB%E5%B0%BE%E5%85%83%E7%B4%A0"><span class="toc-number">1.2.4.</span> <span class="toc-text">pop（）删除末尾元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%87%E7%89%87"><span class="toc-number">1.2.5.</span> <span class="toc-text">切片</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%97%E8%A1%A8%E7%94%9F%E6%88%90"><span class="toc-number">1.2.5.1.</span> <span class="toc-text">列表生成</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#tuple%E5%85%83%E7%BB%84"><span class="toc-number">1.3.</span> <span class="toc-text">tuple 元组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#dict%E5%AD%97%E5%85%B8"><span class="toc-number">1.4.</span> <span class="toc-text">dict 字典</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89"><span class="toc-number">1.4.1.</span> <span class="toc-text">定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%96value"><span class="toc-number">1.4.2.</span> <span class="toc-text">取 value</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#dictkey"><span class="toc-number">1.4.2.1.</span> <span class="toc-text">dict[&#39;key&#39;]</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#key-in-dict"><span class="toc-number">1.4.2.2.</span> <span class="toc-text">&#39;key&#39; in dict</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#dictgetkey"><span class="toc-number">1.4.2.3.</span> <span class="toc-text">dict.get(&#39;key&#39;)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#dictpopkey%E5%88%A0%E9%99%A4%E4%B8%80%E4%B8%AAkey"><span class="toc-number">1.4.3.</span> <span class="toc-text">dict.pop (&#39;key&#39;) 删除一个 key</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#dictkeys%E8%BF%94%E5%9B%9E%E5%AD%97%E5%85%B8%E4%B8%AD%E6%89%80%E6%9C%89key%E5%88%97%E8%A1%A8"><span class="toc-number">1.4.4.</span> <span class="toc-text">dict.keys 返回字典中所有 key 列表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#dictupdate%E5%B0%86a%E5%AD%97%E5%85%B8%E6%96%B0keyvalue%E5%86%85%E5%AE%B9%E5%8A%A0%E5%85%A5b%E5%AD%97%E5%85%B8%E4%B8%AD"><span class="toc-number">1.4.5.</span> <span class="toc-text">dict.update () 将 a 字典新 key，value 内容加入 b 字典中</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%86%85%E5%BB%BA%E5%87%BD%E6%95%B0%E4%BD%BF%E7%94%A8"><span class="toc-number">1.4.5.1.</span> <span class="toc-text">内建函数使用</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#dict%E7%89%B9%E7%82%B9"><span class="toc-number">1.4.6.</span> <span class="toc-text">dict 特点</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#set%E9%9B%86%E5%90%88"><span class="toc-number">1.5.</span> <span class="toc-text">set 集合</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89-2"><span class="toc-number">1.5.1.</span> <span class="toc-text">定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#setaddkey%E6%B7%BB%E5%8A%A0%E5%85%83%E7%B4%A0"><span class="toc-number">1.5.2.</span> <span class="toc-text">set.add (&#39;key&#39;) 添加元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#setremovekey%E5%88%A0%E9%99%A4%E5%85%83%E7%B4%A0"><span class="toc-number">1.5.3.</span> <span class="toc-text">set.remove (&#39;key&#39;) 删除元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%A4%E4%B8%AAset%E4%BA%A4%E9%9B%86"><span class="toc-number">1.5.4.</span> <span class="toc-text">&amp; 两个 set 交集</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%A4%E4%B8%AAset%E5%B9%B6%E9%9B%86"><span class="toc-number">1.5.5.</span> <span class="toc-text">| 两个 set 并集</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#map%E7%9A%84%E6%98%BE%E7%A4%BA"><span class="toc-number">1.5.6.</span> <span class="toc-text">map () 的显示</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-number">1.6.</span> <span class="toc-text">数据类型转换</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#int"><span class="toc-number">1.6.1.</span> <span class="toc-text">int（）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#float"><span class="toc-number">1.6.2.</span> <span class="toc-text">float（）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#str"><span class="toc-number">1.6.3.</span> <span class="toc-text">str（）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#bool"><span class="toc-number">1.6.4.</span> <span class="toc-text">bool（）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD"><span class="toc-number">1.7.</span> <span class="toc-text">条件判断</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#if"><span class="toc-number">1.7.1.</span> <span class="toc-text">if</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#input%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA"><span class="toc-number">1.8.</span> <span class="toc-text">input（）输入输出</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF-%E8%BF%AD%E4%BB%A3"><span class="toc-number">1.9.</span> <span class="toc-text">循环 迭代</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#for-in"><span class="toc-number">1.9.1.</span> <span class="toc-text">for in</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#while"><span class="toc-number">1.9.2.</span> <span class="toc-text">while</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#break"><span class="toc-number">1.9.3.</span> <span class="toc-text">break</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#continue"><span class="toc-number">1.9.4.</span> <span class="toc-text">continue</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E5%99%A8"><span class="toc-number">1.10.</span> <span class="toc-text">生成器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#isinstance%E8%BF%AD%E4%BB%A3%E5%99%A8"><span class="toc-number">1.11.</span> <span class="toc-text">isinstance（）迭代器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0"><span class="toc-number">1.12.</span> <span class="toc-text">函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B0%83%E7%94%A8%E5%87%BD%E6%95%B0"><span class="toc-number">1.12.1.</span> <span class="toc-text">调用函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%E5%87%BD%E6%95%B0"><span class="toc-number">1.12.2.</span> <span class="toc-text">定义函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A9%BA%E5%87%BD%E6%95%B0"><span class="toc-number">1.12.3.</span> <span class="toc-text">空函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0-%E5%8F%82%E6%95%B0%E6%A3%80%E6%9F%A5"><span class="toc-number">1.12.4.</span> <span class="toc-text">函数 参数检查</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%AF%E8%BF%94%E5%9B%9E%E5%A4%9A%E4%B8%AA%E5%80%BC%E5%87%BD%E6%95%B0"><span class="toc-number">1.12.5.</span> <span class="toc-text">可返回多个值，函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0"><span class="toc-number">1.12.6.</span> <span class="toc-text">函数参数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BF%85%E9%80%89%E5%8F%82%E6%95%B0"><span class="toc-number">1.12.6.1.</span> <span class="toc-text">必选参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E5%8F%82%E6%95%B0"><span class="toc-number">1.12.6.2.</span> <span class="toc-text">&#x3D; 默认参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%AF%E5%8F%98%E5%8F%82%E6%95%B0"><span class="toc-number">1.12.6.3.</span> <span class="toc-text">* 可变参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E9%94%AE%E5%AD%97%E5%8F%82%E6%95%B0"><span class="toc-number">1.12.6.4.</span> <span class="toc-text">** 关键字参数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%92%E5%BD%92%E5%87%BD%E6%95%B0"><span class="toc-number">1.12.7.</span> <span class="toc-text">递归函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BD%AC%E4%B9%89%E5%AD%97%E7%AC%A6"><span class="toc-number">1.13.</span> <span class="toc-text">转义字符 \</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6and-or%E5%92%8Cnot"><span class="toc-number">1.14.</span> <span class="toc-text">运算符 and、or 和 not</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%99%A4%E6%B3%95"><span class="toc-number">1.15.</span> <span class="toc-text">除法 &#x2F;&#x2F;&#x2F;</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%99%A4%E6%B3%95%E4%B8%80-%E6%B5%AE%E7%82%B9%E6%95%B0"><span class="toc-number">1.15.0.1.</span> <span class="toc-text">除法一 &#x2F; 浮点数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%99%A4%E6%B3%95%E4%BA%8C-%E5%9C%B0%E6%9D%BF%E9%99%A4-%E6%95%B4%E6%95%B0"><span class="toc-number">1.15.0.2.</span> <span class="toc-text">除法二 &#x2F;&#x2F; 地板除 整数</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%96%E4%BD%99"><span class="toc-number">1.16.</span> <span class="toc-text">取余 %</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E7%BC%96%E7%A0%81"><span class="toc-number">1.17.</span> <span class="toc-text">字符编码</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#compile-%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%BC%96%E8%AF%91%E4%B8%BA%E5%AD%97%E8%8A%82%E4%BB%A3%E7%A0%81"><span class="toc-number">1.17.0.1.</span> <span class="toc-text">compile () 字符串编译为字节代码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BC%96%E7%A0%81%E8%BD%AC%E5%8C%96"><span class="toc-number">1.17.0.2.</span> <span class="toc-text">编码转化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#orda-%E5%AD%97%E6%AF%8D%E8%BD%AC%E5%AD%97%E7%AC%A6"><span class="toc-number">1.17.0.3.</span> <span class="toc-text">ord (&#39;A&#39;) 字母转字符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#chr65-%E5%AD%97%E7%AC%A6%E8%BD%AC%E5%AD%97%E6%AF%8D"><span class="toc-number">1.17.0.4.</span> <span class="toc-text">chr (65) 字符转字母</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#bstr%E8%BD%AC%E4%B8%BA%E5%AD%97%E8%8A%82%E7%B1%BB%E5%9E%8Bbytes"><span class="toc-number">1.17.0.5.</span> <span class="toc-text">b&#39;str&#39; 转为字节类型 bytes</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#strencodeascii-str-%E5%8F%98%E4%B8%BA-bytes"><span class="toc-number">1.17.0.6.</span> <span class="toc-text">str.encode(&#39;ascii&#39;) str 变为 bytes</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#strdecodeutf-8bytes%E5%8F%98%E4%B8%BA-str"><span class="toc-number">1.17.0.7.</span> <span class="toc-text">str.decode(&#39;utf-8&#39;) bytes 变为 str</span></a></li></ol></li></ol><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%89%B9%E6%AE%8A%E6%B3%A8%E9%87%8A"><span class="toc-number">1.18.</span> <span class="toc-text">特殊注释</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%A0%E4%BD%8D%E7%AC%A6-%E6%A0%BC%E5%BC%8F%E5%8C%96"><span class="toc-number">1.19.</span> <span class="toc-text">占位符 格式化</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%A0%E4%BD%8D%E7%AC%A6s-d-f"><span class="toc-number">1.19.1.</span> <span class="toc-text">占位符 % s % d % f</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#format%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">1.19.2.</span> <span class="toc-text">format（）格式化字符串</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#f-string-%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">1.19.3.</span> <span class="toc-text">f-string 格式化字符串</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B"><span class="toc-number">1.20.</span> <span class="toc-text">函数式编程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B%E7%89%B9%E7%82%B9"><span class="toc-number">1.20.1.</span> <span class="toc-text">函数式编程特点：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0"><span class="toc-number">1.21.</span> <span class="toc-text">高阶函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E5%8F%AF%E4%BB%A5%E6%8C%87%E5%90%91%E5%87%BD%E6%95%B0"><span class="toc-number">1.21.1.</span> <span class="toc-text">变量可以指向函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%90%8D%E4%B9%9F%E6%98%AF%E5%8F%98%E9%87%8F"><span class="toc-number">1.21.2.</span> <span class="toc-text">函数名也是变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%A0%E5%85%A5%E5%87%BD%E6%95%B0"><span class="toc-number">1.21.3.</span> <span class="toc-text">传入函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#mapreduce-%E5%86%85%E5%BB%BA%E5%87%BD%E6%95%B0"><span class="toc-number">1.22.</span> <span class="toc-text">map&#x2F;reduce 内建函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#map%E5%87%BD%E6%95%B0%E5%A4%84%E7%90%86%E7%94%9F%E6%88%90%E6%96%B0iterator%E8%BF%AD%E4%BB%A3%E5%99%A8"><span class="toc-number">1.22.1.</span> <span class="toc-text">map（）函数处理生成新 Iterator 迭代器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#reduce%E5%87%BD%E6%95%B0%E4%BD%9C%E7%94%A8%E5%9C%A8%E5%BA%8F%E5%88%97%E4%B8%8A"><span class="toc-number">1.22.2.</span> <span class="toc-text">reduce（）函数作用在序列上</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#filter%E8%BF%87%E6%BB%A4%E5%BA%8F%E5%88%97"><span class="toc-number">1.23.</span> <span class="toc-text">filter () 过滤序列</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#sorted%E6%8E%92%E5%BA%8F"><span class="toc-number">1.24.</span> <span class="toc-text">sorted（）排序</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%94%E5%9B%9E%E5%87%BD%E6%95%B0"><span class="toc-number">1.25.</span> <span class="toc-text">返回函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E4%BD%9C%E4%B8%BA%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="toc-number">1.25.1.</span> <span class="toc-text">函数作为返回值</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%97%AD%E5%8C%85"><span class="toc-number">1.26.</span> <span class="toc-text">闭包</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#lambda%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0"><span class="toc-number">1.27.</span> <span class="toc-text">lambda（）匿名函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A3%85%E9%A5%B0%E5%99%A8-decorator"><span class="toc-number">1.28.</span> <span class="toc-text">装饰器 Decorator</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%AC%E8%B4%A8%E4%B8%8A%E8%A3%85%E9%A5%B0%E5%99%A8%E5%B0%B1%E6%98%AF%E4%B8%80%E4%B8%AA%E8%BF%94%E5%9B%9E%E5%87%BD%E6%95%B0%E7%9A%84%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0"><span class="toc-number">1.28.1.</span> <span class="toc-text">本质上，装饰器就是一个返回函数的高阶函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#wraps-%E5%B8%B8%E7%94%A8%E8%A3%85%E9%A5%B0%E5%99%A8"><span class="toc-number">1.29.</span> <span class="toc-text">@wraps 常用装饰器</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8D%E5%8A%A0wraps%E6%97%B6"><span class="toc-number">1.29.0.1.</span> <span class="toc-text">不加 wraps 时</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%81%8F%E5%87%BD%E6%95%B0functools%E6%A8%A1%E5%9D%97"><span class="toc-number">1.30.</span> <span class="toc-text">偏函数（functools 模块）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8"><span class="toc-number">1.30.1.</span> <span class="toc-text">作用：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E5%9D%97"><span class="toc-number">1.31.</span> <span class="toc-text">模块</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-number">1.32.</span> <span class="toc-text">作用域</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#pubilc%E5%85%AC%E5%BC%80"><span class="toc-number">1.32.1.</span> <span class="toc-text">pubilc 公开</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#private%E9%9D%9E%E5%85%AC%E5%BC%80___"><span class="toc-number">1.32.2.</span> <span class="toc-text">private 非公开_,__</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E7%AC%AC%E4%B8%89%E6%96%B9%E6%A8%A1%E5%9D%97pip"><span class="toc-number">1.33.</span> <span class="toc-text">安装第三方模块 pip</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%9D%97%E6%90%9C%E7%B4%A2%E8%B7%AF%E5%BE%84"><span class="toc-number">1.33.1.</span> <span class="toc-text">模块搜索路径</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B"><span class="toc-number">1.34.</span> <span class="toc-text">面向对象编程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E5%92%8C%E5%AE%9E%E4%BE%8B"><span class="toc-number">1.35.</span> <span class="toc-text">类和实例</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%B0%81%E8%A3%85"><span class="toc-number">1.36.</span> <span class="toc-text">数据封装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E9%99%90%E5%88%B6"><span class="toc-number">1.37.</span> <span class="toc-text">访问限制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8-2"><span class="toc-number">1.37.1.</span> <span class="toc-text">作用：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF%E5%92%8C%E5%A4%9A%E6%80%81"><span class="toc-number">1.38.</span> <span class="toc-text">继承和多态</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF"><span class="toc-number">1.38.1.</span> <span class="toc-text">继承</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E6%80%81"><span class="toc-number">1.38.1.1.</span> <span class="toc-text">多态</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%B8%AD%E5%AD%90%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.38.2.</span> <span class="toc-text">鸭子类型</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E5%AF%B9%E8%B1%A1%E4%BF%A1%E6%81%AF"><span class="toc-number">1.39.</span> <span class="toc-text">获取对象信息</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#type%E5%88%A4%E6%96%AD%E5%AF%B9%E8%B1%A1%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.39.1.</span> <span class="toc-text">type（）判断对象类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#isinstance%E5%AF%B9%E4%BA%8E%E7%BB%A7%E6%89%BF%E5%85%B3%E7%B3%BB%E5%88%A4%E6%96%ADclass%E7%9A%84%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.39.2.</span> <span class="toc-text">isinstance () 对于继承关系，判断 class 的类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#dir%E8%8E%B7%E5%8F%96%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%89%80%E6%9C%89%E5%B1%9E%E6%80%A7%E5%92%8C%E6%96%B9%E6%B3%95"><span class="toc-number">1.39.3.</span> <span class="toc-text">dir（）获取对象的所有属性和方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#len%E5%AF%B9%E8%B1%A1%E9%95%BF%E5%BA%A6"><span class="toc-number">1.39.3.1.</span> <span class="toc-text">len（）对象长度</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#lower%E8%BF%94%E5%9B%9E%E5%B0%8F%E5%86%99%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">1.39.3.2.</span> <span class="toc-text">lower（）返回小写的字符串</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#getattr%E8%8E%B7%E5%8F%96%E5%B1%9E%E6%80%A7a"><span class="toc-number">1.39.3.3.</span> <span class="toc-text">getattr（）获取属性 a</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#setattr%E8%AE%BE%E7%BD%AE%E5%B1%9E%E6%80%A7a"><span class="toc-number">1.39.3.4.</span> <span class="toc-text">setattr（）设置属性 a</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#hasattrobja%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E6%9C%89%E5%B1%9E%E6%80%A7a"><span class="toc-number">1.39.3.5.</span> <span class="toc-text">hasattr（obj,&#39;a&#39;）判断是否有属性 a</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B%E5%B1%9E%E6%80%A7%E5%92%8C%E7%B1%BB%E5%B1%9E%E6%80%A7"><span class="toc-number">1.40.</span> <span class="toc-text">实例属性和类属性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">1.40.1.</span> <span class="toc-text">总结：</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B"><span class="toc-number">2.</span> <span class="toc-text">面向对象高级编程</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#_slots_%E4%BD%BF%E7%94%A8"><span class="toc-number">3.</span> <span class="toc-text">_slots_使用</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%99%90%E5%88%B6%E5%AE%9E%E4%BE%8B%E5%B1%9E%E6%80%A7%E5%AE%9A%E4%B9%89%E4%B8%80%E4%B8%AA%E7%89%B9%E6%AE%8A%E7%9A%84-__slots__%E5%8F%98%E9%87%8F"><span class="toc-number">3.1.</span> <span class="toc-text">限制实例属性，定义一个特殊的 __slots__ 变量</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F"><span class="toc-number">3.1.1.</span> <span class="toc-text">注意：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#property"><span class="toc-number">3.2.</span> <span class="toc-text">@property</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-2"><span class="toc-number">3.3.</span> <span class="toc-text">总结：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E9%87%8D%E7%BB%A7%E6%89%BF"><span class="toc-number">3.4.</span> <span class="toc-text">多重继承</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#mixin"><span class="toc-number">3.4.1.</span> <span class="toc-text">MixIn</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E7%BB%A7%E6%89%BF"><span class="toc-number">3.4.2.</span> <span class="toc-text">多继承</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E9%87%8D%E7%BB%A7%E6%89%BF-2"><span class="toc-number">3.4.3.</span> <span class="toc-text">多重继承</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-3"><span class="toc-number">3.4.4.</span> <span class="toc-text">总结：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9A%E5%88%B6%E7%B1%BB"><span class="toc-number">3.5.</span> <span class="toc-text">定制类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#str%E5%9B%9E%E7%94%A8%E6%88%B7%E7%9C%8B%E5%88%B0%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">3.5.1.</span> <span class="toc-text">str () 回用户看到的字符串</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#repr%E8%BF%94%E5%9B%9E%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E8%80%85%E7%9C%8B%E5%88%B0%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">3.5.2.</span> <span class="toc-text">repr () 返回程序开发者看到的字符串</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_iter%E8%BF%94%E5%9B%9E%E4%B8%80%E4%B8%AA%E8%BF%AD%E4%BB%A3%E5%AF%B9%E8%B1%A1"><span class="toc-number">3.5.3.</span> <span class="toc-text">_iter () 返回一个迭代对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#getitem%E8%A1%A8%E7%8E%B0%E5%BE%97%E5%83%8Flist%E9%82%A3%E6%A0%B7%E6%8C%89%E7%85%A7%E4%B8%8B%E6%A0%87%E5%8F%96%E5%87%BA%E5%85%83%E7%B4%A0"><span class="toc-number">3.5.4.</span> <span class="toc-text">getitem () 表现得像 list 那样按照下标取出元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#getattr%E5%8A%A8%E6%80%81%E8%BF%94%E5%9B%9E%E4%B8%80%E4%B8%AA%E5%B1%9E%E6%80%A7"><span class="toc-number">3.5.5.</span> <span class="toc-text">getattr () 动态返回一个属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#call%E7%9B%B4%E6%8E%A5%E8%B0%83%E7%94%A8%E5%AE%9E%E4%BE%8B%E6%9C%AC%E8%BA%AB"><span class="toc-number">3.5.6.</span> <span class="toc-text">call () 直接调用实例本身</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E6%9E%9A%E4%B8%BE%E7%B1%BB"><span class="toc-number">3.6.</span> <span class="toc-text">使用枚举类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%85%83%E7%B1%BB%E5%88%9B%E5%BB%BA%E7%B1%BB"><span class="toc-number">3.7.</span> <span class="toc-text">使用元类 [创建类]</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F%E4%B8%80type"><span class="toc-number">3.7.1.</span> <span class="toc-text">方式一：type（）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F%E4%BA%8C%E5%85%83%E7%B1%BBmetaclass"><span class="toc-number">3.7.2.</span> <span class="toc-text">方式二：元类 metaclass</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-number">3.7.3.</span> <span class="toc-text">应用场景</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86try"><span class="toc-number">3.8.</span> <span class="toc-text">错误处理 try</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B0%83%E7%94%A8%E6%A0%88"><span class="toc-number">3.9.</span> <span class="toc-text">调用栈</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%B0%E5%BD%95%E9%94%99%E8%AF%AFlogging"><span class="toc-number">3.10.</span> <span class="toc-text">记录错误 logging</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8A%9B%E5%87%BA%E9%94%99%E8%AF%AFraise"><span class="toc-number">3.10.1.</span> <span class="toc-text">抛出错误 raise</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B0%83%E8%AF%95%E6%96%B9%E6%B3%95"><span class="toc-number">3.11.</span> <span class="toc-text">调试方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-print"><span class="toc-number">3.11.1.</span> <span class="toc-text">1. print（）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%96%AD%E8%A8%80assert"><span class="toc-number">3.11.2.</span> <span class="toc-text">2. 断言 assert</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-logging"><span class="toc-number">3.11.3.</span> <span class="toc-text">3. logging</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4pbd%E5%8D%95%E6%AD%A5%E6%89%A7%E8%A1%8C"><span class="toc-number">3.11.4.</span> <span class="toc-text">4.pbd 单步执行</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-pdbset_trace"><span class="toc-number">3.11.5.</span> <span class="toc-text">5. pdb.set_trace()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6ide%E5%B7%A5%E5%85%B7"><span class="toc-number">3.11.6.</span> <span class="toc-text">6.IDE 工具</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95"><span class="toc-number">3.12.</span> <span class="toc-text">单元测试</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E6%A1%A3%E6%B5%8B%E8%AF%95"><span class="toc-number">3.13.</span> <span class="toc-text">文档测试</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#io%E7%BC%96%E7%A8%8B"><span class="toc-number">3.14.</span> <span class="toc-text">IO 编程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%8C%E6%AD%A5io"><span class="toc-number">3.15.</span> <span class="toc-text">同步 IO</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%82%E6%AD%A5io"><span class="toc-number">3.16.</span> <span class="toc-text">异步 IO</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E8%AF%BB%E5%86%99"><span class="toc-number">3.17.</span> <span class="toc-text">文件读写</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%BB%E6%96%87%E4%BB%B6open"><span class="toc-number">3.17.1.</span> <span class="toc-text">读文件 open（）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#read%E4%B8%80%E6%AC%A1%E8%AF%BB%E5%8F%96%E5%85%A8%E9%83%A8%E5%86%85%E5%AE%B9"><span class="toc-number">3.17.2.</span> <span class="toc-text">read () 一次读取全部内容</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#fclose%E5%85%B3%E9%97%AD%E6%96%87%E4%BB%B6"><span class="toc-number">3.17.3.</span> <span class="toc-text">f.close（）关闭文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#with-openfilepath-r-as-f-printfread"><span class="toc-number">3.17.4.</span> <span class="toc-text">with open(&#39;filepath&#39;, &#39;r&#39;) as f: print(f.read())</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#fwrite%E5%86%99%E6%96%87%E4%BB%B6"><span class="toc-number">3.17.5.</span> <span class="toc-text">f.write () 写文件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#stringio%E5%92%8Cbytesio"><span class="toc-number">3.18.</span> <span class="toc-text">StringIO 和 BytesIO</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#stringio"><span class="toc-number">3.18.1.</span> <span class="toc-text">StringIO</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#bytesio"><span class="toc-number">3.18.2.</span> <span class="toc-text">BytesIO</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#os%E6%A8%A1%E5%9D%97"><span class="toc-number">3.19.</span> <span class="toc-text">os 模块</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#osname%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%B1%BB%E5%9E%8B"><span class="toc-number">3.19.1.</span> <span class="toc-text">os.name 操作系统类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#osuname%E8%AF%A6%E7%BB%86%E7%B3%BB%E7%BB%9F%E4%BF%A1%E6%81%AF"><span class="toc-number">3.19.2.</span> <span class="toc-text">os.uname () 详细系统信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#osenciron%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-number">3.19.3.</span> <span class="toc-text">os.enciron 环境变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ospathjoin%E8%BF%9E%E6%8E%A5%E8%B7%AF%E5%BE%84"><span class="toc-number">3.19.4.</span> <span class="toc-text">os.path.join( ) 连接路径</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ospathsplit%E6%8B%86%E5%88%86%E8%B7%AF%E5%BE%84"><span class="toc-number">3.19.5.</span> <span class="toc-text">os.path.split() 拆分路径</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ospathsplitext-%E6%96%87%E4%BB%B6%E6%89%A9%E5%B1%95%E5%90%8D"><span class="toc-number">3.19.6.</span> <span class="toc-text">os.path.splitext() 文件扩展名</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BA%8F%E5%88%97%E5%8C%96pickle%E6%A8%A1%E5%9D%97"><span class="toc-number">3.20.</span> <span class="toc-text">序列化 pickle 模块</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#pickledumps%E5%AF%B9%E8%B1%A1-%E5%AD%97%E8%8A%82%E5%BA%8F%E5%88%97%E5%8C%96"><span class="toc-number">3.20.1.</span> <span class="toc-text">pickle.dumps () 对象 -》字节 [序列化]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#pickleload%E5%AD%97%E8%8A%82-%E5%AF%B9%E8%B1%A1%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96"><span class="toc-number">3.20.2.</span> <span class="toc-text">pickle.load () 字节 -》对象【反序列化】</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#json%E6%A8%A1%E5%9D%97"><span class="toc-number">3.21.</span> <span class="toc-text">json 模块</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#jsondumpspython%E5%AF%B9%E8%B1%A1python%E5%AF%B9%E8%B1%A1-json%E5%AF%B9%E8%B1%A1"><span class="toc-number">3.21.0.1.</span> <span class="toc-text">json.dumps (python 对象) python 对象 -》json 对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#jsonloadsjson%E5%AF%B9%E8%B1%A1json%E5%AF%B9%E8%B1%A1-python%E5%AF%B9%E8%B1%A1"><span class="toc-number">3.21.0.2.</span> <span class="toc-text">json.loads (json 对象) json 对象 -》python 对象</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E5%8F%98%E4%B8%BA%E5%AD%97%E5%85%B8%E5%B9%B6%E5%BA%8F%E5%88%97%E5%8C%96"><span class="toc-number">3.21.1.</span> <span class="toc-text">类变为字典并序列化</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E5%92%8C%E7%BA%BF%E7%A8%8B"><span class="toc-number">3.22.</span> <span class="toc-text">进程和线程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E8%BF%9B%E7%A8%8B"><span class="toc-number">3.23.</span> <span class="toc-text">多进程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%AF%E5%8A%A8%E5%A4%A7%E9%87%8F%E5%AD%90%E8%BF%9B%E7%A8%8Bpool"><span class="toc-number">3.23.1.</span> <span class="toc-text">启动大量子进程 pool</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%A8%A1%E5%9D%97%E6%80%BB%E7%BB%93"><span class="toc-number">4.</span> <span class="toc-text">模块总结</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#doctest%E6%96%87%E6%A1%A3%E6%B5%8B%E8%AF%95"><span class="toc-number">4.1.</span> <span class="toc-text">doctest 文档测试</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ospath%E6%96%87%E4%BB%B6%E8%B7%AF%E5%BE%84"><span class="toc-number">4.2.</span> <span class="toc-text">os.path 文件路径</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#pickle%E5%BA%8F%E5%88%97%E5%8C%96"><span class="toc-number">4.3.</span> <span class="toc-text">pickle 序列化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#json"><span class="toc-number">4.4.</span> <span class="toc-text">json</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#python-2"><span class="toc-number">5.</span> <span class="toc-text">python</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B-2"><span class="toc-number">5.1.</span> <span class="toc-text">数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#int-%E6%95%B4%E5%9E%8B-2"><span class="toc-number">5.1.1.</span> <span class="toc-text">int 整型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#float-%E6%B5%AE%E7%82%B9%E5%9E%8B-2"><span class="toc-number">5.1.2.</span> <span class="toc-text">float 浮点型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#string-%E5%AD%97%E7%AC%A6%E4%B8%B2-2"><span class="toc-number">5.1.3.</span> <span class="toc-text">String 字符串</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#bool%E5%B8%83%E5%B0%94-2"><span class="toc-number">5.1.4.</span> <span class="toc-text">Bool 布尔</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#none-%E7%A9%BA%E5%80%BC-2"><span class="toc-number">5.1.5.</span> <span class="toc-text">None 空值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%98%E9%87%8F-2"><span class="toc-number">5.1.6.</span> <span class="toc-text">变量</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E5%AE%9A%E4%B9%89-2"><span class="toc-number">5.1.6.1.</span> <span class="toc-text">动态定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E5%AE%9A%E4%B9%89-2"><span class="toc-number">5.1.6.2.</span> <span class="toc-text">静态定义</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E9%87%8F-2"><span class="toc-number">5.1.7.</span> <span class="toc-text">常量</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#list%E5%88%97%E8%A1%A8-2"><span class="toc-number">5.2.</span> <span class="toc-text">list 列表</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%87%E5%88%86-2"><span class="toc-number">5.2.1.</span> <span class="toc-text">切分</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#append%E8%BF%BD%E5%8A%A0-2"><span class="toc-number">5.2.2.</span> <span class="toc-text">append（）追加</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#insert%E6%8F%92%E5%85%A5%E6%8C%87%E5%AE%9A%E4%BD%8D%E7%BD%AE-2"><span class="toc-number">5.2.3.</span> <span class="toc-text">insert 插入指定位置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#pop%E5%88%A0%E9%99%A4%E6%9C%AB%E5%B0%BE%E5%85%83%E7%B4%A0-2"><span class="toc-number">5.2.4.</span> <span class="toc-text">pop（）删除末尾元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%87%E7%89%87-2"><span class="toc-number">5.2.5.</span> <span class="toc-text">切片</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%97%E8%A1%A8%E7%94%9F%E6%88%90-2"><span class="toc-number">5.2.5.1.</span> <span class="toc-text">列表生成</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#tuple%E5%85%83%E7%BB%84-2"><span class="toc-number">5.3.</span> <span class="toc-text">tuple 元组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#dict%E5%AD%97%E5%85%B8-2"><span class="toc-number">5.4.</span> <span class="toc-text">dict 字典</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89-3"><span class="toc-number">5.4.1.</span> <span class="toc-text">定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%96value-2"><span class="toc-number">5.4.2.</span> <span class="toc-text">取 value</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#dictkey-2"><span class="toc-number">5.4.2.1.</span> <span class="toc-text">dict[&#39;key&#39;]</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#key-in-dict-2"><span class="toc-number">5.4.2.2.</span> <span class="toc-text">&#39;key&#39; in dict</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#dictgetkey-2"><span class="toc-number">5.4.2.3.</span> <span class="toc-text">dict.get(&#39;key&#39;)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#dictpopkey%E5%88%A0%E9%99%A4%E4%B8%80%E4%B8%AAkey-2"><span class="toc-number">5.4.3.</span> <span class="toc-text">dict.pop (&#39;key&#39;) 删除一个 key</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#dictkeys%E8%BF%94%E5%9B%9E%E5%AD%97%E5%85%B8%E4%B8%AD%E6%89%80%E6%9C%89key%E5%88%97%E8%A1%A8-2"><span class="toc-number">5.4.4.</span> <span class="toc-text">dict.keys 返回字典中所有 key 列表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#dictupdate%E5%B0%86a%E5%AD%97%E5%85%B8%E6%96%B0keyvalue%E5%86%85%E5%AE%B9%E5%8A%A0%E5%85%A5b%E5%AD%97%E5%85%B8%E4%B8%AD-2"><span class="toc-number">5.4.5.</span> <span class="toc-text">dict.update () 将 a 字典新 key，value 内容加入 b 字典中</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%86%85%E5%BB%BA%E5%87%BD%E6%95%B0%E4%BD%BF%E7%94%A8-2"><span class="toc-number">5.4.5.1.</span> <span class="toc-text">内建函数使用</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#dict%E7%89%B9%E7%82%B9-2"><span class="toc-number">5.4.6.</span> <span class="toc-text">dict 特点</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#set%E9%9B%86%E5%90%88-2"><span class="toc-number">5.5.</span> <span class="toc-text">set 集合</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89-4"><span class="toc-number">5.5.1.</span> <span class="toc-text">定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#setaddkey%E6%B7%BB%E5%8A%A0%E5%85%83%E7%B4%A0-2"><span class="toc-number">5.5.2.</span> <span class="toc-text">set.add (&#39;key&#39;) 添加元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#setremovekey%E5%88%A0%E9%99%A4%E5%85%83%E7%B4%A0-2"><span class="toc-number">5.5.3.</span> <span class="toc-text">set.remove (&#39;key&#39;) 删除元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%A4%E4%B8%AAset%E4%BA%A4%E9%9B%86-2"><span class="toc-number">5.5.4.</span> <span class="toc-text">&amp; 两个 set 交集</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%A4%E4%B8%AAset%E5%B9%B6%E9%9B%86-2"><span class="toc-number">5.5.5.</span> <span class="toc-text">| 两个 set 并集</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#map%E7%9A%84%E6%98%BE%E7%A4%BA-2"><span class="toc-number">5.5.6.</span> <span class="toc-text">map () 的显示</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2-2"><span class="toc-number">5.6.</span> <span class="toc-text">数据类型转换</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#int-2"><span class="toc-number">5.6.1.</span> <span class="toc-text">int（）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#float-2"><span class="toc-number">5.6.2.</span> <span class="toc-text">float（）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#str-2"><span class="toc-number">5.6.3.</span> <span class="toc-text">str（）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#bool-2"><span class="toc-number">5.6.4.</span> <span class="toc-text">bool（）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD-2"><span class="toc-number">5.7.</span> <span class="toc-text">条件判断</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#if-2"><span class="toc-number">5.7.1.</span> <span class="toc-text">if</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#input%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA-2"><span class="toc-number">5.8.</span> <span class="toc-text">input（）输入输出</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF-%E8%BF%AD%E4%BB%A3-2"><span class="toc-number">5.9.</span> <span class="toc-text">循环 迭代</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#for-in-2"><span class="toc-number">5.9.1.</span> <span class="toc-text">for in</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#while-2"><span class="toc-number">5.9.2.</span> <span class="toc-text">while</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#break-2"><span class="toc-number">5.9.3.</span> <span class="toc-text">break</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#continue-2"><span class="toc-number">5.9.4.</span> <span class="toc-text">continue</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E5%99%A8-2"><span class="toc-number">5.10.</span> <span class="toc-text">生成器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#isinstance%E8%BF%AD%E4%BB%A3%E5%99%A8-2"><span class="toc-number">5.11.</span> <span class="toc-text">isinstance（）迭代器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0-2"><span class="toc-number">5.12.</span> <span class="toc-text">函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B0%83%E7%94%A8%E5%87%BD%E6%95%B0-2"><span class="toc-number">5.12.1.</span> <span class="toc-text">调用函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%E5%87%BD%E6%95%B0-2"><span class="toc-number">5.12.2.</span> <span class="toc-text">定义函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A9%BA%E5%87%BD%E6%95%B0-2"><span class="toc-number">5.12.3.</span> <span class="toc-text">空函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0-%E5%8F%82%E6%95%B0%E6%A3%80%E6%9F%A5-2"><span class="toc-number">5.12.4.</span> <span class="toc-text">函数 参数检查</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%AF%E8%BF%94%E5%9B%9E%E5%A4%9A%E4%B8%AA%E5%80%BC%E5%87%BD%E6%95%B0-2"><span class="toc-number">5.12.5.</span> <span class="toc-text">可返回多个值，函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0-2"><span class="toc-number">5.12.6.</span> <span class="toc-text">函数参数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BF%85%E9%80%89%E5%8F%82%E6%95%B0-2"><span class="toc-number">5.12.6.1.</span> <span class="toc-text">必选参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E5%8F%82%E6%95%B0-2"><span class="toc-number">5.12.6.2.</span> <span class="toc-text">&#x3D; 默认参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%AF%E5%8F%98%E5%8F%82%E6%95%B0-2"><span class="toc-number">5.12.6.3.</span> <span class="toc-text">* 可变参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E9%94%AE%E5%AD%97%E5%8F%82%E6%95%B0-2"><span class="toc-number">5.12.6.4.</span> <span class="toc-text">** 关键字参数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%92%E5%BD%92%E5%87%BD%E6%95%B0-2"><span class="toc-number">5.12.7.</span> <span class="toc-text">递归函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BD%AC%E4%B9%89%E5%AD%97%E7%AC%A6-2"><span class="toc-number">5.13.</span> <span class="toc-text">转义字符 \</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6and-or%E5%92%8Cnot-2"><span class="toc-number">5.14.</span> <span class="toc-text">运算符 and、or 和 not</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%99%A4%E6%B3%95-2"><span class="toc-number">5.15.</span> <span class="toc-text">除法 &#x2F;&#x2F;&#x2F;</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%99%A4%E6%B3%95%E4%B8%80-%E6%B5%AE%E7%82%B9%E6%95%B0-2"><span class="toc-number">5.15.0.1.</span> <span class="toc-text">除法一 &#x2F; 浮点数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%99%A4%E6%B3%95%E4%BA%8C-%E5%9C%B0%E6%9D%BF%E9%99%A4-%E6%95%B4%E6%95%B0-2"><span class="toc-number">5.15.0.2.</span> <span class="toc-text">除法二 &#x2F;&#x2F; 地板除 整数</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%96%E4%BD%99-2"><span class="toc-number">5.16.</span> <span class="toc-text">取余 %</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E7%BC%96%E7%A0%81-2"><span class="toc-number">5.17.</span> <span class="toc-text">字符编码</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#compile-%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%BC%96%E8%AF%91%E4%B8%BA%E5%AD%97%E8%8A%82%E4%BB%A3%E7%A0%81-2"><span class="toc-number">5.17.0.1.</span> <span class="toc-text">compile () 字符串编译为字节代码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BC%96%E7%A0%81%E8%BD%AC%E5%8C%96-2"><span class="toc-number">5.17.0.2.</span> <span class="toc-text">编码转化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#orda-%E5%AD%97%E6%AF%8D%E8%BD%AC%E5%AD%97%E7%AC%A6-2"><span class="toc-number">5.17.0.3.</span> <span class="toc-text">ord (&#39;A&#39;) 字母转字符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#chr65-%E5%AD%97%E7%AC%A6%E8%BD%AC%E5%AD%97%E6%AF%8D-2"><span class="toc-number">5.17.0.4.</span> <span class="toc-text">chr (65) 字符转字母</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#bstr%E8%BD%AC%E4%B8%BA%E5%AD%97%E8%8A%82%E7%B1%BB%E5%9E%8Bbytes-2"><span class="toc-number">5.17.0.5.</span> <span class="toc-text">b&#39;str&#39; 转为字节类型 bytes</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#strencodeascii-str-%E5%8F%98%E4%B8%BA-bytes-2"><span class="toc-number">5.17.0.6.</span> <span class="toc-text">str.encode(&#39;ascii&#39;) str 变为 bytes</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#strdecodeutf-8bytes%E5%8F%98%E4%B8%BA-str-2"><span class="toc-number">5.17.0.7.</span> <span class="toc-text">str.decode(&#39;utf-8&#39;) bytes 变为 str</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%89%B9%E6%AE%8A%E6%B3%A8%E9%87%8A-2"><span class="toc-number">5.18.</span> <span class="toc-text">特殊注释</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%A0%E4%BD%8D%E7%AC%A6-%E6%A0%BC%E5%BC%8F%E5%8C%96-2"><span class="toc-number">5.19.</span> <span class="toc-text">占位符 格式化</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%A0%E4%BD%8D%E7%AC%A6s-d-f-2"><span class="toc-number">5.19.1.</span> <span class="toc-text">占位符 % s % d % f</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#format%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%AD%97%E7%AC%A6%E4%B8%B2-2"><span class="toc-number">5.19.2.</span> <span class="toc-text">format（）格式化字符串</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#f-string-%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%AD%97%E7%AC%A6%E4%B8%B2-2"><span class="toc-number">5.19.3.</span> <span class="toc-text">f-string 格式化字符串</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B-2"><span class="toc-number">5.20.</span> <span class="toc-text">函数式编程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B%E7%89%B9%E7%82%B9-2"><span class="toc-number">5.20.1.</span> <span class="toc-text">函数式编程特点：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0-2"><span class="toc-number">5.21.</span> <span class="toc-text">高阶函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E5%8F%AF%E4%BB%A5%E6%8C%87%E5%90%91%E5%87%BD%E6%95%B0-2"><span class="toc-number">5.21.1.</span> <span class="toc-text">变量可以指向函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%90%8D%E4%B9%9F%E6%98%AF%E5%8F%98%E9%87%8F-2"><span class="toc-number">5.21.2.</span> <span class="toc-text">函数名也是变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%A0%E5%85%A5%E5%87%BD%E6%95%B0-2"><span class="toc-number">5.21.3.</span> <span class="toc-text">传入函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#mapreduce-%E5%86%85%E5%BB%BA%E5%87%BD%E6%95%B0-2"><span class="toc-number">5.22.</span> <span class="toc-text">map&#x2F;reduce 内建函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#map%E5%87%BD%E6%95%B0%E5%A4%84%E7%90%86%E7%94%9F%E6%88%90%E6%96%B0iterator%E8%BF%AD%E4%BB%A3%E5%99%A8-2"><span class="toc-number">5.22.1.</span> <span class="toc-text">map（）函数处理生成新 Iterator 迭代器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#reduce%E5%87%BD%E6%95%B0%E4%BD%9C%E7%94%A8%E5%9C%A8%E5%BA%8F%E5%88%97%E4%B8%8A-2"><span class="toc-number">5.22.2.</span> <span class="toc-text">reduce（）函数作用在序列上</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#filter%E8%BF%87%E6%BB%A4%E5%BA%8F%E5%88%97-2"><span class="toc-number">5.23.</span> <span class="toc-text">filter () 过滤序列</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#sorted%E6%8E%92%E5%BA%8F-2"><span class="toc-number">5.24.</span> <span class="toc-text">sorted（）排序</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%94%E5%9B%9E%E5%87%BD%E6%95%B0-2"><span class="toc-number">5.25.</span> <span class="toc-text">返回函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E4%BD%9C%E4%B8%BA%E8%BF%94%E5%9B%9E%E5%80%BC-2"><span class="toc-number">5.25.1.</span> <span class="toc-text">函数作为返回值</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%97%AD%E5%8C%85-2"><span class="toc-number">5.26.</span> <span class="toc-text">闭包</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#lambda%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0-2"><span class="toc-number">5.27.</span> <span class="toc-text">lambda（）匿名函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A3%85%E9%A5%B0%E5%99%A8-decorator-2"><span class="toc-number">5.28.</span> <span class="toc-text">装饰器 Decorator</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%AC%E8%B4%A8%E4%B8%8A%E8%A3%85%E9%A5%B0%E5%99%A8%E5%B0%B1%E6%98%AF%E4%B8%80%E4%B8%AA%E8%BF%94%E5%9B%9E%E5%87%BD%E6%95%B0%E7%9A%84%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0-2"><span class="toc-number">5.28.1.</span> <span class="toc-text">本质上，装饰器就是一个返回函数的高阶函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#wraps-%E5%B8%B8%E7%94%A8%E8%A3%85%E9%A5%B0%E5%99%A8-2"><span class="toc-number">5.29.</span> <span class="toc-text">@wraps 常用装饰器</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8D%E5%8A%A0wraps%E6%97%B6-2"><span class="toc-number">5.29.0.1.</span> <span class="toc-text">不加 wraps 时</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%81%8F%E5%87%BD%E6%95%B0functools%E6%A8%A1%E5%9D%97-2"><span class="toc-number">5.30.</span> <span class="toc-text">偏函数（functools 模块）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8-3"><span class="toc-number">5.30.1.</span> <span class="toc-text">作用：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E5%9D%97-2"><span class="toc-number">5.31.</span> <span class="toc-text">模块</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8%E5%9F%9F-2"><span class="toc-number">5.32.</span> <span class="toc-text">作用域</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#pubilc%E5%85%AC%E5%BC%80-2"><span class="toc-number">5.32.1.</span> <span class="toc-text">pubilc 公开</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#private%E9%9D%9E%E5%85%AC%E5%BC%80___-2"><span class="toc-number">5.32.2.</span> <span class="toc-text">private 非公开_,__</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E7%AC%AC%E4%B8%89%E6%96%B9%E6%A8%A1%E5%9D%97pip-2"><span class="toc-number">5.33.</span> <span class="toc-text">安装第三方模块 pip</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%9D%97%E6%90%9C%E7%B4%A2%E8%B7%AF%E5%BE%84-2"><span class="toc-number">5.33.1.</span> <span class="toc-text">模块搜索路径</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B-2"><span class="toc-number">5.34.</span> <span class="toc-text">面向对象编程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E5%92%8C%E5%AE%9E%E4%BE%8B-2"><span class="toc-number">5.35.</span> <span class="toc-text">类和实例</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%B0%81%E8%A3%85-2"><span class="toc-number">5.36.</span> <span class="toc-text">数据封装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E9%99%90%E5%88%B6-2"><span class="toc-number">5.37.</span> <span class="toc-text">访问限制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8-4"><span class="toc-number">5.37.1.</span> <span class="toc-text">作用：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF%E5%92%8C%E5%A4%9A%E6%80%81-2"><span class="toc-number">5.38.</span> <span class="toc-text">继承和多态</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF-2"><span class="toc-number">5.38.1.</span> <span class="toc-text">继承</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E6%80%81-2"><span class="toc-number">5.38.1.1.</span> <span class="toc-text">多态</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%B8%AD%E5%AD%90%E7%B1%BB%E5%9E%8B-2"><span class="toc-number">5.38.2.</span> <span class="toc-text">鸭子类型</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E5%AF%B9%E8%B1%A1%E4%BF%A1%E6%81%AF-2"><span class="toc-number">5.39.</span> <span class="toc-text">获取对象信息</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#type%E5%88%A4%E6%96%AD%E5%AF%B9%E8%B1%A1%E7%B1%BB%E5%9E%8B-2"><span class="toc-number">5.39.1.</span> <span class="toc-text">type（）判断对象类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#isinstance%E5%AF%B9%E4%BA%8E%E7%BB%A7%E6%89%BF%E5%85%B3%E7%B3%BB%E5%88%A4%E6%96%ADclass%E7%9A%84%E7%B1%BB%E5%9E%8B-2"><span class="toc-number">5.39.2.</span> <span class="toc-text">isinstance () 对于继承关系，判断 class 的类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#dir%E8%8E%B7%E5%8F%96%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%89%80%E6%9C%89%E5%B1%9E%E6%80%A7%E5%92%8C%E6%96%B9%E6%B3%95-2"><span class="toc-number">5.39.3.</span> <span class="toc-text">dir（）获取对象的所有属性和方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#len%E5%AF%B9%E8%B1%A1%E9%95%BF%E5%BA%A6-2"><span class="toc-number">5.39.3.1.</span> <span class="toc-text">len（）对象长度</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#lower%E8%BF%94%E5%9B%9E%E5%B0%8F%E5%86%99%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2-2"><span class="toc-number">5.39.3.2.</span> <span class="toc-text">lower（）返回小写的字符串</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#getattr%E8%8E%B7%E5%8F%96%E5%B1%9E%E6%80%A7a-2"><span class="toc-number">5.39.3.3.</span> <span class="toc-text">getattr（）获取属性 a</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#setattr%E8%AE%BE%E7%BD%AE%E5%B1%9E%E6%80%A7a-2"><span class="toc-number">5.39.3.4.</span> <span class="toc-text">setattr（）设置属性 a</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#hasattrobja%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E6%9C%89%E5%B1%9E%E6%80%A7a-2"><span class="toc-number">5.39.3.5.</span> <span class="toc-text">hasattr（obj,&#39;a&#39;）判断是否有属性 a</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B%E5%B1%9E%E6%80%A7%E5%92%8C%E7%B1%BB%E5%B1%9E%E6%80%A7-2"><span class="toc-number">5.40.</span> <span class="toc-text">实例属性和类属性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-4"><span class="toc-number">5.40.1.</span> <span class="toc-text">总结：</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B-2"><span class="toc-number">6.</span> <span class="toc-text">面向对象高级编程</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#_slots_%E4%BD%BF%E7%94%A8-2"><span class="toc-number">7.</span> <span class="toc-text">_slots_使用</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%99%90%E5%88%B6%E5%AE%9E%E4%BE%8B%E5%B1%9E%E6%80%A7%E5%AE%9A%E4%B9%89%E4%B8%80%E4%B8%AA%E7%89%B9%E6%AE%8A%E7%9A%84-__slots__%E5%8F%98%E9%87%8F-2"><span class="toc-number">7.1.</span> <span class="toc-text">限制实例属性，定义一个特殊的 __slots__ 变量</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F-2"><span class="toc-number">7.1.1.</span> <span class="toc-text">注意：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#property-2"><span class="toc-number">7.2.</span> <span class="toc-text">@property</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-5"><span class="toc-number">7.3.</span> <span class="toc-text">总结：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E9%87%8D%E7%BB%A7%E6%89%BF-3"><span class="toc-number">7.4.</span> <span class="toc-text">多重继承</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#mixin-2"><span class="toc-number">7.4.1.</span> <span class="toc-text">MixIn</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E7%BB%A7%E6%89%BF-2"><span class="toc-number">7.4.2.</span> <span class="toc-text">多继承</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E9%87%8D%E7%BB%A7%E6%89%BF-4"><span class="toc-number">7.4.3.</span> <span class="toc-text">多重继承</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-6"><span class="toc-number">7.4.4.</span> <span class="toc-text">总结：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9A%E5%88%B6%E7%B1%BB-2"><span class="toc-number">7.5.</span> <span class="toc-text">定制类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#str%E5%9B%9E%E7%94%A8%E6%88%B7%E7%9C%8B%E5%88%B0%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2-2"><span class="toc-number">7.5.1.</span> <span class="toc-text">str () 回用户看到的字符串</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#repr%E8%BF%94%E5%9B%9E%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E8%80%85%E7%9C%8B%E5%88%B0%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2-2"><span class="toc-number">7.5.2.</span> <span class="toc-text">repr () 返回程序开发者看到的字符串</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_iter%E8%BF%94%E5%9B%9E%E4%B8%80%E4%B8%AA%E8%BF%AD%E4%BB%A3%E5%AF%B9%E8%B1%A1-2"><span class="toc-number">7.5.3.</span> <span class="toc-text">_iter () 返回一个迭代对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#getitem%E8%A1%A8%E7%8E%B0%E5%BE%97%E5%83%8Flist%E9%82%A3%E6%A0%B7%E6%8C%89%E7%85%A7%E4%B8%8B%E6%A0%87%E5%8F%96%E5%87%BA%E5%85%83%E7%B4%A0-2"><span class="toc-number">7.5.4.</span> <span class="toc-text">getitem () 表现得像 list 那样按照下标取出元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#getattr%E5%8A%A8%E6%80%81%E8%BF%94%E5%9B%9E%E4%B8%80%E4%B8%AA%E5%B1%9E%E6%80%A7-2"><span class="toc-number">7.5.5.</span> <span class="toc-text">getattr () 动态返回一个属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#call%E7%9B%B4%E6%8E%A5%E8%B0%83%E7%94%A8%E5%AE%9E%E4%BE%8B%E6%9C%AC%E8%BA%AB-2"><span class="toc-number">7.5.6.</span> <span class="toc-text">call () 直接调用实例本身</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E6%9E%9A%E4%B8%BE%E7%B1%BB-2"><span class="toc-number">7.6.</span> <span class="toc-text">使用枚举类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%85%83%E7%B1%BB%E5%88%9B%E5%BB%BA%E7%B1%BB-2"><span class="toc-number">7.7.</span> <span class="toc-text">使用元类 [创建类]</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F%E4%B8%80type-2"><span class="toc-number">7.7.1.</span> <span class="toc-text">方式一：type（）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F%E4%BA%8C%E5%85%83%E7%B1%BBmetaclass-2"><span class="toc-number">7.7.2.</span> <span class="toc-text">方式二：元类 metaclass</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF-2"><span class="toc-number">7.7.3.</span> <span class="toc-text">应用场景</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86try-2"><span class="toc-number">7.8.</span> <span class="toc-text">错误处理 try</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B0%83%E7%94%A8%E6%A0%88-2"><span class="toc-number">7.9.</span> <span class="toc-text">调用栈</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%B0%E5%BD%95%E9%94%99%E8%AF%AFlogging-2"><span class="toc-number">7.10.</span> <span class="toc-text">记录错误 logging</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8A%9B%E5%87%BA%E9%94%99%E8%AF%AFraise-2"><span class="toc-number">7.10.1.</span> <span class="toc-text">抛出错误 raise</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B0%83%E8%AF%95%E6%96%B9%E6%B3%95-2"><span class="toc-number">7.11.</span> <span class="toc-text">调试方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-print-2"><span class="toc-number">7.11.1.</span> <span class="toc-text">1. print（）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%96%AD%E8%A8%80assert-2"><span class="toc-number">7.11.2.</span> <span class="toc-text">2. 断言 assert</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-logging-2"><span class="toc-number">7.11.3.</span> <span class="toc-text">3. logging</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4pbd%E5%8D%95%E6%AD%A5%E6%89%A7%E8%A1%8C-2"><span class="toc-number">7.11.4.</span> <span class="toc-text">4.pbd 单步执行</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-pdbset_trace-2"><span class="toc-number">7.11.5.</span> <span class="toc-text">5. pdb.set_trace()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6ide%E5%B7%A5%E5%85%B7-2"><span class="toc-number">7.11.6.</span> <span class="toc-text">6.IDE 工具</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95-2"><span class="toc-number">7.12.</span> <span class="toc-text">单元测试</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E6%A1%A3%E6%B5%8B%E8%AF%95-2"><span class="toc-number">7.13.</span> <span class="toc-text">文档测试</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#io%E7%BC%96%E7%A8%8B-2"><span class="toc-number">7.14.</span> <span class="toc-text">IO 编程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%8C%E6%AD%A5io-2"><span class="toc-number">7.15.</span> <span class="toc-text">同步 IO</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%82%E6%AD%A5io-2"><span class="toc-number">7.16.</span> <span class="toc-text">异步 IO</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E8%AF%BB%E5%86%99-2"><span class="toc-number">7.17.</span> <span class="toc-text">文件读写</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%BB%E6%96%87%E4%BB%B6open-2"><span class="toc-number">7.17.1.</span> <span class="toc-text">读文件 open（）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#read%E4%B8%80%E6%AC%A1%E8%AF%BB%E5%8F%96%E5%85%A8%E9%83%A8%E5%86%85%E5%AE%B9-2"><span class="toc-number">7.17.2.</span> <span class="toc-text">read () 一次读取全部内容</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#fclose%E5%85%B3%E9%97%AD%E6%96%87%E4%BB%B6-2"><span class="toc-number">7.17.3.</span> <span class="toc-text">f.close（）关闭文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#with-openfilepath-r-as-f-printfread-2"><span class="toc-number">7.17.4.</span> <span class="toc-text">with open(&#39;filepath&#39;, &#39;r&#39;) as f: print(f.read())</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#fwrite%E5%86%99%E6%96%87%E4%BB%B6-2"><span class="toc-number">7.17.5.</span> <span class="toc-text">f.write () 写文件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#stringio%E5%92%8Cbytesio-2"><span class="toc-number">7.18.</span> <span class="toc-text">StringIO 和 BytesIO</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#stringio-2"><span class="toc-number">7.18.1.</span> <span class="toc-text">StringIO</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#bytesio-2"><span class="toc-number">7.18.2.</span> <span class="toc-text">BytesIO</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#os%E6%A8%A1%E5%9D%97-2"><span class="toc-number">7.19.</span> <span class="toc-text">os 模块</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#osname%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%B1%BB%E5%9E%8B-2"><span class="toc-number">7.19.1.</span> <span class="toc-text">os.name 操作系统类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#osuname%E8%AF%A6%E7%BB%86%E7%B3%BB%E7%BB%9F%E4%BF%A1%E6%81%AF-2"><span class="toc-number">7.19.2.</span> <span class="toc-text">os.uname () 详细系统信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#osenciron%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F-2"><span class="toc-number">7.19.3.</span> <span class="toc-text">os.enciron 环境变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ospathjoin%E8%BF%9E%E6%8E%A5%E8%B7%AF%E5%BE%84-2"><span class="toc-number">7.19.4.</span> <span class="toc-text">os.path.join( ) 连接路径</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ospathsplit%E6%8B%86%E5%88%86%E8%B7%AF%E5%BE%84-2"><span class="toc-number">7.19.5.</span> <span class="toc-text">os.path.split() 拆分路径</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ospathsplitext-%E6%96%87%E4%BB%B6%E6%89%A9%E5%B1%95%E5%90%8D-2"><span class="toc-number">7.19.6.</span> <span class="toc-text">os.path.splitext() 文件扩展名</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BA%8F%E5%88%97%E5%8C%96pickle%E6%A8%A1%E5%9D%97-2"><span class="toc-number">7.20.</span> <span class="toc-text">序列化 pickle 模块</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#pickledumps%E5%AF%B9%E8%B1%A1-%E5%AD%97%E8%8A%82%E5%BA%8F%E5%88%97%E5%8C%96-2"><span class="toc-number">7.20.1.</span> <span class="toc-text">pickle.dumps () 对象 -》字节 [序列化]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#pickleload%E5%AD%97%E8%8A%82-%E5%AF%B9%E8%B1%A1%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96-2"><span class="toc-number">7.20.2.</span> <span class="toc-text">pickle.load () 字节 -》对象【反序列化】</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#json%E6%A8%A1%E5%9D%97-2"><span class="toc-number">7.21.</span> <span class="toc-text">json 模块</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#jsondumpspython%E5%AF%B9%E8%B1%A1python%E5%AF%B9%E8%B1%A1-json%E5%AF%B9%E8%B1%A1-2"><span class="toc-number">7.21.0.1.</span> <span class="toc-text">json.dumps (python 对象) python 对象 -》json 对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#jsonloadsjson%E5%AF%B9%E8%B1%A1json%E5%AF%B9%E8%B1%A1-python%E5%AF%B9%E8%B1%A1-2"><span class="toc-number">7.21.0.2.</span> <span class="toc-text">json.loads (json 对象) json 对象 -》python 对象</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E5%8F%98%E4%B8%BA%E5%AD%97%E5%85%B8%E5%B9%B6%E5%BA%8F%E5%88%97%E5%8C%96-2"><span class="toc-number">7.21.1.</span> <span class="toc-text">类变为字典并序列化</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E5%92%8C%E7%BA%BF%E7%A8%8B-2"><span class="toc-number">7.22.</span> <span class="toc-text">进程和线程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E8%BF%9B%E7%A8%8B-2"><span class="toc-number">7.23.</span> <span class="toc-text">多进程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%AF%E5%8A%A8%E5%A4%A7%E9%87%8F%E5%AD%90%E8%BF%9B%E7%A8%8Bpool-2"><span class="toc-number">7.23.1.</span> <span class="toc-text">启动大量子进程 pool</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%A8%A1%E5%9D%97%E6%80%BB%E7%BB%93-2"><span class="toc-number">8.</span> <span class="toc-text">模块总结</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#doctest%E6%96%87%E6%A1%A3%E6%B5%8B%E8%AF%95-2"><span class="toc-number">8.1.</span> <span class="toc-text">doctest 文档测试</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ospath%E6%96%87%E4%BB%B6%E8%B7%AF%E5%BE%84-2"><span class="toc-number">8.2.</span> <span class="toc-text">os.path 文件路径</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#pickle%E5%BA%8F%E5%88%97%E5%8C%96-2"><span class="toc-number">8.3.</span> <span class="toc-text">pickle 序列化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#json-2"><span class="toc-number">8.4.</span> <span class="toc-text">json</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#python-3"><span class="toc-number">9.</span> <span class="toc-text">python</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B-3"><span class="toc-number">9.1.</span> <span class="toc-text">数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#int-%E6%95%B4%E5%9E%8B-3"><span class="toc-number">9.1.1.</span> <span class="toc-text">int 整型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#float-%E6%B5%AE%E7%82%B9%E5%9E%8B-3"><span class="toc-number">9.1.2.</span> <span class="toc-text">float 浮点型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#string-%E5%AD%97%E7%AC%A6%E4%B8%B2-3"><span class="toc-number">9.1.3.</span> <span class="toc-text">String 字符串</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#bool%E5%B8%83%E5%B0%94-3"><span class="toc-number">9.1.4.</span> <span class="toc-text">Bool 布尔</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#none-%E7%A9%BA%E5%80%BC-3"><span class="toc-number">9.1.5.</span> <span class="toc-text">None 空值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%98%E9%87%8F-3"><span class="toc-number">9.1.6.</span> <span class="toc-text">变量</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E5%AE%9A%E4%B9%89-3"><span class="toc-number">9.1.6.1.</span> <span class="toc-text">动态定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E5%AE%9A%E4%B9%89-3"><span class="toc-number">9.1.6.2.</span> <span class="toc-text">静态定义</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E9%87%8F-3"><span class="toc-number">9.1.7.</span> <span class="toc-text">常量</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#list%E5%88%97%E8%A1%A8-3"><span class="toc-number">9.2.</span> <span class="toc-text">list 列表</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%87%E5%88%86-3"><span class="toc-number">9.2.1.</span> <span class="toc-text">切分</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#append%E8%BF%BD%E5%8A%A0-3"><span class="toc-number">9.2.2.</span> <span class="toc-text">append（）追加</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#insert%E6%8F%92%E5%85%A5%E6%8C%87%E5%AE%9A%E4%BD%8D%E7%BD%AE-3"><span class="toc-number">9.2.3.</span> <span class="toc-text">insert 插入指定位置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#pop%E5%88%A0%E9%99%A4%E6%9C%AB%E5%B0%BE%E5%85%83%E7%B4%A0-3"><span class="toc-number">9.2.4.</span> <span class="toc-text">pop（）删除末尾元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%87%E7%89%87-3"><span class="toc-number">9.2.5.</span> <span class="toc-text">切片</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%97%E8%A1%A8%E7%94%9F%E6%88%90-3"><span class="toc-number">9.2.5.1.</span> <span class="toc-text">列表生成</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#tuple%E5%85%83%E7%BB%84-3"><span class="toc-number">9.3.</span> <span class="toc-text">tuple 元组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#dict%E5%AD%97%E5%85%B8-3"><span class="toc-number">9.4.</span> <span class="toc-text">dict 字典</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89-5"><span class="toc-number">9.4.1.</span> <span class="toc-text">定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%96value-3"><span class="toc-number">9.4.2.</span> <span class="toc-text">取 value</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#dictkey-3"><span class="toc-number">9.4.2.1.</span> <span class="toc-text">dict[&#39;key&#39;]</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#key-in-dict-3"><span class="toc-number">9.4.2.2.</span> <span class="toc-text">&#39;key&#39; in dict</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#dictgetkey-3"><span class="toc-number">9.4.2.3.</span> <span class="toc-text">dict.get(&#39;key&#39;)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#dictpopkey%E5%88%A0%E9%99%A4%E4%B8%80%E4%B8%AAkey-3"><span class="toc-number">9.4.3.</span> <span class="toc-text">dict.pop (&#39;key&#39;) 删除一个 key</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#dictkeys%E8%BF%94%E5%9B%9E%E5%AD%97%E5%85%B8%E4%B8%AD%E6%89%80%E6%9C%89key%E5%88%97%E8%A1%A8-3"><span class="toc-number">9.4.4.</span> <span class="toc-text">dict.keys 返回字典中所有 key 列表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#dictupdate%E5%B0%86a%E5%AD%97%E5%85%B8%E6%96%B0keyvalue%E5%86%85%E5%AE%B9%E5%8A%A0%E5%85%A5b%E5%AD%97%E5%85%B8%E4%B8%AD-3"><span class="toc-number">9.4.5.</span> <span class="toc-text">dict.update () 将 a 字典新 key，value 内容加入 b 字典中</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%86%85%E5%BB%BA%E5%87%BD%E6%95%B0%E4%BD%BF%E7%94%A8-3"><span class="toc-number">9.4.5.1.</span> <span class="toc-text">内建函数使用</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#dict%E7%89%B9%E7%82%B9-3"><span class="toc-number">9.4.6.</span> <span class="toc-text">dict 特点</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#set%E9%9B%86%E5%90%88-3"><span class="toc-number">9.5.</span> <span class="toc-text">set 集合</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89-6"><span class="toc-number">9.5.1.</span> <span class="toc-text">定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#setaddkey%E6%B7%BB%E5%8A%A0%E5%85%83%E7%B4%A0-3"><span class="toc-number">9.5.2.</span> <span class="toc-text">set.add (&#39;key&#39;) 添加元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#setremovekey%E5%88%A0%E9%99%A4%E5%85%83%E7%B4%A0-3"><span class="toc-number">9.5.3.</span> <span class="toc-text">set.remove (&#39;key&#39;) 删除元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%A4%E4%B8%AAset%E4%BA%A4%E9%9B%86-3"><span class="toc-number">9.5.4.</span> <span class="toc-text">&amp; 两个 set 交集</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%A4%E4%B8%AAset%E5%B9%B6%E9%9B%86-3"><span class="toc-number">9.5.5.</span> <span class="toc-text">| 两个 set 并集</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#map%E7%9A%84%E6%98%BE%E7%A4%BA-3"><span class="toc-number">9.5.6.</span> <span class="toc-text">map () 的显示</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2-3"><span class="toc-number">9.6.</span> <span class="toc-text">数据类型转换</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#int-3"><span class="toc-number">9.6.1.</span> <span class="toc-text">int（）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#float-3"><span class="toc-number">9.6.2.</span> <span class="toc-text">float（）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#str-3"><span class="toc-number">9.6.3.</span> <span class="toc-text">str（）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#bool-3"><span class="toc-number">9.6.4.</span> <span class="toc-text">bool（）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD-3"><span class="toc-number">9.7.</span> <span class="toc-text">条件判断</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#if-3"><span class="toc-number">9.7.1.</span> <span class="toc-text">if</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#input%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA-3"><span class="toc-number">9.8.</span> <span class="toc-text">input（）输入输出</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF-%E8%BF%AD%E4%BB%A3-3"><span class="toc-number">9.9.</span> <span class="toc-text">循环 迭代</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#for-in-3"><span class="toc-number">9.9.1.</span> <span class="toc-text">for in</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#while-3"><span class="toc-number">9.9.2.</span> <span class="toc-text">while</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#break-3"><span class="toc-number">9.9.3.</span> <span class="toc-text">break</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#continue-3"><span class="toc-number">9.9.4.</span> <span class="toc-text">continue</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E5%99%A8-3"><span class="toc-number">9.10.</span> <span class="toc-text">生成器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#isinstance%E8%BF%AD%E4%BB%A3%E5%99%A8-3"><span class="toc-number">9.11.</span> <span class="toc-text">isinstance（）迭代器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0-3"><span class="toc-number">9.12.</span> <span class="toc-text">函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B0%83%E7%94%A8%E5%87%BD%E6%95%B0-3"><span class="toc-number">9.12.1.</span> <span class="toc-text">调用函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%E5%87%BD%E6%95%B0-3"><span class="toc-number">9.12.2.</span> <span class="toc-text">定义函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A9%BA%E5%87%BD%E6%95%B0-3"><span class="toc-number">9.12.3.</span> <span class="toc-text">空函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0-%E5%8F%82%E6%95%B0%E6%A3%80%E6%9F%A5-3"><span class="toc-number">9.12.4.</span> <span class="toc-text">函数 参数检查</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%AF%E8%BF%94%E5%9B%9E%E5%A4%9A%E4%B8%AA%E5%80%BC%E5%87%BD%E6%95%B0-3"><span class="toc-number">9.12.5.</span> <span class="toc-text">可返回多个值，函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0-3"><span class="toc-number">9.12.6.</span> <span class="toc-text">函数参数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BF%85%E9%80%89%E5%8F%82%E6%95%B0-3"><span class="toc-number">9.12.6.1.</span> <span class="toc-text">必选参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E5%8F%82%E6%95%B0-3"><span class="toc-number">9.12.6.2.</span> <span class="toc-text">&#x3D; 默认参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%AF%E5%8F%98%E5%8F%82%E6%95%B0-3"><span class="toc-number">9.12.6.3.</span> <span class="toc-text">* 可变参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E9%94%AE%E5%AD%97%E5%8F%82%E6%95%B0-3"><span class="toc-number">9.12.6.4.</span> <span class="toc-text">** 关键字参数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%92%E5%BD%92%E5%87%BD%E6%95%B0-3"><span class="toc-number">9.12.7.</span> <span class="toc-text">递归函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BD%AC%E4%B9%89%E5%AD%97%E7%AC%A6-3"><span class="toc-number">9.13.</span> <span class="toc-text">转义字符 \</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6and-or%E5%92%8Cnot-3"><span class="toc-number">9.14.</span> <span class="toc-text">运算符 and、or 和 not</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%99%A4%E6%B3%95-3"><span class="toc-number">9.15.</span> <span class="toc-text">除法 &#x2F;&#x2F;&#x2F;</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%99%A4%E6%B3%95%E4%B8%80-%E6%B5%AE%E7%82%B9%E6%95%B0-3"><span class="toc-number">9.15.0.1.</span> <span class="toc-text">除法一 &#x2F; 浮点数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%99%A4%E6%B3%95%E4%BA%8C-%E5%9C%B0%E6%9D%BF%E9%99%A4-%E6%95%B4%E6%95%B0-3"><span class="toc-number">9.15.0.2.</span> <span class="toc-text">除法二 &#x2F;&#x2F; 地板除 整数</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%96%E4%BD%99-3"><span class="toc-number">9.16.</span> <span class="toc-text">取余 %</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E7%BC%96%E7%A0%81-3"><span class="toc-number">9.17.</span> <span class="toc-text">字符编码</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#compile-%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%BC%96%E8%AF%91%E4%B8%BA%E5%AD%97%E8%8A%82%E4%BB%A3%E7%A0%81-3"><span class="toc-number">9.17.0.1.</span> <span class="toc-text">compile () 字符串编译为字节代码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BC%96%E7%A0%81%E8%BD%AC%E5%8C%96-3"><span class="toc-number">9.17.0.2.</span> <span class="toc-text">编码转化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#orda-%E5%AD%97%E6%AF%8D%E8%BD%AC%E5%AD%97%E7%AC%A6-3"><span class="toc-number">9.17.0.3.</span> <span class="toc-text">ord (&#39;A&#39;) 字母转字符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#chr65-%E5%AD%97%E7%AC%A6%E8%BD%AC%E5%AD%97%E6%AF%8D-3"><span class="toc-number">9.17.0.4.</span> <span class="toc-text">chr (65) 字符转字母</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#bstr%E8%BD%AC%E4%B8%BA%E5%AD%97%E8%8A%82%E7%B1%BB%E5%9E%8Bbytes-3"><span class="toc-number">9.17.0.5.</span> <span class="toc-text">b&#39;str&#39; 转为字节类型 bytes</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#strencodeascii-str-%E5%8F%98%E4%B8%BA-bytes-3"><span class="toc-number">9.17.0.6.</span> <span class="toc-text">str.encode(&#39;ascii&#39;) str 变为 bytes</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#strdecodeutf-8bytes%E5%8F%98%E4%B8%BA-str-3"><span class="toc-number">9.17.0.7.</span> <span class="toc-text">str.decode(&#39;utf-8&#39;) bytes 变为 str</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%89%B9%E6%AE%8A%E6%B3%A8%E9%87%8A-3"><span class="toc-number">9.18.</span> <span class="toc-text">特殊注释</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%A0%E4%BD%8D%E7%AC%A6-%E6%A0%BC%E5%BC%8F%E5%8C%96-3"><span class="toc-number">9.19.</span> <span class="toc-text">占位符 格式化</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%A0%E4%BD%8D%E7%AC%A6s-d-f-3"><span class="toc-number">9.19.1.</span> <span class="toc-text">占位符 % s % d % f</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#format%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%AD%97%E7%AC%A6%E4%B8%B2-3"><span class="toc-number">9.19.2.</span> <span class="toc-text">format（）格式化字符串</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#f-string-%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%AD%97%E7%AC%A6%E4%B8%B2-3"><span class="toc-number">9.19.3.</span> <span class="toc-text">f-string 格式化字符串</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B-3"><span class="toc-number">9.20.</span> <span class="toc-text">函数式编程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B%E7%89%B9%E7%82%B9-3"><span class="toc-number">9.20.1.</span> <span class="toc-text">函数式编程特点：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0-3"><span class="toc-number">9.21.</span> <span class="toc-text">高阶函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E5%8F%AF%E4%BB%A5%E6%8C%87%E5%90%91%E5%87%BD%E6%95%B0-3"><span class="toc-number">9.21.1.</span> <span class="toc-text">变量可以指向函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%90%8D%E4%B9%9F%E6%98%AF%E5%8F%98%E9%87%8F-3"><span class="toc-number">9.21.2.</span> <span class="toc-text">函数名也是变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%A0%E5%85%A5%E5%87%BD%E6%95%B0-3"><span class="toc-number">9.21.3.</span> <span class="toc-text">传入函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#mapreduce-%E5%86%85%E5%BB%BA%E5%87%BD%E6%95%B0-3"><span class="toc-number">9.22.</span> <span class="toc-text">map&#x2F;reduce 内建函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#map%E5%87%BD%E6%95%B0%E5%A4%84%E7%90%86%E7%94%9F%E6%88%90%E6%96%B0iterator%E8%BF%AD%E4%BB%A3%E5%99%A8-3"><span class="toc-number">9.22.1.</span> <span class="toc-text">map（）函数处理生成新 Iterator 迭代器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#reduce%E5%87%BD%E6%95%B0%E4%BD%9C%E7%94%A8%E5%9C%A8%E5%BA%8F%E5%88%97%E4%B8%8A-3"><span class="toc-number">9.22.2.</span> <span class="toc-text">reduce（）函数作用在序列上</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#filter%E8%BF%87%E6%BB%A4%E5%BA%8F%E5%88%97-3"><span class="toc-number">9.23.</span> <span class="toc-text">filter () 过滤序列</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#sorted%E6%8E%92%E5%BA%8F-3"><span class="toc-number">9.24.</span> <span class="toc-text">sorted（）排序</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%94%E5%9B%9E%E5%87%BD%E6%95%B0-3"><span class="toc-number">9.25.</span> <span class="toc-text">返回函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E4%BD%9C%E4%B8%BA%E8%BF%94%E5%9B%9E%E5%80%BC-3"><span class="toc-number">9.25.1.</span> <span class="toc-text">函数作为返回值</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%97%AD%E5%8C%85-3"><span class="toc-number">9.26.</span> <span class="toc-text">闭包</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#lambda%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0-3"><span class="toc-number">9.27.</span> <span class="toc-text">lambda（）匿名函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A3%85%E9%A5%B0%E5%99%A8-decorator-3"><span class="toc-number">9.28.</span> <span class="toc-text">装饰器 Decorator</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%AC%E8%B4%A8%E4%B8%8A%E8%A3%85%E9%A5%B0%E5%99%A8%E5%B0%B1%E6%98%AF%E4%B8%80%E4%B8%AA%E8%BF%94%E5%9B%9E%E5%87%BD%E6%95%B0%E7%9A%84%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0-3"><span class="toc-number">9.28.1.</span> <span class="toc-text">本质上，装饰器就是一个返回函数的高阶函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#wraps-%E5%B8%B8%E7%94%A8%E8%A3%85%E9%A5%B0%E5%99%A8-3"><span class="toc-number">9.29.</span> <span class="toc-text">@wraps 常用装饰器</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8D%E5%8A%A0wraps%E6%97%B6-3"><span class="toc-number">9.29.0.1.</span> <span class="toc-text">不加 wraps 时</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%81%8F%E5%87%BD%E6%95%B0functools%E6%A8%A1%E5%9D%97-3"><span class="toc-number">9.30.</span> <span class="toc-text">偏函数（functools 模块）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8-5"><span class="toc-number">9.30.1.</span> <span class="toc-text">作用：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E5%9D%97-3"><span class="toc-number">9.31.</span> <span class="toc-text">模块</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8%E5%9F%9F-3"><span class="toc-number">9.32.</span> <span class="toc-text">作用域</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#pubilc%E5%85%AC%E5%BC%80-3"><span class="toc-number">9.32.1.</span> <span class="toc-text">pubilc 公开</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#private%E9%9D%9E%E5%85%AC%E5%BC%80___-3"><span class="toc-number">9.32.2.</span> <span class="toc-text">private 非公开_,__</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E7%AC%AC%E4%B8%89%E6%96%B9%E6%A8%A1%E5%9D%97pip-3"><span class="toc-number">9.33.</span> <span class="toc-text">安装第三方模块 pip</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%9D%97%E6%90%9C%E7%B4%A2%E8%B7%AF%E5%BE%84-3"><span class="toc-number">9.33.1.</span> <span class="toc-text">模块搜索路径</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B-3"><span class="toc-number">9.34.</span> <span class="toc-text">面向对象编程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E5%92%8C%E5%AE%9E%E4%BE%8B-3"><span class="toc-number">9.35.</span> <span class="toc-text">类和实例</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%B0%81%E8%A3%85-3"><span class="toc-number">9.36.</span> <span class="toc-text">数据封装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E9%99%90%E5%88%B6-3"><span class="toc-number">9.37.</span> <span class="toc-text">访问限制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8-6"><span class="toc-number">9.37.1.</span> <span class="toc-text">作用：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF%E5%92%8C%E5%A4%9A%E6%80%81-3"><span class="toc-number">9.38.</span> <span class="toc-text">继承和多态</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF-3"><span class="toc-number">9.38.1.</span> <span class="toc-text">继承</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E6%80%81-3"><span class="toc-number">9.38.1.1.</span> <span class="toc-text">多态</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%B8%AD%E5%AD%90%E7%B1%BB%E5%9E%8B-3"><span class="toc-number">9.38.2.</span> <span class="toc-text">鸭子类型</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E5%AF%B9%E8%B1%A1%E4%BF%A1%E6%81%AF-3"><span class="toc-number">9.39.</span> <span class="toc-text">获取对象信息</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#type%E5%88%A4%E6%96%AD%E5%AF%B9%E8%B1%A1%E7%B1%BB%E5%9E%8B-3"><span class="toc-number">9.39.1.</span> <span class="toc-text">type（）判断对象类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#isinstance%E5%AF%B9%E4%BA%8E%E7%BB%A7%E6%89%BF%E5%85%B3%E7%B3%BB%E5%88%A4%E6%96%ADclass%E7%9A%84%E7%B1%BB%E5%9E%8B-3"><span class="toc-number">9.39.2.</span> <span class="toc-text">isinstance () 对于继承关系，判断 class 的类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#dir%E8%8E%B7%E5%8F%96%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%89%80%E6%9C%89%E5%B1%9E%E6%80%A7%E5%92%8C%E6%96%B9%E6%B3%95-3"><span class="toc-number">9.39.3.</span> <span class="toc-text">dir（）获取对象的所有属性和方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#len%E5%AF%B9%E8%B1%A1%E9%95%BF%E5%BA%A6-3"><span class="toc-number">9.39.3.1.</span> <span class="toc-text">len（）对象长度</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#lower%E8%BF%94%E5%9B%9E%E5%B0%8F%E5%86%99%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2-3"><span class="toc-number">9.39.3.2.</span> <span class="toc-text">lower（）返回小写的字符串</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#getattr%E8%8E%B7%E5%8F%96%E5%B1%9E%E6%80%A7a-3"><span class="toc-number">9.39.3.3.</span> <span class="toc-text">getattr（）获取属性 a</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#setattr%E8%AE%BE%E7%BD%AE%E5%B1%9E%E6%80%A7a-3"><span class="toc-number">9.39.3.4.</span> <span class="toc-text">setattr（）设置属性 a</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#hasattrobja%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E6%9C%89%E5%B1%9E%E6%80%A7a-3"><span class="toc-number">9.39.3.5.</span> <span class="toc-text">hasattr（obj,&#39;a&#39;）判断是否有属性 a</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B%E5%B1%9E%E6%80%A7%E5%92%8C%E7%B1%BB%E5%B1%9E%E6%80%A7-3"><span class="toc-number">9.40.</span> <span class="toc-text">实例属性和类属性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-7"><span class="toc-number">9.40.1.</span> <span class="toc-text">总结：</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B-3"><span class="toc-number">10.</span> <span class="toc-text">面向对象高级编程</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#_slots_%E4%BD%BF%E7%94%A8-3"><span class="toc-number">11.</span> <span class="toc-text">_slots_使用</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%99%90%E5%88%B6%E5%AE%9E%E4%BE%8B%E5%B1%9E%E6%80%A7%E5%AE%9A%E4%B9%89%E4%B8%80%E4%B8%AA%E7%89%B9%E6%AE%8A%E7%9A%84-__slots__%E5%8F%98%E9%87%8F-3"><span class="toc-number">11.1.</span> <span class="toc-text">限制实例属性，定义一个特殊的 __slots__ 变量</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F-3"><span class="toc-number">11.1.1.</span> <span class="toc-text">注意：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#property-3"><span class="toc-number">11.2.</span> <span class="toc-text">@property</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-8"><span class="toc-number">11.3.</span> <span class="toc-text">总结：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E9%87%8D%E7%BB%A7%E6%89%BF-5"><span class="toc-number">11.4.</span> <span class="toc-text">多重继承</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#mixin-3"><span class="toc-number">11.4.1.</span> <span class="toc-text">MixIn</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E7%BB%A7%E6%89%BF-3"><span class="toc-number">11.4.2.</span> <span class="toc-text">多继承</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E9%87%8D%E7%BB%A7%E6%89%BF-6"><span class="toc-number">11.4.3.</span> <span class="toc-text">多重继承</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-9"><span class="toc-number">11.4.4.</span> <span class="toc-text">总结：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9A%E5%88%B6%E7%B1%BB-3"><span class="toc-number">11.5.</span> <span class="toc-text">定制类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#str%E5%9B%9E%E7%94%A8%E6%88%B7%E7%9C%8B%E5%88%B0%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2-3"><span class="toc-number">11.5.1.</span> <span class="toc-text">str () 回用户看到的字符串</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#repr%E8%BF%94%E5%9B%9E%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E8%80%85%E7%9C%8B%E5%88%B0%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2-3"><span class="toc-number">11.5.2.</span> <span class="toc-text">repr () 返回程序开发者看到的字符串</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_iter%E8%BF%94%E5%9B%9E%E4%B8%80%E4%B8%AA%E8%BF%AD%E4%BB%A3%E5%AF%B9%E8%B1%A1-3"><span class="toc-number">11.5.3.</span> <span class="toc-text">_iter () 返回一个迭代对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#getitem%E8%A1%A8%E7%8E%B0%E5%BE%97%E5%83%8Flist%E9%82%A3%E6%A0%B7%E6%8C%89%E7%85%A7%E4%B8%8B%E6%A0%87%E5%8F%96%E5%87%BA%E5%85%83%E7%B4%A0-3"><span class="toc-number">11.5.4.</span> <span class="toc-text">getitem () 表现得像 list 那样按照下标取出元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#getattr%E5%8A%A8%E6%80%81%E8%BF%94%E5%9B%9E%E4%B8%80%E4%B8%AA%E5%B1%9E%E6%80%A7-3"><span class="toc-number">11.5.5.</span> <span class="toc-text">getattr () 动态返回一个属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#call%E7%9B%B4%E6%8E%A5%E8%B0%83%E7%94%A8%E5%AE%9E%E4%BE%8B%E6%9C%AC%E8%BA%AB-3"><span class="toc-number">11.5.6.</span> <span class="toc-text">call () 直接调用实例本身</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E6%9E%9A%E4%B8%BE%E7%B1%BB-3"><span class="toc-number">11.6.</span> <span class="toc-text">使用枚举类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%85%83%E7%B1%BB%E5%88%9B%E5%BB%BA%E7%B1%BB-3"><span class="toc-number">11.7.</span> <span class="toc-text">使用元类 [创建类]</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F%E4%B8%80type-3"><span class="toc-number">11.7.1.</span> <span class="toc-text">方式一：type（）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F%E4%BA%8C%E5%85%83%E7%B1%BBmetaclass-3"><span class="toc-number">11.7.2.</span> <span class="toc-text">方式二：元类 metaclass</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF-3"><span class="toc-number">11.7.3.</span> <span class="toc-text">应用场景</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86try-3"><span class="toc-number">11.8.</span> <span class="toc-text">错误处理 try</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B0%83%E7%94%A8%E6%A0%88-3"><span class="toc-number">11.9.</span> <span class="toc-text">调用栈</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%B0%E5%BD%95%E9%94%99%E8%AF%AFlogging-3"><span class="toc-number">11.10.</span> <span class="toc-text">记录错误 logging</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8A%9B%E5%87%BA%E9%94%99%E8%AF%AFraise-3"><span class="toc-number">11.10.1.</span> <span class="toc-text">抛出错误 raise</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B0%83%E8%AF%95%E6%96%B9%E6%B3%95-3"><span class="toc-number">11.11.</span> <span class="toc-text">调试方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-print-3"><span class="toc-number">11.11.1.</span> <span class="toc-text">1. print（）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%96%AD%E8%A8%80assert-3"><span class="toc-number">11.11.2.</span> <span class="toc-text">2. 断言 assert</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-logging-3"><span class="toc-number">11.11.3.</span> <span class="toc-text">3. logging</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4pbd%E5%8D%95%E6%AD%A5%E6%89%A7%E8%A1%8C-3"><span class="toc-number">11.11.4.</span> <span class="toc-text">4.pbd 单步执行</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-pdbset_trace-3"><span class="toc-number">11.11.5.</span> <span class="toc-text">5. pdb.set_trace()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6ide%E5%B7%A5%E5%85%B7-3"><span class="toc-number">11.11.6.</span> <span class="toc-text">6.IDE 工具</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95-3"><span class="toc-number">11.12.</span> <span class="toc-text">单元测试</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E6%A1%A3%E6%B5%8B%E8%AF%95-3"><span class="toc-number">11.13.</span> <span class="toc-text">文档测试</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#io%E7%BC%96%E7%A8%8B-3"><span class="toc-number">11.14.</span> <span class="toc-text">IO 编程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%8C%E6%AD%A5io-3"><span class="toc-number">11.15.</span> <span class="toc-text">同步 IO</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%82%E6%AD%A5io-3"><span class="toc-number">11.16.</span> <span class="toc-text">异步 IO</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E8%AF%BB%E5%86%99-3"><span class="toc-number">11.17.</span> <span class="toc-text">文件读写</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%BB%E6%96%87%E4%BB%B6open-3"><span class="toc-number">11.17.1.</span> <span class="toc-text">读文件 open（）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#read%E4%B8%80%E6%AC%A1%E8%AF%BB%E5%8F%96%E5%85%A8%E9%83%A8%E5%86%85%E5%AE%B9-3"><span class="toc-number">11.17.2.</span> <span class="toc-text">read () 一次读取全部内容</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#fclose%E5%85%B3%E9%97%AD%E6%96%87%E4%BB%B6-3"><span class="toc-number">11.17.3.</span> <span class="toc-text">f.close（）关闭文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#with-openfilepath-r-as-f-printfread-3"><span class="toc-number">11.17.4.</span> <span class="toc-text">with open(&#39;filepath&#39;, &#39;r&#39;) as f: print(f.read())</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#fwrite%E5%86%99%E6%96%87%E4%BB%B6-3"><span class="toc-number">11.17.5.</span> <span class="toc-text">f.write () 写文件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#stringio%E5%92%8Cbytesio-3"><span class="toc-number">11.18.</span> <span class="toc-text">StringIO 和 BytesIO</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#stringio-3"><span class="toc-number">11.18.1.</span> <span class="toc-text">StringIO</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#bytesio-3"><span class="toc-number">11.18.2.</span> <span class="toc-text">BytesIO</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#os%E6%A8%A1%E5%9D%97-3"><span class="toc-number">11.19.</span> <span class="toc-text">os 模块</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#osname%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%B1%BB%E5%9E%8B-3"><span class="toc-number">11.19.1.</span> <span class="toc-text">os.name 操作系统类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#osuname%E8%AF%A6%E7%BB%86%E7%B3%BB%E7%BB%9F%E4%BF%A1%E6%81%AF-3"><span class="toc-number">11.19.2.</span> <span class="toc-text">os.uname () 详细系统信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#osenciron%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F-3"><span class="toc-number">11.19.3.</span> <span class="toc-text">os.enciron 环境变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ospathjoin%E8%BF%9E%E6%8E%A5%E8%B7%AF%E5%BE%84-3"><span class="toc-number">11.19.4.</span> <span class="toc-text">os.path.join( ) 连接路径</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ospathsplit%E6%8B%86%E5%88%86%E8%B7%AF%E5%BE%84-3"><span class="toc-number">11.19.5.</span> <span class="toc-text">os.path.split() 拆分路径</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ospathsplitext-%E6%96%87%E4%BB%B6%E6%89%A9%E5%B1%95%E5%90%8D-3"><span class="toc-number">11.19.6.</span> <span class="toc-text">os.path.splitext() 文件扩展名</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BA%8F%E5%88%97%E5%8C%96pickle%E6%A8%A1%E5%9D%97-3"><span class="toc-number">11.20.</span> <span class="toc-text">序列化 pickle 模块</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#pickledumps%E5%AF%B9%E8%B1%A1-%E5%AD%97%E8%8A%82%E5%BA%8F%E5%88%97%E5%8C%96-3"><span class="toc-number">11.20.1.</span> <span class="toc-text">pickle.dumps () 对象 -》字节 [序列化]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#pickleload%E5%AD%97%E8%8A%82-%E5%AF%B9%E8%B1%A1%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96-3"><span class="toc-number">11.20.2.</span> <span class="toc-text">pickle.load () 字节 -》对象【反序列化】</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#json%E6%A8%A1%E5%9D%97-3"><span class="toc-number">11.21.</span> <span class="toc-text">json 模块</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#jsondumpspython%E5%AF%B9%E8%B1%A1python%E5%AF%B9%E8%B1%A1-json%E5%AF%B9%E8%B1%A1-3"><span class="toc-number">11.21.0.1.</span> <span class="toc-text">json.dumps (python 对象) python 对象 -》json 对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#jsonloadsjson%E5%AF%B9%E8%B1%A1json%E5%AF%B9%E8%B1%A1-python%E5%AF%B9%E8%B1%A1-3"><span class="toc-number">11.21.0.2.</span> <span class="toc-text">json.loads (json 对象) json 对象 -》python 对象</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E5%8F%98%E4%B8%BA%E5%AD%97%E5%85%B8%E5%B9%B6%E5%BA%8F%E5%88%97%E5%8C%96-3"><span class="toc-number">11.21.1.</span> <span class="toc-text">类变为字典并序列化</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E5%92%8C%E7%BA%BF%E7%A8%8B-3"><span class="toc-number">11.22.</span> <span class="toc-text">进程和线程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E8%BF%9B%E7%A8%8B-3"><span class="toc-number">11.23.</span> <span class="toc-text">多进程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%AF%E5%8A%A8%E5%A4%A7%E9%87%8F%E5%AD%90%E8%BF%9B%E7%A8%8Bpool-3"><span class="toc-number">11.23.1.</span> <span class="toc-text">启动大量子进程 pool</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%A8%A1%E5%9D%97%E6%80%BB%E7%BB%93-3"><span class="toc-number">12.</span> <span class="toc-text">模块总结</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#doctest%E6%96%87%E6%A1%A3%E6%B5%8B%E8%AF%95-3"><span class="toc-number">12.1.</span> <span class="toc-text">doctest 文档测试</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ospath%E6%96%87%E4%BB%B6%E8%B7%AF%E5%BE%84-3"><span class="toc-number">12.2.</span> <span class="toc-text">os.path 文件路径</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#pickle%E5%BA%8F%E5%88%97%E5%8C%96-3"><span class="toc-number">12.3.</span> <span class="toc-text">pickle 序列化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#json-3"><span class="toc-number">12.4.</span> <span class="toc-text">json</span></a></li></ol></li></div><div class="related panel pjax" data-title="系列文章"></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="Yang shuping" data-src="/images/avatar.jpg"><p class="name" itemprop="name">Yang shuping</p><div class="description" itemprop="description"></div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">53</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">30</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">10</span> <span class="name">标签</span></a></div></nav><div class="social"></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>关于</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/computer-science/python/django/course-1/Django%E8%AF%A6%E7%BB%86%E4%BB%8B%E7%BB%8Dtodolist%E5%AE%9E%E4%BE%8B/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/shell%E5%AD%A6%E4%B9%A0/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/software-test/" title="分类于 软件测试">软件测试</a> <i class="ic i-angle-right"></i> <a href="/categories/software-test/test-tools/" title="分类于 软件测试工具学习">软件测试工具学习</a> <i class="ic i-angle-right"></i> <a href="/categories/software-test/test-tools/api-testing2/" title="分类于 接口测试工具">接口测试工具</a> <i class="ic i-angle-right"></i> <a href="/categories/software-test/test-tools/api-testing2/postman/" title="分类于 Postman">Postman</a></div><span><a href="/software-test/test-tools/api-testing2/postman/01postman%E5%AD%A6%E4%B9%A0/" title="01postman学习">01postman学习</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer/" title="分类于 电脑">电脑</a> <i class="ic i-angle-right"></i> <a href="/categories/computer/win/" title="分类于 电脑配置">电脑配置</a> <i class="ic i-angle-right"></i> <a href="/categories/computer/win/win10/" title="分类于 win10">win10</a></div><span><a href="/computer/win/win10/win10%E4%B8%93%E4%B8%9A%E7%89%88%E6%BF%80%E6%B4%BB/" title="win10专业版激活">win10专业版激活</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/vue/" title="分类于 Vue">Vue</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/vue/vue-error1/" title="分类于 前端Vue中常见问题集合">前端Vue中常见问题集合</a></div><span><a href="/computer-science/vue/vue-error1/01vue%E4%B8%AD%E5%8C%85%E5%AF%BC%E5%85%A5%E5%87%BA%E9%94%99code-ENOLOCAL/" title="01vue运行出错Cannot find module &#39;stylus&#39;">01vue运行出错Cannot find module 'stylus'</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/python/" title="分类于 Python">Python</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/python/django/" title="分类于 Django框架">Django框架</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/python/django/course-1/" title="分类于 零基础学Django框架">零基础学Django框架</a></div><span><a href="/computer-science/python/django/course-1/04django-%E6%95%B4%E4%BD%93%E8%AE%B2%E8%A7%A3/" title="04django--整体讲解">04django--整体讲解</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/vue/" title="分类于 Vue">Vue</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/vue/vue-study1/" title="分类于 初学Vue框架">初学Vue框架</a></div><span><a href="/computer-science/vue/vue-study1/01vue%E6%A0%87%E7%AD%BE%E6%8C%87%E4%BB%A4/" title="01vue标签指令">01vue标签指令</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer/" title="分类于 电脑">电脑</a> <i class="ic i-angle-right"></i> <a href="/categories/computer/app/" title="分类于 软件配置">软件配置</a> <i class="ic i-angle-right"></i> <a href="/categories/computer/app/install/" title="分类于 安装教程">安装教程</a></div><span><a href="/computer/app/mysql%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/" title="mysql安装教程">mysql安装教程</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer/" title="分类于 电脑">电脑</a> <i class="ic i-angle-right"></i> <a href="/categories/computer/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/" title="分类于 计算机基础">计算机基础</a> <i class="ic i-angle-right"></i> <a href="/categories/computer/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/networking/" title="分类于 网络基础">网络基础</a></div><span><a href="/computer/basics/networking/MAC%E5%9C%B0%E5%9D%80%E5%92%8CIP%E5%9C%B0%E5%9D%80%E7%9A%84%E8%81%94%E7%B3%BB/" title="MAC地址和IP地址的联系">MAC地址和IP地址的联系</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/python/" title="分类于 Python">Python</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/python/django/" title="分类于 Django框架">Django框架</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/python/django/course-1/" title="分类于 零基础学Django框架">零基础学Django框架</a></div><span><a href="/computer-science/python/django/course-1/07django-path%E7%9A%84%E8%AF%AD%E6%B3%95/" title="07django--path的语法">07django--path的语法</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/vue/" title="分类于 Vue">Vue</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/vue/vue-error1/" title="分类于 前端Vue中常见问题集合">前端Vue中常见问题集合</a></div><span><a href="/computer-science/vue/vue-error1/03VUE-%E6%8B%A6%E6%88%AA%E8%B7%AF%E5%BE%84%E6%8C%82%E8%BD%BD%E7%9A%84%E9%97%AE%E9%A2%98/" title="03VUE---拦截路径挂载的问题">03VUE---拦截路径挂载的问题</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/locust-prometheus-grafana%E5%8E%8B%E6%B5%8B/" title="locust+prometheus+grafana压测">locust+prometheus+grafana压测</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2010 – <span itemprop="copyrightYear">2023</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">Yang shuping @ sumya</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">195k 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">2:57</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"python学习廖雪峰/",favicon:{show:"（●´3｀●）やれやれだぜ",hide:"(´Д｀)大変だ！"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({model:{jsonPath:"live2d-widget-model-miku"},display:{position:"right",width:140,height:260},mobile:{show:!0},log:!1,pluginJsPath:"lib/",pluginModelPath:"assets/",pluginRootPath:"live2dw/",tagMode:!1})</script></body></html><!-- rebuild by hrmmi -->